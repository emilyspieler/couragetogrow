(function() {var e,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,ba={};function l(a,b){(ba[a]=ba[a]||[]).push(b);var c=aa;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function ca(){ca=function(){};if(!aa.Symbol){aa.Symbol=da;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var f=[],g=0,h=d.length;g<h;g++){var p;a:if(p=d[g],14>p.length)p=!1;else{for(var k=0;14>k;k++)if(p[k]!="jscomp_symbol_"[k]){p=!1;break a}p=!0}p?a.push(d[g]):f.push(d[g])}return f}};l("Object.keys",b);l("Object.getOwnPropertyNames",b);l("Object.getOwnPropertySymbols",function(c){return function(d){b.tk=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ea=0;
function da(a){return"jscomp_symbol_"+a+ea++}function fa(){ca();aa.Symbol.iterator||(aa.Symbol.iterator=aa.Symbol("iterator"));fa=function(){}}function m(a){fa();ca();fa();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function n(a){if(!(a instanceof Array)){a=m(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function q(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]}function ha(a,b){fa();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
var ia="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function t(a,b){if(b){for(var c=aa,d=a.split("."),f=0;f<d.length-1;f++){var g=d[f];g in c||(c[g]={});c=c[g]}d=d[d.length-1];f=c[d];b=b(f);if(b!=f){a=ba[a]||[];for(f=0;f<a.length;f++)b=a[f](b);ia(c,d,{configurable:!0,writable:!0,value:b})}}}
t("Array.prototype.keys",function(a){return a?a:function(){return ha(this,function(a){return a})}});function u(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
t("WeakMap",function(a){function b(a){this.$c=(p+=Math.random()+1).toString();if(a){ca();fa();a=m(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!u(a,g)){var b={};b[g]=h;ia(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(u(b,g)&&u(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function f(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),d=
new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};l("Object.getOwnPropertyNames",d);l("Object.keys",d);l("Reflect.enumerate",d);l("Reflect.ownKeys",d);l("Object.freeze",f);l("Object.preventExtensions",f);l("Object.seal",f);var p=0;b.prototype.set=function(a,b){c(a);if(!u(a,g))throw Error("WeakMap key fail: "+a);a[g][this.$c]=b;return this};b.prototype.get=function(a){return u(a,
g)?a[g][this.$c]:void 0};b.prototype.has=function(a){return u(a,g)&&u(a[g],this.$c)};b.prototype.delete=function(a){return u(a,g)&&u(a[g],this.$c)?delete a[g][this.$c]:!1};return b});
t("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.gb,d={next:function(){if(c){for(;c.head!=a.gb;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.Tc[c];if(d&&u(a.Tc,c))for(a=0;a<d.length;a++){var f=d[a];if(b!==b&&f.key!==
f.key||b===f.key)return{id:c,list:d,index:a,ua:f}}return{id:c,list:d,index:-1,ua:void 0}}function f(a){this.Tc={};this.gb=b();this.size=0;if(a){a=m(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(m([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),f=d.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;
f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;ca();fa();var g=new WeakMap;f.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.Tc[c.id]=[]);c.ua?c.ua.value=b:(c.ua={next:this.gb,previous:this.gb.previous,head:this.gb,key:a,value:b},c.list.push(c.ua),this.gb.previous.next=c.ua,this.gb.previous=c.ua,this.size++);return this};f.prototype.delete=function(a){a=d(this,a);return a.ua&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.Tc[a.id],a.ua.previous.next=a.ua.next,a.ua.next.previous=a.ua.previous,a.ua.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.Tc={};this.gb=this.gb.previous=b();this.size=0};f.prototype.has=function(a){return!!d(this,a).ua};f.prototype.get=function(a){return(a=d(this,a).ua)&&a.value};f.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};f.prototype.keys=function(){return c(this,function(a){return a.key})};f.prototype.values=function(){return c(this,
function(a){return a.value})};f.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var h=0;return f});t("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var f=arguments[d];if(f)for(var g in f)u(f,g)&&(a[g]=f[g])}return a}});
t("String.prototype.includes",function(a){return a?a:function(a,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(a,c||0)}});
t("Array.prototype.fill",function(a){return a?a:function(a,c,d){var f=this.length||0;0>c&&(c=Math.max(0,f+c));if(null==d||d>f)d=f;d=Number(d);0>d&&(d=Math.max(0,f+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});t("Array.prototype.entries",function(a){return a?a:function(){return ha(this,function(a,c){return[a,c]})}});t("Array.prototype.values",function(a){return a?a:function(){return ha(this,function(a,c){return c})}});
t("Array.prototype.find",function(a){return a?a:function(a,c){a:{var d=this;d instanceof String&&(d=String(d));for(var f=d.length,g=0;g<f;g++){var h=d[g];if(a.call(c,h,g,d)){a=h;break a}}a=void 0}return a}});function v(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,ja(b))}
function ja(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function ka(a){this.type=a}ka.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};ka.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
ka.prototype.Ja=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var w=new ka("string"),la=new ka("boolean"),ma=new ka("number"),na=new ka("object");function x(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function y(a,b){return ma.optional(a,b)||0}
function B(a,b){return ma.optional(a,b)}function C(a,b){return w.required(a,b)}function D(a,b){return w.optional(a,b)}function E(a,b){return la.optional(a,b)||!1}function F(a,b){return la.optional(a,b)}function G(a,b,c){return a(na.required(b,c))}function H(a,b,c){return(b=na.optional(b,c))?a(b):b}function I(a,b,c){return(b=na.Ja(b,c))?b.map(a):b}function J(a,b,c){return a(b,w.required(b,c))}function K(a,b,c){c=w.optional(b,c);return null!=c?a(b,c):c}
function pa(a,b,c){return qa(ra,ta.bind(null,a),b,c)}function qa(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var f=new Map,g=m(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,f.set(a(c,h),b(c,h,d));return f}function ra(a,b){return b}function ua(a,b,c){b=c[b];if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}
function ta(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function va(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function wa(a){this.type=a}
wa.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};wa.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
wa.prototype.Ja=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var L=new wa("string"),xa=new wa("boolean"),ya=new wa("number"),za=new wa("object");function Aa(a,b){return 0!==b?ya.required(a,b):void 0}function Ba(a,b){return!1!==b?xa.required(a,b):void 0}
function Ca(a,b,c,d){if(!(d instanceof Map))throw new TypeError('expected Map for property "'+c+'", found: '+JSON.stringify(d));if(d.size){for(var f={},g=m(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,f[a(c,h)]=b(c,d.get(h));return f}}function Da(a,b){if("string"!==typeof b)throw new TypeError('expected string key in property "'+a+'", found: '+JSON.stringify(b));return b}
function Ea(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function Fa(a,b){if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};function Ga(){}function M(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid argument":Ha.apply(Ga,[].concat([b],n(d))));}function N(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid state":Ha.apply(Ga,[].concat([b],n(d))));}
function Ia(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(null==a)throw Error(2>arguments.length?"argument is null":Ha.apply(Ga,[].concat([b],n(d))));return a}function Ha(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var f=0;return a.replace(/\{}/g,function(){return f<c.length?c[f++]:"{}"})};function Ja(a,b){switch(b){case "THUMBNAIL":return"THUMBNAIL";case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return"SCREEN";case "SCREEN_2X":return"SCREEN_2X";case "SCREEN_3X":return"SCREEN_3X";case "PRINT":return"PRINT";case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function Ka(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function La(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}function Ma(a){this.id=a.id;this.version=a.version}Ma.prototype.g=function(){return this.id};Ma.prototype.getVersion=function(){return this.version};function Na(a){return new Ma({id:C("id",a),version:y("version",a)})}
function Oa(a){this.ii=a.ii;this.hi=a.hi;this.Sg=a.Sg;this.nh=a.nh||[]}function Pa(a){return new Oa({ii:y("spritesWide",a),hi:y("spritesHigh",a),Sg:E("fullyRecolorable",a),nh:I(Qa,"layers",a)})}function Sa(a){this.type=a.type;this.mh=a.mh;this.color=a.color}function Qa(a){return new Sa({type:J(Ka,"type",a),mh:B("layerIndex",a),color:D("color",a)})};function Ta(a,b){switch(b){case "MEMBER":return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}function Ua(a,b){switch(b){case "MEMBER":return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}
function Va(a){switch(a){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "status", found: '+JSON.stringify(a));}}function Wa(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Xa(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status;this.sf=a.sf}Xa.prototype.getVersion=function(){return this.version};function Ya(a){var b=Aa("version",a.version),c;c=a.sizes;c=Ca(Da,Ea.bind(null,Za),"sizes",c);var d;d=a.status;d=L.optional("status",d?Va(d):null);return{version:b,sizes:c,status:d,isDefault:Ba("isDefault",a.sf)}}function $a(a){return new Xa({version:y("version",a),sizes:pa(ab,"sizes",a),status:K(Wa,"status",a),sf:E("isDefault",a)})}
function bb(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}bb.prototype.Ga=function(){return this.width};bb.prototype.va=function(){return this.height};bb.prototype.Fa=function(){return this.url};function Za(a){return{size:Aa("size",a.size),width:Aa("width",a.width),height:Aa("height",a.height),url:L.required("url",a.url)}}function ab(a){return new bb({size:y("size",a),width:y("width",a),height:y("height",a),url:C("url",a)})}
function cb(a){this.id=a.id;this.username=a.username;this.pe=a.pe;this.displayName=a.displayName;this.ce=a.ce;this.Md=a.Md;this.Ca=a.Ca;this.Ob=a.Ob;this.locale=a.locale;this.$e=a.$e}e=cb.prototype;e.g=function(){return this.id};e.K=function(){return this.username};e.$d=function(){return this.pe};e.Ma=function(){return this.displayName};e.Yd=function(){return this.ce};e.Xd=function(){return this.Md};e.Wc=function(){return this.Ca};e.Tg=function(){return this.Ob};e.Xc=function(){return this.locale};
function fb(a){return new cb({id:C("id",a),username:D("username",a),pe:D("personalBrand",a),displayName:D("displayName",a),ce:D("homepage",a),Md:D("city",a),Ca:D("countryCode",a),Ob:G($a,"avatar",a),locale:C("locale",a),$e:E("deactivated",a)})}e.pf=function(){var a=this.Ob&&this.Ob.sizes.get("50");return a&&a.url||null};function gb(a){this.user=a.user;this.email=a.email;this.locale=a.locale;this.Ac=a.Ac;this.Xg=a.Xg||[]}gb.prototype.Na=function(){return this.user};gb.prototype.Xc=function(){return this.locale};
function hb(a){return new gb({user:G(fb,"user",a),email:D("email",a),locale:C("locale",a),Ac:J(Ua,"role",a),Xg:w.Ja("groups",a)})}function ib(a){this.id=a.id;this.ng=a.ng;this.displayName=a.displayName;this.Qa=a.Qa;this.Ye=a.Ye;this.yf=a.yf;this.Vf=a.Vf;this.Ue=a.Ue;this.Xh=a.Xh;this.zb=a.zb;this.Th=a.Th;this.sh=a.sh}ib.prototype.g=function(){return this.id};ib.prototype.Ma=function(){return this.displayName};
function jb(a){return new ib({id:C("id",a),ng:D("brandname",a),displayName:D("displayName",a),Qa:E("personal",a),Ye:E("contributor",a),yf:E("layoutContributor",a),Vf:E("thirdParty",a),Ue:D("brandColor",a),Xh:H(kb,"settings",a),zb:B("creationDate",a),Th:H(lb,"samlIdpSettings",a),sh:H(mb,"loginPolicy",a)})}function nb(a){return{brand:L.required("brand",a.l),joinPath:L.required("joinPath",a.jk)}}function ob(a){this.hh=a.hh}function pb(a){return new ob({hh:C("joinUrl",a)})}
function qb(a){var b=L.required("brand",a.l),c=L.optional("removeEmail",a.lk),d;d=xa.optional("removeInviteLink",a.mk);return{brand:b,removeEmail:c,removeInviteLink:d,email:L.optional("email",a.email),groupToAdd:L.optional("groupToAdd",a.ek),groupToRemove:L.optional("groupToRemove",a.fk)}}function rb(){}function sb(){return new rb}
function tb(a){this.Zg=a.Zg;this.gg=a.gg;this.fg=a.fg;this.xg=a.xg;this.wg=a.wg;this.Qh=a.Qh;this.Ih=a.Ih;this.mi=a.mi;this.Sh=a.Sh;this.ni=a.ni;this.lg=a.lg;this.kg=a.kg;this.Rh=a.Rh;this.ki=a.ki}function kb(a){return new tb({Zg:D("A",a),gg:D("B",a),fg:D("C",a),xg:E("D",a),wg:E("E",a),Qh:E("F",a),Ih:E("G",a),mi:E("H",a),Sh:E("I",a),ni:E("J",a),lg:E("K",a),kg:E("L",a),Rh:E("M",a),ki:E("N",a)})}function ub(a){this.eh=a.eh;this.dh=a.dh;this.bh=a.bh;this.ah=a.ah;this.eg=a.eg}
function lb(a){return new ub({eh:J(vb,"A",a),dh:C("B",a),bh:C("C",a),ah:C("D",a),eg:D("E",a)})}function vb(a,b){switch(b){case "A":return"ACTIVE_DIRECTORY";case "D":return"DEFAULT";default:throw new TypeError('expected IdpType for property "'+a+'", found: '+JSON.stringify(b));}}function wb(a){this.$g=a.$g}function mb(a){return new wb({$g:D("A",a)})}function xb(a){return{user:L.required("user",a.user),token:L.required("token",a.Ic)}}
function yb(a){var b=L.optional("brand",a.l),c=Ca(Da,Ta,"add",a.add),d;d=a.$j;d=za.optional("addByToken",d?xb(d):null);var f=Ca(Da,Ta,"update",a.update),g;g=L.Ja("remove",a.remove);return{brand:b,add:c,addByToken:d,update:f,remove:g,includeAvatars:Ba("includeAvatars",a.gk),supportErrorResponse:Ba("supportErrorResponse",a.sk)}}function zb(a){this.type=a.type}
function Ab(a){switch(a.type){case "SUCCESS":return M("SUCCESS"===a.type),new Bb({Bi:G(jb,"updatedBrand",a),ke:I(hb,"members",a)});case "ERROR":return M("ERROR"===a.type),new Cb({message:C("message",a)});default:throw Error("unknown case: "+a.type);}}function Bb(a){this.type="SUCCESS";this.Bi=a.Bi;this.ke=a.ke||[]}q(Bb,zb);Bb.prototype.Vg=function(){return this.ke};function Cb(a){this.type="ERROR";this.message=a.message}q(Cb,zb);function Db(a){this.Kh=a.Kh};function Eb(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.bk||null;this.personal=a.Qa||!1;this.contributor=a.Ye||!1;this.layoutContributor=a.yf||!1;this.thirdParty=a.Vf||!1;this.brandColor=a.Ue||null}Eb.prototype.g=function(){return this.id};Eb.prototype.Ma=function(){return this.displayName};function Fb(a){return a?v(Eb,a):null}
function Gb(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.pe||"";this.displayName=a.displayName||"";this.homepage=a.ce||null;this.city=a.Md||null;this.countryCode=a.Ca||null;this.avatar=a.Ob||null;this.roles=a.nk||[];this.deactivated=a.$e||!1;this.locale=a.locale||"en"}e=Gb.prototype;e.g=function(){return this.id};e.K=function(){return this.username};e.$d=function(){return this.personalBrand};e.Ma=function(){return this.displayName};e.Yd=function(){return this.homepage};
e.Xd=function(){return this.city};e.Wc=function(){return this.countryCode};e.kf=function(){return this.avatar};e.ae=function(){return this.roles};function Hb(a){if(!a)return null;a=v(Gb,a);a.avatar&&(a.avatar=$a(a.avatar));return a}function Ib(a){return Hb(a)}e.yd=function(){return fb(Object.assign({},this,{avatar:this.avatar&&Ya(this.avatar)}))};e.Wd=function(a){var b=this.kf();return b&&(a=b.sizes.get(a))?a.Fa():null};e.pf=function(){return this.Wd("50")};e.wa=function(){return"UAAAAAAAAAA"===this.id};
function Jb(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailStatus=null;this.username="";this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.roles=[];this.personalBrand="";this.brands={};this.locale="";this.phoneNumber=this.profession=null}e=Jb.prototype;e.g=function(){return this.id};e.Ma=function(){return this.displayName};e.K=function(){return this.username};
e.Yd=function(){return this.homepage};e.Xd=function(){return this.city};e.Wc=function(){return this.countryCode};e.kf=function(){return this.avatar};e.ae=function(){return this.roles};e.$d=function(){return this.personalBrand};e.Xc=function(){return this.locale};e.setLocale=function(a){this.locale=a};e.Wd=function(a){var b=this.kf();return b&&(a=b.sizes.get(a))?a.Fa():null};e.wa=function(){return"UAAAAAAAAAA"===this.id};
e.yd=function(){return Hb({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&Ya(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};var Kb=$a({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});
function Lb(){this.includeAvatars=this.role=this.continuation=this.limit=this.skip=this.brand=this.query=this.emails=this.ids=null}function Mb(a){var b=new Lb;b.ids=a;return b}Lb.prototype.Ne=function(a){this.brand=a;return this};Lb.prototype.Pe=function(a){this.limit=a;return this};Lb.prototype.Oe=function(a){this.continuation=a;return this};function Nb(){this.users=[];this.emails=[]}Nb.prototype.rc=function(){return this.users};
function Ob(a){if(!a)return null;a=v(Nb,a);a.users=a.users.map(Hb);return a}function Pb(){this.user="";this.preferredHomepage=this.privacyPolicyNotified=this.profession=this.generateApiKeyWithType=this.avatar=this.locale=this.countryCode=this.city=this.homepage=this.currentPassword=this.roles=this.displayName=this.password=this.username=this.emailVerified=this.email=null}function Qb(a){var b=new Pb;b.user=a;return b}e=Pb.prototype;e.g=function(){return this.user};
function Rb(a,b){a.username=b;return a}e.K=function(){return this.username};function Sb(a,b){a.displayName=b;return a}e.Ma=function(){return this.displayName};function Tb(a,b){a.homepage=b;return a}e.Yd=function(){return this.homepage};function Ub(a,b){a.city=b;return a}e.Xd=function(){return this.city};function Vb(a,b){a.countryCode=b;return a}e.Wc=function(){return this.countryCode};e.Xc=function(){return this.locale};function Wb(){this.user=void 0;this.verificationEmailSent=null}
Wb.prototype.Na=function(){return this.user};function Xb(a){if(!a)return null;a=v(Wb,a);var b;b=a.user;var c;b?(c=v(Jb,b),c.avatar&&(c.avatar=$a(c.avatar)),b.userNotificationSettings&&(c.userNotificationSettings=new Db({Kh:E("receiveSocialEmails",b.userNotificationSettings)})),b=c):b=null;a.user=b;return a}function Yb(){this.brandname=this.username=this.email=this.assignee=null}function Zb(a){var b=new Yb;b.assignee=null;b.email=null;b.username=a;b.brandname=null;return b}
function $b(a,b){var c=new Yb;c.assignee=b;c.email=null;c.username=a;c.brandname=null;return c}function ac(){this.brandname=this.username=this.email=null}ac.prototype.K=function(){return this.username};function bc(a){return a?v(ac,a):null}function cc(a){this.version=a?a.version:0;this.formPostUrl=a?a.dk:"";this.formFields=a?a.hf:{}}cc.prototype.getVersion=function(){return this.version};function dc(a){return a?v(cc,a):null}function ec(){}function fc(a){return Object.freeze(v(ec,a))}
function gc(){}gc.prototype.Ea=function(){return this.continuation};gc.prototype.getCount=function(){return this.count};function hc(a){return Object.freeze(v(gc,a))}function ic(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.Ac}ic.prototype.Na=function(){return this.user};function jc(a){a=v(ic,a);a.user=Hb(a.user);return Object.freeze(a)}function kc(){}e=kc.prototype;e.Ne=function(a){this.brand=a;return this};e.ia=function(){return this.brand};
e.Oe=function(a){this.continuation=a;return this};e.Ea=function(){return this.continuation};e.Pe=function(a){this.limit=a;return this};e.Yb=function(){return this.limit};function lc(a){a.includeAvatars=!0;return a}e.rc=function(){return this.users};function mc(a){a=void 0===a?{}:a;this.members=a.ke;this.continuation=a.H}mc.prototype.Vg=function(){return this.members};mc.prototype.Ea=function(){return this.continuation};mc.prototype.getCount=function(){return this.count};
function nc(a){a=v(mc,a);a.members&&(a.members=a.members.map(jc));return Object.freeze(a)};function oc(a){this.Vb=a.Vb;this.Wb=a.Wb;this.user=a.user;this.l=a.l;this.Qa=a.Qa;this.yb=a.yb;this.Wa=a.Wa;this.Ca=a.Ca;this.Mb=a.Mb}function pc(a){var b=C("experience",a),c;c=qa(ra,va,"experiments",a);return new oc({Vb:b,Wb:c||new Map,user:D("user",a)||null,l:D("brand",a)||null,Qa:F("personal",a)||null,yb:B("cohort",a)||null,Wa:D("tier",a)||null,Ca:D("countryCode",a)||null,Mb:D("userLocale",a)||null})};function O(a){this.config=a;this.Cg=null;this.ready=!1}
function qc(a,b){var c=Object.assign({},b),d={};a.Cg&&(c.design=a.Cg);c.experience=a.config.Vb;a.config.Wb.forEach(function(a,b){c["Experiment_"+b]=a;d[b]=a});c.experiments=JSON.stringify(d);a.config.l&&(c.brand=a.config.l);null!=a.config.Qa&&(c.personal=a.config.Qa);null!=a.config.yb&&(c.cohort=a.config.yb);a.config.Wa&&(c.tier=a.config.Wa);null!=a.config.Ca&&(c.country_code=a.config.Ca);null!=a.config.Mb&&(c.locale=a.config.Mb);c.product_variant="web-1";rc(c);return c}
function rc(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}
function sc(a,b){var c=window.lastUserTraits||tc(new uc),d=vc(new uc,"__user",a);a=a!==c.get("__user");if(b&&wc(b)){for(var f=m(b),g=f.next();!g.done;g=f.next()){var h=m(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=m(b.keys());for(f=c.next();!f.done;f=c.next())f=f.value,vc(d,f,b.get(f))}a&&(window.lastUserTraits=tc(d));return a}function wc(a){M(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
O.prototype.zoom=function(a,b,c,d,f){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:f})};O.prototype.Wc=function(){return this.config.Ca};function xc(a,b){this.name=a;this.zc={};b&&(this.zc.category=b)}function Q(a,b,c){if(a.zc[b])throw Error("duplicated property");a.zc[b]=c}function uc(){this.items=[]}function vc(a,b,c){a.items.push({key:b,value:c});return a}function tc(a){return new Map(a.items.map(function(a){return[a.key,a.value]}))};function yc(a,b){this.Te=a;this.namespace=void 0===b?null:b}function zc(){if(window.localStorage)return new yc(window.localStorage,void 0);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}yc.prototype.setItem=function(a,b){try{return this.Te.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};yc.prototype.getItem=function(a){return this.Te.getItem(null==this.namespace?a:this.namespace+"."+a)};
yc.prototype.removeItem=function(a){this.Te.removeItem(null==this.namespace?a:this.namespace+"."+a)};function Ac(a){oc.call(this,a)}q(Ac,oc);function Bc(a){O.call(this,a);this.Sa=null}q(Bc,O);e=Bc.prototype;e.track=function(a,b){window.console.log("analytics:track",this.Sa,a,qc(this,b));return P.resolve()};
e.identify=function(a,b,c){this.Sa=a;if(sc(a,b)){var d=window.lastUserTraits||tc(new uc),f=vc(new uc,"__user",a);if(d&&wc(d))for(var g=m(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,"__user"!==h&&vc(f,h,d.get(h));if(b&&wc(b))for(d=m(b.keys()),h=d.next();!h.done;h=d.next())g=h.value,vc(f,g,b.get(g));window.lastUserTraits=tc(f);window.console.log("analytics:identify",a,b,c)}return P.resolve()};e.alias=function(a){window.console.log("analytics:alias",this.Sa,a);this.Sa=a};
e.set=function(a){window.console.log("analytics:set",this.Sa,a);return P.resolve()};e.union=function(a){window.console.log("analytics:union",this.Sa,a)};var Dc=new Cc;function Cc(){}e=Cc.prototype;e.setInterval=function(a,b){return window.setInterval(a,b)};e.clearInterval=function(a){window.clearInterval(a)};e.setTimeout=function(a,b){return window.setTimeout(a,b)};e.clearTimeout=function(a){window.clearTimeout(a)};e.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};e.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function Ec(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function Fc(a){oc.call(this,a);this.Ic=a.Ic}q(Fc,oc);function Gc(a,b){var c=this;O.call(this,a);this.Ic=a.Ic;this.F=b;this.rf=null;this.defer(function(){return Hc(c)})}q(Gc,O);e=Gc.prototype;e.track=function(a,b){var c=this;return this.defer(function(d){Hc(c).track(a,qc(c,b),{},function(){return d()})})};e.identify=function(a,b,c){var d=this;return sc(a,b)?this.rf=this.defer(function(f){Hc(d).identify(a,d.Fe(b),c,function(){return f()})}):this.rf||P.resolve()};e.alias=function(a){var b=this;this.defer(function(){Hc(b).alias(a)})};
e.set=function(a){var b=this;return this.defer(function(c){Hc(b).identify(b.Fe(a),function(){return c()})})};e.union=function(){};e.Fe=function(a){var b={};if(a&&wc(a)){a=m(a);for(var c=a.next();!c.done;c=a.next()){var d=m(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function Ic(){N("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}
function Hc(a){var b=Ic();window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,b.load(a.Ic),b.page({path:location.pathname,url:location.href},{}));return b}e.defer=function(a){var b=this;return new P(function(c){b.F.setTimeout(function(){return a(c)},0)})};function Jc(a){oc.call(this,a);this.url=a.url}q(Jc,oc);function Kc(a,b,c){O.call(this,a);this.url=a.url;this.F=b;this.qh=c}q(Kc,O);
function Lc(a,b){b=!(!b||!b.getItem("sensorsDataLoggingEnabled"));window.sensorsDataAnalytic201505="sa";var c={},d={};window.sa=(d.para=(c.name="sa",c.server_url=a.url,c.heatmap={},c.cross_domain=!0,c.show_log=b,c.send_type="ajax",c),d);b=new P(function(a,b){var c=document.createElement("script");c.src="https://static.canva.com/static/lib/sensorsdata-1.10.9.min.js";c.onerror=function(a){return b(a)};c.onload=function(){return a(window.sa)};document.body.appendChild(c)});b.then(function(a){var b=["utm_source","utm_medium",
"utm_term","utm_content","utm_campaign"];window.location.search.substring(1).split("\x26").forEach(function(c){var d=m(c.split("\x3d"));c=d.next().value;d=d.next().value;if(b.includes(c)){var k={};d&&a&&a.zj&&a.zj((k["$latest_"+c]=decodeURIComponent(d),k))}})});return new Kc(a,Dc,b)}e=Kc.prototype;e.track=function(a,b){var c=this;return this.qh.then(function(d){return d.track(a,qc(c,b))})};e.identify=function(a,b){var c=this;return this.qh.then(function(d){d.login(a);b&&d.setProfile(c.Fe(b))})};
e.alias=function(){};e.set=function(){};e.union=function(){};e.Fe=function(a){var b={};if(a&&wc(a)){a=m(a);for(var c=a.next();!c.done;c=a.next()){var d=m(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function Mc(a,b){Ic();if(a instanceof Ac)b=new Bc(a);else if(a instanceof Fc)b=new Gc(a,Dc);else if(a instanceof Jc)b=Lc(a,b);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}
function Nc(){var a=x(window.analyticsConfig),b=C("impl",a),c=null;try{c=zc()}catch(d){}switch(b){case "console":return Mc(new Ac(pc(a)),c);case "segment":return b=pc(a),a=new Fc({Vb:b.Vb,Wb:b.Wb,user:b.user,l:b.l,Qa:b.Qa,yb:b.yb,Wa:b.Wa,Ic:C("segmentWriteKey",a),Ca:b.Ca,Mb:b.Mb}),Mc(a,c);case "sensorsdata":return b=pc(a),a=new Jc({Vb:b.Vb,Wb:b.Wb,user:b.user,l:b.l,Qa:b.Qa,yb:b.yb,Wa:b.Wa,url:C("sensorsDataUrl",a),Ca:b.Ca,Mb:b.Mb}),Mc(a,c);default:throw Error('No such analytics type: "'+b+'"');}}
;function Oc(){this.xhr=null}Oc.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};Oc.prototype.finish=function(){this.xhr=null};function Pc(a){this.dg=a&&a.analyticsContext||null;this.Qe=a&&a.authToken||null;this.Re=a&&a.authzToken||null;this.mg=a&&a.brandRestriction||null;this.og=a&&a.buildName||null;this.pg=a&&a.buildSha||null;this.jc=a&&a.csrfTokens||{};this.Of=a&&a.serverRoot||null;this.Dj=!!this.Of;this.Ej=this.Of?this.Of+"/_ajax":"/_ajax"}
function Qc(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}Pc.prototype.get=function(a,b){var c=new Oc;this.send("GET",a,null,!0,null,c,b);return c};function R(a,b){var c;return(new P(function(d,f){c=a.get(b,function(a,b){200<=a&&300>a?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}Pc.prototype.post=function(a,b,c){var d=new Oc;Rc(this,"POST",a,b,!0,0,d,c);return d};
function S(a,b,c){var d;return(new P(function(f,g){d=a.post(b,c,function(a,b){200<=a&&300>a?f([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function Sc(a,b,c){var d=new Oc;Rc(a,"DELETE",b,null,!0,0,d,c);return d}function Tc(a,b){var c;return(new P(function(d,f){c=Sc(a,b,function(a,b){200<=a&&300>a?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}
function Rc(a,b,c,d,f,g,h,p){var k=Qc(c);if(k in a.jc){var r=a.jc[k];a.send(b,c,d,f,r,h,function(z,A){418==z&&1>g?(a.jc[k]==r&&delete a.jc[k],Rc(a,b,c,d,f,g+1,h,p)):(p&&p(z,A),h.finish())})}else a.send("GET","/csrf"+k,null,f,null,h,function(r,A){200==r?(k in a.jc||(a.jc[k]=String(A)),Rc(a,b,c,d,f,g,h,p)):(p(r,null),h.finish())})}
Pc.prototype.send=function(a,b,c,d,f,g,h){function p(){4==r.readyState&&k()}function k(){var a,b,c;try{a=r.status;var d,f;try{d=r.getResponseHeader("X-Canva-Auth")}catch(k){}try{f=r.getResponseHeader("X-Canva-Authz")}catch(k){}d&&(z.Qe="!"!=d?d:null);f&&(z.Re="!"!=f?f:null);b=r.responseText}catch(k){if(k.message&&k.message.match(/c00c023f/))a=0,b="";else throw g.finish(),k;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(k){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.Ej+b;var r=g.xhr=new XMLHttpRequest,z=this;r.open(a,b,d);this.Dj&&(r.withCredentials=!0);"GET"!=a&&f&&r.setRequestHeader("X-Csrf-Token",f);this.dg&&r.setRequestHeader("X-Canva-Analytics",this.dg);this.Qe&&r.setRequestHeader("X-Canva-Auth",this.Qe);this.Re&&r.setRequestHeader("X-Canva-Authz",this.Re);this.mg&&r.setRequestHeader("X-Canva-Brand",this.mg);this.og&&r.setRequestHeader("X-Canva-Build-Name",
this.og);this.pg&&r.setRequestHeader("X-Canva-Build-Sha",this.pg);null===c||void 0===c?a=null:(r.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(r.onreadystatechange=p,r.send(a)):(r.send(a),k())};function T(a){this.Zi=a.fallback;this.rh=a.localePrecedence;this.Af={};this.i=a.messages;this.yj=this.rh[0];this.Bj=!!a.returnKeys}T.prototype.format=function(a,b){if(this.Bj)return[].join.call(arguments,":");var c=Uc(this,a);return c.format.call(c,[].slice.call(arguments,1))};
T.prototype.dj=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],n(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function Uc(a,b){if(a.Af.hasOwnProperty(b))return a.Af[b];var c=a.yj,d;a.rh.some(function(c){d=a.i[c]&&a.i[c][b];return void 0!==d});d||(c=a.Zi,d=a.i[c]&&a.i[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,Vc);return a.Af[b]=c}var Vc={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function Wc(){this.config=window.cmsg;this.Df=this.Hb=this.Xe=this.o=this.pa=this.za=this.ha=this.cf=null}function Xc(a){a.cf||(a.cf=new Yc(a.config));return a.cf}function Zc(a){a.ha||(a.ha=new $c(a.config));return a.ha}function ad(a){a.za||(a.za=new bd(a.config));return a.za}function cd(a){a.pa||(a.pa=new dd(a.config));return a.pa}function ed(a){a.o||(a.o=new fd(a.config));return a.o}function gd(a){a.Xe||(a.Xe=new hd(a.config));return a.Xe}
function id(a){a.Df||(a.Df=new jd(a.config));return a.Df}function dd(a){T.apply(this,arguments)}q(dd,T);function Yc(a){T.apply(this,arguments)}q(Yc,T);function $c(a){T.apply(this,arguments)}q($c,T);e=$c.prototype;e.Gc=function(){return this.format("designCardStateUnderReview")};e.Ec=function(){return this.format("designCardStateForSale")};e.Dc=function(){return this.format("designCardStateBrandPublic")};e.Fc=function(){return this.format("designCardStatePublic")};e.Hc=function(){return this.format("designCardStateViewOnly")};
function bd(a){T.apply(this,arguments)}q(bd,T);bd.prototype.fd=function(){return this.format("likeButtonLike")};bd.prototype.Ha=function(){return this.format("likeButtonLiked")};function fd(a){T.apply(this,arguments)}q(fd,T);fd.prototype.Jj=function(){return this.format("userProfileShareText")};fd.prototype.Ri=function(){return this.format("userProfileShareDismissTitle")};function hd(a){T.apply(this,arguments)}q(hd,T);hd.prototype.kc=function(){return this.format("commentListDeleteLabel")};
hd.prototype.hj=function(){return this.format("commentListInputPlaceholder")};function kd(a){T.apply(this,arguments)}q(kd,T);function jd(a){T.apply(this,arguments)}q(jd,T);jd.prototype.oa=function(a,b){return this.format("newLightboxCurrentFrame",a,b)};function ld(a,b,c,d,f){return a.format("newLightboxEmbedCodeBy",c,b,d,f)}function md(a,b,c){return a.format("newLightboxBylineHtml",b,c)};function nd(a){this.media=a.media;this.version=a.version;this.title=a.title;this.l=a.l;this.Zb=a.Zb;this.kj=a.kj;this.Ni=a.Ni;this.Mj=a.Mj;this.te=a.te;this.mj=a.mj;this.Fj=a.Fj;this.lj=a.lj;this.document=a.document;this.Ui=a.Ui;this.user=a.user}nd.prototype.getVersion=function(){return this.version};nd.prototype.ia=function(){return this.l};nd.prototype.getDocument=function(){return this.document};nd.prototype.Na=function(){return this.user};
function od(a){this.id=a.id;this.Fh=a.Fh;this.l=a.l;this.status=a.status;this.Jh=a.Jh;this.xi=a.xi;this.zh=a.zh;this.Ch=a.Ch;this.Bh=a.Bh;this.ig=a.ig;this.Lg=a.Lg}od.prototype.g=function(){return this.id};od.prototype.ia=function(){return this.l};
function pd(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function qd(a){this.id=a.id;this.displayName=a.displayName;this.oh=a.oh;this.Di=a.Di;this.Wa=a.Wa;this.Mg=a.Mg;this.yi=a.yi;this.jg=a.jg;this.te=a.te}qd.prototype.g=function(){return this.id};qd.prototype.Ma=function(){return this.displayName};
function rd(a){return new qd({id:C("id",a),displayName:C("displayName",a),oh:E("legacy",a),Di:E("userLocked",a),Wa:J(sd,"tier",a),Mg:D("featureBundle",a),yi:y("trialPeriodDays",a),jg:J(td,"billingInterval",a),te:y("price",a)})}function td(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function sd(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}};function ud(){}
function wd(){var a=v(ud,window.clientInfo),b;b=v(xd,a.brandInfo);b.brand=Fb(b.brand);if(b.subscription){var c;c=b.subscription;c=new od({id:C("id",c),Fh:G(rd,"plan",c),l:C("brand",c),status:J(pd,"status",c),Jh:y("quantity",c),xi:B("trialEnd",c),zh:B("paidUntil",c),Ch:B("periodStart",c),Bh:B("periodEnd",c),ig:E("billed",c),Lg:E("eligibleForMediaDiscounts",c)});b.subscription=c}b=Object.freeze(b);a.brandInfo=b;b=v(yd,a.user);b.avatar&&(b.avatar=$a(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}
function xd(){}xd.prototype.ia=function(){return this.brand};xd.prototype.getSubscription=function(){return this.subscription||null};function yd(){}e=yd.prototype;e.g=function(){return this.id};e.Tg=function(){return this.avatar};e.K=function(){return this.username};e.Ma=function(){return this.displayName};e.ae=function(){return this.roles};e.$d=function(){return this.personalBrand};e.Xc=function(){return this.locale};
e.yd=function(){return Hb({id:this.g(),username:this.K(),personalBrand:this.$d(),displayName:this.Ma(),avatar:Ya(this.Tg()),roles:this.ae(),countryCode:this.country,locale:this.Xc()})};function zd(a){this.object=a.object;this.id=a.id;this.bb=a.bb;this.Ba=a.Ba;this.content=a.content;this.X=a.X;this.wb=a.wb;this.ka=a.ka;this.sb=a.sb;this.jd=a.jd||[]}zd.prototype.g=function(){return this.id};zd.prototype.getContent=function(){return this.content};function Ad(a){return new zd({object:C("object",a),id:C("id",a),bb:C("authorId",a),Ba:G(fb,"author",a),content:C("content",a),X:y("created",a),wb:y("updated",a),ka:E("publik",a),sb:E("resolved",a),jd:I(fb,"mentions",a)})}
function Bd(a){this.object=a.object;this.ri=a.ri;this.id=a.id;this.bb=a.bb;this.Ba=a.Ba;this.content=a.content;this.X=a.X;this.wb=a.wb;this.jd=a.jd||[]}Bd.prototype.g=function(){return this.id};Bd.prototype.getContent=function(){return this.content};function Cd(a){return new Bd({object:C("object",a),ri:C("threadId",a),id:C("id",a),bb:C("authorId",a),Ba:G(fb,"author",a),content:C("content",a),X:y("created",a),wb:y("updated",a),jd:I(fb,"mentions",a)})}
function Dd(a){this.object=a.object;this.accessToken=a.accessToken;this.ka=a.ka;this.content=a.content}Dd.prototype.getContent=function(){return this.content};function Ed(a){return{object:L.required("object",a.object),accessToken:L.optional("accessToken",a.accessToken),publik:Ba("publik",a.ka),content:L.required("content",a.content)}}function Fd(a){this.id=a.id;this.X=a.X}Fd.prototype.g=function(){return this.id};function Gd(a){return new Fd({id:C("id",a),X:y("created",a)})}
function Hd(a){this.object=a.object;this.accessToken=a.accessToken;this.ka=a.ka;this.sb=a.sb;this.limit=a.limit;this.H=a.H}Hd.prototype.Yb=function(){return this.limit};Hd.prototype.Ea=function(){return this.H};function Id(a){this.ea=a.ea||[];this.lh=a.lh||new Map;this.Oh=a.Oh||new Map;this.H=a.H}Id.prototype.Ea=function(){return this.H};function Jd(a){return new Id({ea:I(Ad,"comments",a),lh:pa(Cd,"latestReplies",a),Oh:qa(ra,ua,"replyCounts",a),H:D("continuation",a)})}
function Kd(a){this.object=a.object;this.accessToken=a.accessToken;this.id=a.id}Kd.prototype.g=function(){return this.id};function Ld(){}function Md(){return new Ld};function Nd(a){this.w=a;this.path="/comments"}function Od(a,b){return R(a.w,a.path+"/"+encodeURIComponent(b.object)+"?limit\x3d"+encodeURIComponent(String(b.limit))+(b.H?"\x26continuation\x3d"+encodeURIComponent(b.H):"")+(b.accessToken?"\x26accessToken\x3d"+encodeURIComponent(b.accessToken):"")+(b.ka?"\x26publik":"")).get(0).then(x).then(Jd)}Nd.prototype.createComment=function(a){return S(this.w,this.path+"/"+encodeURIComponent(a.object),Ed(a)).get(0).then(x).then(Gd)};
function Pd(a,b){return Tc(a.w,a.path+"/"+encodeURIComponent(b.object)+"/"+encodeURIComponent(b.id)).get(0).then(x).then(Md)};function Qd(a,b){switch(b){case "USER":return"USER";case "GROUP":return"GROUP";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function Rd(a,b){switch(b){case "NONE":return"NONE";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}function Sd(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function Td(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Ud(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionResult for property "'+a+'", found: '+JSON.stringify(b));}}function Vd(a){this.rules=a.rules||[];this.version=a.version;this.J=a.J}Vd.prototype.getVersion=function(){return this.version};
function Wd(a){return new Vd({rules:I(Xd,"rules",a),version:y("version",a),J:G(Yd,"owner",a)})}function Zd(a){this.type=a.type;this.Hh=a.Hh;this.Ac=a.Ac;this.origin=a.origin;this.timestamp=a.timestamp}function Xd(a){return new Zd({type:J(Qd,"type",a),Hh:H(Yd,"principal",a),Ac:J(Rd,"role",a),origin:H($d,"origin",a),timestamp:B("timestamp",a)})}function ae(a){this.l=a.l;this.group=a.group;this.user=a.user}ae.prototype.ia=function(){return this.l};ae.prototype.Na=function(){return this.user};
function Yd(a){return new ae({l:C("brand",a),group:D("group",a),user:D("user",a)})}function be(a){this.type=a.type;this.id=a.id}be.prototype.g=function(){return this.id};function $d(a){return new be({type:J(Sd,"type",a),id:D("id",a)})}function ce(a){this.default=a.default;this.view=a.view;this.Lh=a.Lh;this.Kg=a.Kg}function de(a){return new ce({default:D("default",a),view:D("view",a),Lh:D("remix",a),Kg:D("edit",a)})}function ee(a){this.type=a.type}
function fe(a){switch(a.type){case "REFERENCE":return M("REFERENCE"===a.type),new ge({id:C("id",a),version:y("version",a)});case "INLINE":return M("INLINE"===a.type),new he({width:y("width",a),height:y("height",a),units:J(Td,"units",a)});default:throw Error("unknown case: "+a.type);}}function ge(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}q(ge,ee);ge.prototype.g=function(){return this.id};ge.prototype.getVersion=function(){return this.version};
function he(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}q(he,ee);he.prototype.Ga=function(){return this.width};he.prototype.va=function(){return this.height};function ie(a){this.id=a.id;this.version=a.version}ie.prototype.g=function(){return this.id};ie.prototype.getVersion=function(){return this.version};function je(a){return new ie({id:C("id",a),version:y("version",a)})}
function ke(a){this.id=a.id;this.od=a.od;this.zb=a.zb;this.origin=a.origin;this.Xb=a.Xb;this.tags=a.tags||[];this.gc=a.gc;this.Oc=a.Oc;this.ra=a.ra;this.version=a.version;this.timestamp=a.timestamp;this.wi=a.wi;this.Qc=a.Qc||new Map}ke.prototype.g=function(){return this.id};ke.prototype.getVersion=function(){return this.version};
function le(a){return new ke({id:C("id",a),od:C("owningBrand",a),zb:y("creationDate",a),origin:H(je,"origin",a),Xb:H(de,"extensions",a),tags:w.Ja("tags",a),gc:H(Wd,"acl",a),Oc:E("brandTemplate",a),ra:G(me,"draft",a),version:y("version",a),timestamp:B("timestamp",a),wi:H(ne,"trashed",a),Qc:qa(ra,ua,"contributors",a)})}function oe(a){this.timestamp=a.timestamp}function ne(a){return new oe({timestamp:y("timestamp",a)})}
function pe(a){this.content=a.content;this.Bc=a.Bc;this.Uh=a.Uh;this.version=a.version;this.timestamp=a.timestamp;this.zd=a.zd;this.qb=a.qb;this.Gb=a.Gb;this.Mc=a.Mc}pe.prototype.getContent=function(){return this.content};pe.prototype.getVersion=function(){return this.version};
function me(a){return new pe({content:G(qe,"content",a),Bc:C("schema",a),Uh:C("schemaFamily",a),version:y("version",a),timestamp:y("timestamp",a),zd:E("untouched",a),qb:y("pageCount",a),Gb:G(re,"imageSets",a),Mc:D("associatedMedia",a)})}function se(a){this.title=a.title;this.description=a.description;this.ed=a.ed||[];this.doctype=a.doctype}function qe(a){return new se({title:D("title",a),description:D("description",a),ed:w.Ja("keywords",a),doctype:G(fe,"doctype",a)})}
function te(a){this.dc=a.dc;this.se=a.se}te.prototype.Fb=function(){return this.dc};function re(a){return new te({dc:G(ue,"thumbnail",a),se:H(ue,"preview",a)})}function ve(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}ve.prototype.va=function(){return this.height};ve.prototype.Ga=function(){return this.width};ve.prototype.getVersion=function(){return this.version};
function ue(a){return new ve({height:y("height",a),width:y("width",a),version:y("version",a),images:I(we,"images",a)})}function xe(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}xe.prototype.getKey=function(){return this.key};xe.prototype.Fa=function(){return this.url};function we(a){return new xe({bucket:C("bucket",a),key:C("key",a),page:y("page",a),url:D("url",a)})}function ye(a){this.width=a.width;this.height=a.height;this.url=a.url}ye.prototype.Ga=function(){return this.width};
ye.prototype.va=function(){return this.height};ye.prototype.Fa=function(){return this.url};function ze(a){return new ye({width:B("width",a),height:B("height",a),url:C("url",a)})}function Ae(a){this.id=a.id;this.version=a.version;this.type=a.type;this.images=a.images||new Map}Ae.prototype.g=function(){return this.id};Ae.prototype.getVersion=function(){return this.version};function Be(a){return new Ae({id:C("id",a),version:y("version",a),type:C("type",a),images:pa(ze,"images",a)})}
function U(a){this.type=a.type;this.id=a.id;this.version=a.version;this.l=a.l;this.user=a.user;this.aa=a.aa}U.prototype.g=function(){return this.id};U.prototype.getVersion=function(){return this.version};U.prototype.ia=function(){return this.l};U.prototype.Na=function(){return this.user};
function Ce(a){switch(a.type){case "RASTER":return M("RASTER"===a.type),new De({id:C("id",a),version:y("version",a),l:D("brand",a),user:D("user",a),aa:K(La,"licensing",a),files:I(Ee,"files",a)});case "VECTOR":return M("VECTOR"===a.type),new Fe({id:C("id",a),version:y("version",a),l:D("brand",a),user:D("user",a),aa:K(La,"licensing",a),files:I(Ee,"files",a),vb:H(Pa,"spritesheetMetadata",a)});case "DESIGN":return M("DESIGN"===a.type),new Ge({id:C("id",a),version:y("version",a),l:D("brand",a),user:D("user",
a),aa:K(La,"licensing",a),files:I(Ee,"files",a)});case "FONT":return M("FONT"===a.type),new He({id:C("id",a),version:y("version",a),l:D("brand",a),user:D("user",a),aa:K(La,"licensing",a),files:I(Ie,"files",a)});case "ELEMENT_GROUP":return M("ELEMENT_GROUP"===a.type),new Je({id:C("id",a),version:y("version",a),l:D("brand",a),user:D("user",a),aa:K(La,"licensing",a),files:I(Ee,"files",a)});case "UNKNOWN":return M("UNKNOWN"===a.type),new Ke({id:C("id",a),version:y("version",a),l:D("brand",a),user:D("user",
a),aa:K(La,"licensing",a),files:I(Le,"files",a)});default:throw Error("unknown case: "+a.type);}}function De(a){U.call(this,{type:"RASTER",id:a.id,version:a.version,l:a.l,user:a.user,aa:a.aa,files:a.files});this.files=a.files||[]}q(De,U);function Fe(a){U.call(this,{type:"VECTOR",id:a.id,version:a.version,l:a.l,user:a.user,aa:a.aa,files:a.files,vb:a.vb});this.files=a.files||[];this.vb=a.vb}q(Fe,U);
function Ge(a){U.call(this,{type:"DESIGN",id:a.id,version:a.version,l:a.l,user:a.user,aa:a.aa,files:a.files});this.files=a.files||[]}q(Ge,U);function He(a){U.call(this,{type:"FONT",id:a.id,version:a.version,l:a.l,user:a.user,aa:a.aa,files:a.files});this.files=a.files||[]}q(He,U);function Je(a){U.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,l:a.l,user:a.user,aa:a.aa,files:a.files});this.files=a.files||[]}q(Je,U);
function Ke(a){U.call(this,{type:"UNKNOWN",id:a.id,version:a.version,l:a.l,user:a.user,aa:a.aa,files:a.files});this.files=a.files||[]}q(Ke,U);function Me(a){this.url=a.url;this.Ci=a.Ci;this.width=a.width;this.height=a.height;this.Cd=a.Cd;this.ji=a.ji;this.Jb=a.Jb;this.Pg=a.Pg}Me.prototype.Fa=function(){return this.url};Me.prototype.Ga=function(){return this.width};Me.prototype.va=function(){return this.height};
function Ee(a){return new Me({url:C("url",a),Ci:E("urlDenied",a),width:y("width",a),height:y("height",a),Cd:E("watermarked",a),ji:E("spritesheet",a),Jb:K(Ja,"quality",a),Pg:D("filterCode",a)})}function Ne(a){this.url=a.url;this.Jb=a.Jb}Ne.prototype.Fa=function(){return this.url};function Ie(a){return new Ne({url:C("url",a),Jb:K(Ja,"quality",a)})}function Oe(a){this.url=a.url;this.width=a.width;this.height=a.height;this.Cd=a.Cd;this.Jb=a.Jb}Oe.prototype.Fa=function(){return this.url};
Oe.prototype.Ga=function(){return this.width};Oe.prototype.va=function(){return this.height};function Le(a){return new Oe({url:C("url",a),width:B("width",a),height:B("height",a),Cd:F("watermarked",a),Jb:K(Ja,"quality",a)})}function Pe(a){var b=L.required("id",a.id),c=L.optional("title",a.title);a=Ca(Da,Fa,"colorReplacements",a.ck);return{id:b,title:c,colorReplacements:a}};function Qe(a){this.document=a.document;this.J=a.J;this.td=a.td;this.ja=a.ja;this.Oa=a.Oa;this.G=a.G}Qe.prototype.getDocument=function(){return this.document};function Re(a){return new Qe({document:G(le,"document",a),J:G(fb,"owner",a),td:y("remixCount",a),ja:y("likerCount",a),Oa:y("commentCount",a),G:E("likedByMe",a)})}function Se(a){this.id=a.id;this.df=a.df;this.D=a.D}Se.prototype.g=function(){return this.id};Se.prototype.getExtension=function(){return this.df};
function Te(a){this.document=a.document;this.hd=a.hd||[];this.xb=a.xb}Te.prototype.getDocument=function(){return this.document};function Ue(a){return new Te({document:G(Re,"document",a),hd:I(Be,"mediaMap",a),xb:J(Rd,"accessRole",a)})}function Ve(a){this.pc=a.pc;this.type=a.type;this.Db=a.Db}function We(a){return{follower:L.optional("follower",a.pc),type:L.required("type",a.type),followee:L.required("followee",a.Db)}}function Xe(){}function Ye(){return new Xe}
function Ze(a){this.pc=a.pc;this.type=a.type;this.Db=a.Db}function $e(){}function af(){return new $e}function bf(a){this.uc=a.uc;this.type=a.type;this.Ha=a.Ha;this.accessToken=a.accessToken}function cf(a){return{liker:L.optional("liker",a.uc),type:L.required("type",a.type),liked:L.required("liked",a.Ha),accessToken:L.optional("accessToken",a.accessToken)}}function df(){}function ef(){return new df}function ff(a){this.uc=a.uc;this.type=a.type;this.Ha=a.Ha}function gf(){}
function hf(){return new gf};function jf(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function kf(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function lf(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function mf(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function nf(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function of(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function pf(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function qf(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.xa=a.xa;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color;this.list=a.list}
function rf(a){return new qf({fontFamily:D("fontFamily",a),fontSize:B("fontSize",a),bold:F("bold",a),italic:F("italic",a),xa:D("justification",a),letterSpacing:B("letterSpacing",a),lineHeight:B("lineHeight",a),color:D("color",a),list:F("list",a)})}function sf(a){this.title=a.title;this.oi=a.oi;this.body=a.body}function tf(a){return new sf({title:H(rf,"title",a),oi:H(rf,"subtitle",a),body:H(rf,"body",a)})}
function uf(a){this.Zb=a.Zb;this.title=a.title;this.description=a.description;this.ed=a.ed||[];this.qg=a.qg;this.Bg=a.Bg;this.yh=a.yh||[];this.doctype=a.doctype;this.rd=a.rd||[]}function vf(a){return new uf({Zb:C("layout",a),title:D("title",a),description:D("description",a),ed:w.Ja("keywords",a),qg:H(tf,"canvaDefaultFonts",a),Bg:H(tf,"defaultFonts",a),yh:I(wf,"pages",a),doctype:G(fe,"doctype",a),rd:w.Ja("palette",a)})}
function xf(a){this.height=a.height;this.width=a.width;this.Jg=a.Jg;this.elements=a.elements||[];this.type=a.type;this.Zb=a.Zb;this.Ph=a.Ph}xf.prototype.va=function(){return this.height};xf.prototype.Ga=function(){return this.width};function wf(a){return new xf({height:y("height",a),width:y("width",a),Jg:B("dpi",a),elements:I(yf,"elements",a),type:D("type",a),Zb:H(Na,"layout",a),Ph:H(zf,"resizeContentBox",a)})}
function V(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.R=a.R;this.rotation=a.rotation;this.link=a.link;this.W=a.W;this.index=a.index;this.N=a.N;this.O=a.O;this.origin=a.origin}V.prototype.va=function(){return this.height};V.prototype.Ga=function(){return this.width};V.prototype.qc=function(){return this.link};
function yf(a){switch(a.type){case "image":return M("image"===a.type),new Af({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),R:B("transparency",a),rotation:B("rotation",a),link:D("link",a),W:E("userEdited",a),index:B("index",a),N:B("elementIndex",a),O:B("groupIndex",a),origin:H(W,"origin",a),u:B("flipOrientation",a),filter:H(Bf,"filter",a),ca:D("mediaId",a),da:B("mediaVersion",a),ba:F("mediaApproved",a),jb:F("isBackground",a),lb:F("isRecolorable",a),kb:F("isCutout",a),ee:F("isDark",
a),backgroundColor:D("backgroundColor",a),ib:H(zf,"imageBox",a),Z:I(Cf,"fillColors",a)});case "text":return M("text"===a.type),new Df({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),R:B("transparency",a),rotation:B("rotation",a),link:D("link",a),W:E("userEdited",a),index:B("index",a),N:B("elementIndex",a),O:B("groupIndex",a),origin:H(W,"origin",a),u:B("flipOrientation",a),style:D("style",a),html:D("html",a),fontFamily:D("fontFamily",a),fontSize:B("fontSize",a),color:D("color",
a),bold:F("bold",a),italic:F("italic",a),list:F("list",a),fb:H(Na,"fontMedia",a),hb:I(Na,"htmlFontMedia",a),xa:D("justification",a),Le:D("verticalAlignment",a),letterSpacing:B("letterSpacing",a),lineHeight:B("lineHeight",a),nb:ma.Ja("lineLengths",a),padding:B("padding",a),textTransform:D("textTransform",a),border:H(Ef,"border",a),fe:I(Ff,"kerning",a),ve:K(jf,"reflowMode",a),Ce:H(Gf,"stylesOverriden",a)});case "svg":return M("svg"===a.type),new Hf({top:y("top",a),left:y("left",a),height:y("height",
a),width:y("width",a),R:B("transparency",a),rotation:B("rotation",a),link:D("link",a),W:E("userEdited",a),index:B("index",a),N:B("elementIndex",a),O:B("groupIndex",a),origin:H(W,"origin",a),u:B("flipOrientation",a),ca:D("mediaId",a),da:B("mediaVersion",a),ba:F("mediaApproved",a),jb:F("isBackground",a),lb:F("isRecolorable",a),kb:F("isCutout",a),contents:I(If,"contents",a),scale:B("scale",a),Z:I(Cf,"fillColors",a),De:H(Jf,"svgMetadata",a)});case "graphic":return M("graphic"===a.type),new Kf({top:y("top",
a),left:y("left",a),height:y("height",a),width:y("width",a),R:B("transparency",a),rotation:B("rotation",a),link:D("link",a),W:E("userEdited",a),index:B("index",a),N:B("elementIndex",a),O:B("groupIndex",a),origin:H(W,"origin",a),u:B("flipOrientation",a),ca:D("mediaId",a),da:B("mediaVersion",a),ba:F("mediaApproved",a),scale:B("scale",a),Z:I(Cf,"fillColors",a),vb:H(Pa,"spritesheetMetadata",a)});case "grid":return M("grid"===a.type),new Lf({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",
a),R:B("transparency",a),rotation:B("rotation",a),link:D("link",a),W:E("userEdited",a),index:B("index",a),N:B("elementIndex",a),O:B("groupIndex",a),origin:H(W,"origin",a),u:B("flipOrientation",a),spacing:B("spacing",a),items:I(Mf,"items",a),contents:I(Nf,"contents",a),Z:I(Cf,"fillColors",a)});case "group":return M("group"===a.type),new Of({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),R:B("transparency",a),rotation:B("rotation",a),link:D("link",a),W:E("userEdited",a),index:B("index",
a),N:B("elementIndex",a),O:B("groupIndex",a),origin:H(W,"origin",a),Ld:ma.Ja("childRange",a),Vd:K(mf,"generatorType",a),Kd:H(Pf,"chart",a)});case "shape":return M("shape"===a.type),new Qf({top:y("top",a),left:y("left",a),height:y("height",a),width:y("width",a),R:B("transparency",a),rotation:B("rotation",a),link:D("link",a),W:E("userEdited",a),index:B("index",a),N:B("elementIndex",a),O:B("groupIndex",a),origin:H(W,"origin",a),u:B("flipOrientation",a),viewBox:H(zf,"viewBox",a),oe:I(Rf,"paths",a)});
default:throw Error("unknown case: "+a.type);}}
function Af(a){V.call(this,{type:"IMAGE",top:a.top,left:a.left,height:a.height,width:a.width,R:a.R,rotation:a.rotation,link:a.link,W:a.W,index:a.index,N:a.N,O:a.O,origin:a.origin,u:a.u,filter:a.filter,ca:a.ca,da:a.da,ba:a.ba,jb:a.jb,lb:a.lb,kb:a.kb,ee:a.ee,backgroundColor:a.backgroundColor,ib:a.ib,Z:a.Z});this.u=a.u;this.filter=a.filter;this.ca=a.ca;this.da=a.da;this.ba=a.ba;this.jb=a.jb;this.lb=a.lb;this.kb=a.kb;this.ee=a.ee;this.backgroundColor=a.backgroundColor;this.ib=a.ib;this.Z=a.Z||[]}
q(Af,V);Af.prototype.lf=function(){return this.filter};
function Df(a){V.call(this,{type:"TEXT",top:a.top,left:a.left,height:a.height,width:a.width,R:a.R,rotation:a.rotation,link:a.link,W:a.W,index:a.index,N:a.N,O:a.O,origin:a.origin,u:a.u,style:a.style,html:a.html,fontFamily:a.fontFamily,fontSize:a.fontSize,color:a.color,bold:a.bold,italic:a.italic,list:a.list,fb:a.fb,hb:a.hb,xa:a.xa,Le:a.Le,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,nb:a.nb,padding:a.padding,textTransform:a.textTransform,border:a.border,fe:a.fe,ve:a.ve,Ce:a.Ce});this.u=a.u;
this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.list=a.list;this.fb=a.fb;this.hb=a.hb||[];this.xa=a.xa;this.Le=a.Le;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.nb=a.nb||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.fe=a.fe||[];this.ve=a.ve;this.Ce=a.Ce}q(Df,V);
function Hf(a){V.call(this,{type:"SVG",top:a.top,left:a.left,height:a.height,width:a.width,R:a.R,rotation:a.rotation,link:a.link,W:a.W,index:a.index,N:a.N,O:a.O,origin:a.origin,u:a.u,ca:a.ca,da:a.da,ba:a.ba,jb:a.jb,lb:a.lb,kb:a.kb,contents:a.contents,scale:a.scale,Z:a.Z,De:a.De});this.u=a.u;this.ca=a.ca;this.da=a.da;this.ba=a.ba;this.jb=a.jb;this.lb=a.lb;this.kb=a.kb;this.contents=a.contents||[];this.scale=a.scale;this.Z=a.Z||[];this.De=a.De}q(Hf,V);
function Kf(a){V.call(this,{type:"GRAPHIC",top:a.top,left:a.left,height:a.height,width:a.width,R:a.R,rotation:a.rotation,link:a.link,W:a.W,index:a.index,N:a.N,O:a.O,origin:a.origin,u:a.u,ca:a.ca,da:a.da,ba:a.ba,scale:a.scale,Z:a.Z,vb:a.vb});this.u=a.u;this.ca=a.ca;this.da=a.da;this.ba=a.ba;this.scale=a.scale;this.Z=a.Z||[];this.vb=a.vb}q(Kf,V);
function Lf(a){V.call(this,{type:"GRID",top:a.top,left:a.left,height:a.height,width:a.width,R:a.R,rotation:a.rotation,link:a.link,W:a.W,index:a.index,N:a.N,O:a.O,origin:a.origin,u:a.u,spacing:a.spacing,items:a.items,contents:a.contents,Z:a.Z});this.u=a.u;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.Z=a.Z||[]}q(Lf,V);Lf.prototype.Zd=function(){return this.items};
function Of(a){V.call(this,{type:"GROUP",top:a.top,left:a.left,height:a.height,width:a.width,R:a.R,rotation:a.rotation,link:a.link,W:a.W,index:a.index,N:a.N,O:a.O,origin:a.origin,Ld:a.Ld,Vd:a.Vd,Kd:a.Kd});this.Ld=a.Ld||[];this.Vd=a.Vd;this.Kd=a.Kd}q(Of,V);
function Qf(a){V.call(this,{type:"SHAPE",top:a.top,left:a.left,height:a.height,width:a.width,R:a.R,rotation:a.rotation,link:a.link,W:a.W,index:a.index,N:a.N,O:a.O,origin:a.origin,u:a.u,viewBox:a.viewBox,oe:a.oe});this.u=a.u;this.viewBox=a.viewBox;this.oe=a.oe||[]}q(Qf,V);function Sf(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.xa=a.xa;this.color=a.color}
function Gf(a){return new Sf({fontFamily:F("fontFamily",a),fontSize:F("fontSize",a),bold:F("bold",a),italic:F("italic",a),xa:F("justification",a),color:F("color",a)})}function Tf(a){this.type=a.type;this.index=a.index;this.origin=a.origin}
function If(a){switch(a.type){case "text":return M("text"===a.type),new Uf({index:y("index",a),origin:H(W,"origin",a),html:D("html",a),left:y("left",a),top:y("top",a),width:y("width",a),height:y("height",a),fontFamily:D("fontFamily",a),fontSize:B("fontSize",a),italic:F("italic",a),bold:F("bold",a),xa:D("justification",a),list:F("list",a),textTransform:D("textTransform",a),color:D("color",a),nb:ma.Ja("lineLengths",a),letterSpacing:B("letterSpacing",a),lineHeight:y("lineHeight",a),fb:H(Na,"fontMedia",
a),hb:I(Na,"htmlFontMedia",a),qe:B("preferredFontSize",a)});case "image":return Nf(a);default:throw Error("unknown case: "+a.type);}}
function Uf(a){Tf.call(this,{type:"TEXT",index:a.index,origin:a.origin,html:a.html,left:a.left,top:a.top,width:a.width,height:a.height,fontFamily:a.fontFamily,fontSize:a.fontSize,italic:a.italic,bold:a.bold,xa:a.xa,list:a.list,textTransform:a.textTransform,color:a.color,nb:a.nb,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,fb:a.fb,hb:a.hb,qe:a.qe});this.html=a.html;this.left=a.left;this.top=a.top;this.width=a.width;this.height=a.height;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;
this.italic=a.italic;this.bold=a.bold;this.xa=a.xa;this.list=a.list;this.textTransform=a.textTransform;this.color=a.color;this.nb=a.nb||[];this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.fb=a.fb;this.hb=a.hb||[];this.qe=a.qe}q(Uf,Tf);Uf.prototype.Ga=function(){return this.width};Uf.prototype.va=function(){return this.height};
function Vf(a){Tf.call(this,{type:"IMAGE",index:a.index,origin:a.origin,ca:a.ca,je:a.je,da:a.da,ib:a.ib,u:a.u,backgroundColor:a.backgroundColor,ba:a.ba,filter:a.filter});this.ca=a.ca;this.je=a.je;this.da=a.da;this.ib=a.ib;this.u=a.u;this.backgroundColor=a.backgroundColor;this.ba=a.ba;this.filter=a.filter}q(Vf,Tf);Vf.prototype.lf=function(){return this.filter};
function Nf(a){M("image"===a.type);return new Vf({index:y("index",a),origin:H(W,"origin",a),ca:D("mediaId",a),je:D("localMediaId",a),da:B("mediaVersion",a),ib:H(zf,"imageBox",a),u:y("flipOrientation",a),backgroundColor:D("backgroundColor",a),ba:F("mediaApproved",a),filter:H(Bf,"filter",a)})}function Wf(a){this.width=a.width}Wf.prototype.Ga=function(){return this.width};function Ef(a){return new Wf({width:y("width",a)})}function Xf(a){this.Ah=a.Ah;this.cg=a.cg}
function Ff(a){return new Xf({Ah:C("pair",a),cg:y("adjustment",a)})}function Yf(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}Yf.prototype.Ga=function(){return this.width};Yf.prototype.va=function(){return this.height};Yf.prototype.getChildren=function(){return this.children};function Mf(a){return new Yf({type:K(kf,"type",a),width:B("width",a),height:B("height",a),children:I(Mf,"children",a)})}
function Zf(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}Zf.prototype.Ga=function(){return this.width};Zf.prototype.va=function(){return this.height};function zf(a){return new Zf({top:y("top",a),left:y("left",a),width:y("width",a),height:y("height",a)})}function $f(a){this.index=a.index;this.color=a.color}function Cf(a){return new $f({index:y("index",a),color:C("color",a)})}
function ag(a){this.viewBox=a.viewBox;this.pi=a.pi||[];this.Dh=a.Dh||[];this.rg=a.rg;this.si=a.si}function Jf(a){return new ag({viewBox:G(zf,"viewBox",a),pi:I(zf,"textHolderBoxes",a),Dh:I(zf,"photoHolderBoxes",a),rg:H(zf,"centerBox",a),si:F("tile",a)})}function bg(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.ti=a.ti;this.vignette=a.vignette;this.Fi=a.Fi;this.vi=a.vi;this.name=a.name}bg.prototype.getName=function(){return this.name};
function Bf(a){return new bg({blur:B("blur",a),brightness:B("brightness",a),contrast:B("contrast",a),saturation:B("saturation",a),ti:B("tint",a),vignette:B("vignette",a),Fi:B("xpro",a),vi:B("tintAmount",a),name:D("name",a)})}function cg(a){this.fill=a.fill;this.Og=a.Og;this.d=a.d}function Rf(a){return new cg({fill:C("fill",a),Og:K(lf,"fillRule",a),d:C("d",a)})}function dg(a){this.name=a.name;this.cells=a.cells||[]}dg.prototype.getName=function(){return this.name};
function eg(a){return new dg({name:D("name",a),cells:w.Ja("cells",a)})}function fg(a){this.v=a.v||[]}function gg(a){return new fg({v:I(eg,"columns",a)})}function hg(a){this.data=a.data;this.ih=a.ih;this.kh=a.kh;this.jh=a.jh;this.ug=a.ug;this.fh=a.fh;this.rd=a.rd;this.sg=a.sg;this.Eh=a.Eh;this.hg=a.hg;this.ph=a.ph;this.Ig=a.Ig}hg.prototype.getData=function(){return this.data};
function Pf(a){return new hg({data:G(gg,"data",a),ih:B("labelColumn",a),kh:G(rf,"labelTextStyle",a),jh:H(Na,"labelFontMedia",a),ug:J(of,"coloringType",a),fh:H(ig,"interpolation",a),rd:H(jg,"palette",a),sg:J(nf,"chartType",a),Eh:H(kg,"pie",a),hg:H(lg,"bar",a),ph:H(mg,"line",a),Ig:H(ng,"donut",a)})}function og(a){this.spacing=a.spacing;this.padding=a.padding}function lg(a){return new og({spacing:B("spacing",a),padding:B("padding",a)})}function pg(a){this.spacing=a.spacing;this.padding=a.padding}
function kg(a){return new pg({spacing:B("spacing",a),padding:B("padding",a)})}function qg(a){this.spacing=a.spacing;this.padding=a.padding}function mg(a){return new qg({spacing:B("spacing",a),padding:B("padding",a)})}function rg(a){this.spacing=a.spacing;this.padding=a.padding}function ng(a){return new rg({spacing:B("spacing",a),padding:B("padding",a)})}function sg(a){this.tg=a.tg;this.from=a.from;this.to=a.to}function ig(a){return new sg({tg:J(pf,"colorSpace",a),from:C("from",a),to:C("to",a)})}
function tg(a){this.vg=a.vg||[]}function jg(a){return new tg({vg:w.Ja("colors",a)})}function vg(a){this.type=a.type}function W(a){switch(a.type){case "CANVA":return M("CANVA"===a.type),new xg;case "FACEBOOK":return M("FACEBOOK"===a.type),new yg;case "LAYOUT":return M("LAYOUT"===a.type),new zg({id:C("id",a),version:y("version",a)});case "DOCUMENT":return M("DOCUMENT"===a.type),new Ag({id:C("id",a),version:y("version",a)});default:throw Error("unknown case: "+a.type);}}
function xg(){this.type="CANVA"}q(xg,vg);function yg(){this.type="FACEBOOK"}q(yg,vg);function zg(a){this.type="LAYOUT";this.id=a.id;this.version=a.version}q(zg,vg);zg.prototype.g=function(){return this.id};zg.prototype.getVersion=function(){return this.version};function Ag(a){this.type="DOCUMENT";this.id=a.id;this.version=a.version}q(Ag,vg);Ag.prototype.g=function(){return this.id};Ag.prototype.getVersion=function(){return this.version};function Bg(a){this.id=a.id;this.od=a.od;this.zb=a.zb;this.origin=a.origin;this.Xb=a.Xb;this.tags=a.tags||[];this.gc=a.gc;this.Oc=a.Oc;this.ra=a.ra;this.version=a.version;this.timestamp=a.timestamp;this.Qc=a.Qc||new Map}Bg.prototype.g=function(){return this.id};Bg.prototype.getVersion=function(){return this.version};
function Cg(a){return new Bg({id:C("id",a),od:C("owningBrand",a),zb:y("creationDate",a),origin:H(je,"origin",a),Xb:G(de,"extensions",a),tags:w.Ja("tags",a),gc:H(Wd,"acl",a),Oc:E("brandTemplate",a),ra:G(Dg,"draft",a),version:y("version",a),timestamp:B("timestamp",a),Qc:qa(ra,ua,"contributors",a)})}function Eg(a){this.Bc=a.Bc;this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.zd=a.zd;this.qb=a.qb;this.media=a.media||[];this.Gb=a.Gb;this.Mc=a.Mc}Eg.prototype.getContent=function(){return this.content};
Eg.prototype.getVersion=function(){return this.version};function Dg(a){return new Eg({Bc:C("schema",a),content:G(vf,"content",a),version:y("version",a),timestamp:y("timestamp",a),zd:E("untouched",a),qb:y("pageCount",a),media:I(Na,"media",a),Gb:G(re,"imageSets",a),Mc:D("associatedMedia",a)})}function Fg(a){this.document=a.document;this.cc=a.cc;this.Rc=a.Rc}Fg.prototype.getDocument=function(){return this.document};Fg.prototype.getSession=function(){return this.cc};
function Gg(a){return new Fg({document:G(Cg,"document",a),cc:y("session",a),Rc:K(Ud,"conversionResult",a)})}function Hg(a){this.document=a.document;this.hd=a.hd||[];this.cc=a.cc;this.xb=a.xb;this.yg=a.yg;this.Rc=a.Rc}Hg.prototype.getDocument=function(){return this.document};Hg.prototype.getSession=function(){return this.cc};
function Ig(a){return new Hg({document:G(Cg,"document",a),hd:I(Ce,"mediaMap",a),cc:B("session",a),xb:J(Rd,"accessRole",a),yg:D("conversionLoss",a),Rc:K(Ud,"conversionResult",a)})};function Jg(){this.remix=this.edit=this.view=this["default"]=null}function Kg(){}function Lg(a){return Object.freeze(v(Kg,a))}Kg.prototype.getDocument=function(){return Mg(this.document)};Kg.prototype.getSession=function(){return this.session};function Ng(){}function Og(a){return Object.freeze(v(Ng,a))}Ng.prototype.getDocument=function(){return Mg(this.document)};function Pg(){}Pg.prototype.g=function(){return this.id};Pg.prototype.getVersion=function(){var a=this.draft;return a?a.version:-1};
function Qg(a,b){switch(b){case "NONE":return"NONE";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";case "REMIXER":return"REMIXER";case "VIEWER":return"VIEWER";default:throw Error('unexpected accessRole type for property "'+a+'": '+b);}}function Mg(a){var b=new Pg;$.extend(b,a);a=a.extensions;var c=new Jg;a&&$.extend(c,a);b.extensions=c;return b};function Rg(a){this.w=a;this.path="/social"}function Sg(a,b){var c=b.df;return R(a.w,a.path+"/documents/"+encodeURIComponent(b.id)+"/profile"+(c?"?extension\x3d"+encodeURIComponent(c):"")).get(0).then(x).then(Ue)}function Tg(a,b){var c=b.pc;return S(a.w,c?a.path+"/users/"+encodeURIComponent(c)+"/followees":a.path+"/user/followees",We(b)).get(0).then(x).then(Ye)}
function Ug(a,b){var c=b.pc;return Tc(a.w,c?a.path+"/users/"+encodeURIComponent(c)+"/followees/"+encodeURIComponent(b.Db):a.path+"/user/followees/"+encodeURIComponent(b.Db)).get(0).then(x).then(af)}function Vg(a,b){var c=b.uc;return S(a.w,c?a.path+encodeURIComponent(c)+"/likes":a.path+"/user/likes",cf(b)).get(0).then(x).then(ef)}
function Wg(a,b){var c=b.uc;return Tc(a.w,c?a.path+"/users/"+encodeURIComponent(c)+"/likes/"+encodeURIComponent(b.Ha):a.path+"/user/likes/"+encodeURIComponent(b.Ha)).get(0).then(x).then(hf)};function Xg(a){nd.call(this,a)}Xg.prototype=Object.create(nd.prototype);Xg.prototype.constructor=Xg;function Yg(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.dc;this.systemFolder=a.Ee||null;this.acl=a.gc;this.access=a.Zj;this.name=a.name||null;this.description=a.description||null;this.brand=a.l||"";this.itemCount=a.ik||0;this.user=a.user||"";this.modifiedDate=a.kk||0;this.shared=a.qk||!1;this.type=a.type||Zg;this.userSettings=a.uk||null}var Zg="DESIGN";function $g(a){return Object.freeze(v(Yg,a))}e=Yg.prototype;e.g=function(){return this.id};
e.Fb=function(){if(this.thumbnail)return Object.freeze(v(ah,this.thumbnail))};e.getName=function(){return this.name};e.ia=function(){return this.brand};e.Na=function(){return this.user};$g({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""});
$g({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""});$g({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",width:200},user:""});function ah(){}ah.prototype.va=function(){return this.height};ah.prototype.Ga=function(){return this.width};ah.prototype.Fa=function(){return this.url};
function bh(a){this.Ve=a.Ve;this.ka=a.ka;this.Cf=a.Cf;this.td=a.td;this.ja=a.ja;this.Oa=a.Oa;this.G=a.G;this.J=a.J}function ch(){this.width=this.height=0;this.url="";this.version=0}ch.prototype.Ga=function(){return this.width};ch.prototype.va=function(){return this.height};ch.prototype.getVersion=function(){return this.version};ch.prototype.Fa=function(){return this.url};
function dh(){this.type=eh;this.name=this.id="";this.timestamp=this.version=0;this.trashedTimestamp=null;this.thumbnail=new ch;this.tags=[];this.socialMetadata=this.folders=this.owner=this.marketplaceStatus=null}var eh="DESIGN";
function fh(a){a=$.extend(new dh,a);a.owner&&(a.owner=Object.freeze(v(gh,a.owner)));if(a.thumbnail){var b;b=(b=a.thumbnail)?$.extend(new ch,b):null;a.thumbnail=b}a.socialMetadata&&(b=a.socialMetadata,b=new bh({Ve:F("brandPublik",b),ka:F("publik",b),Cf:K(Qg,"myRole",b),td:y("remixCount",b),ja:y("likerCount",b),Oa:y("commentCount",b),G:E("likedByMe",b),J:H(Ib,"owner",b)}),a.socialMetadata=b);return a}e=dh.prototype;e.g=function(){return this.id};e.getName=function(){return this.name};e.getVersion=function(){return this.version};
e.Fb=function(){return this.thumbnail};e.Ug=function(){return this.folders};function hh(a){return a.socialMetadata}function gh(){}gh.prototype.Na=function(){return this.user};gh.prototype.ia=function(){return this.brand};function ih(){}e=ih.prototype;e.Ne=function(a){this.brand=a;return this};e.ia=function(){return this.brand||null};e.Na=function(){return this.user||null};e.lf=function(){return this.filter};e.Oe=function(a){this.continuation=a;return this};e.Ea=function(){return this.continuation||null};e.Pe=function(a){this.limit=a;return this};e.Yb=function(){return this.limit};function jh(){this.items=[];this.folders=this.continuation=null}jh.prototype.Zd=function(){return this.items};jh.prototype.Ea=function(){return this.continuation};
jh.prototype.Ug=function(){return this.folders};function kh(a){if(!a)return null;a=$.extend(new jh,a);a.items&&(a.items=a.items.map(fh));a.folders&&(a.folders=a.folders.map($g));return a};function lh(a){this.w=a}lh.prototype.gd=function(a,b){var c=b.lf(),d=b.Yb(),f=b.Ea(),g=b.decorations;a="/vfolders/"+a+b.folder+"?"+(c?"filter\x3d"+encodeURIComponent(c):"")+(d?"\x26limit\x3d"+encodeURIComponent(String(d)):"")+(f?"\x26continuation\x3d"+encodeURIComponent(f):"")+(g?"\x26decorations\x3d"+encodeURIComponent(g.join(",")):"");return R(this.w,a).get(0).then(kh)};function mh(a){this.Ub=a;this.Xi=$.isWindow(this.Ub[0]);this.Yg=_.throttle(this.dispatchEvent.bind(this),200)}function nh(){var a=window,a=$(a),b=a.data("CANVA_SCROLL_TARGET");if(!b){var c=b=new mh(a);c.stopListening();c.Ub.on("scroll",c.Yg);a.data("CANVA_SCROLL_TARGET",b)}return b}e=mh.prototype;e.stopListening=function(){this.Ub.off("scroll",this.Yg)};
function oh(a,b){var c;c=_.defaults({},c,{gj:!1});var d=b.offset().top;c=c.gj?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.Xi?a.Ub.scrollTop():a.Ub.offset().top+parseInt(a.Ub.css("border-top-width"),10);a=a.Ub.innerHeight();return d-(b+a)}e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;e.dispatchEvent=function(){this.trigger("scroll",this)};function ph(a,b){this.name=a;this.defaultValue=b};function qh(a){this.values=a||{}}qh.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;M(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function rh(a){this.ff=a}var sh=new ph("nb",!1),th=new ph("em","NONE"),uh=new ph("et",!0);rh.prototype.ma=function(){return this.ff.get(sh)};rh.prototype.bf=function(){return this.ff.get(th)};rh.prototype.$b=function(){return this.ff.get(uh)};function vh(a){this.w=a;this.path="/profile"}vh.prototype.Na=P.method(function(a){return R(this.w,this.path+"/users/"+encodeURIComponent(a)).get(0).then(Hb)});
function wh(a,b){return R(a.w,a.path+"/users?"+(null!=b.ids?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+(null!=b.emails?"\x26emails\x3d"+encodeURIComponent(b.emails):"")+(null!=b.query?"\x26query\x3d"+encodeURIComponent(b.query):"")+(null!=b.brand?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+(null!=b.role?"\x26role\x3d"+encodeURIComponent(b.role):"")+(null!=b.skip?"\x26skip\x3d"+encodeURIComponent(b.skip):"")+(null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit):"")+(null!=b.includeAvatars?
"\x26includeAvatars\x3d"+encodeURIComponent(b.includeAvatars):"")).get(0).then(Ob)}function xh(a,b){return S(a.w,a.path+"/users/"+encodeURIComponent(b.user),b).get(0).then(Xb)}vh.prototype.ia=function(a){return R(this.w,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(Fb)};P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations?create\x3dtrue";return S(this.w,b,nb(a)).spread(pb)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations";return S(this.w,b,a).spread(fc)});P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations?"+(null!=a.Ea()?"\x26continuation\x3d"+encodeURIComponent(a.Ea()):"")+(null!=a.Yb()?"\x26limit\x3d"+encodeURIComponent(a.Yb()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(a.ej()?"\x26includeLinkInvitations\x3d"+encodeURIComponent(a.ej()):"");return R(this.w,a).spread(hc)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/invitations?update\x3dtrue";return S(this.w,b,qb(a)).spread(sb)});
vh.prototype.$i=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ia())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.Ea()?"\x26continuation\x3d"+encodeURIComponent(a.Ea()):"")+(null!=a.Yb()?"\x26limit\x3d"+encodeURIComponent(a.Yb()):"")+(null!=a.rc()?"\x26users\x3d"+encodeURIComponent(a.rc().join(",")):
"");return R(this.w,a).spread(nc)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ia())+"/members";return S(this.w,b,yb(a)).spread(Ab)});
function yh(a,b){return R(a.w,a.path+"/names/available?"+("assignee"in b?"\x26assignee\x3d"+encodeURIComponent(b.assignee):"")+("username"in b?"\x26username\x3d"+encodeURIComponent(b.username):"")+("brandname"in b?"\x26brandname\x3d"+encodeURIComponent(b.brandname):"")+("email"in b?"\x26email\x3d"+encodeURIComponent(b.email):"")).get(0).then(bc)}function zh(a,b){return S(a.w,a.path+"/user/avatars",{mimeType:b}).get(0).then(dc)}
function Ah(a,b,c){return S(a.w,a.path+"/user/avatars/"+b,{version:b,mimeType:c}).spread(function(a){if(!a.ok)return P.reject()})};function Bh(a){this.Pb=a.Pb;this.Ia=a.Ia;this.Hb=a.Hb;this.$b=a.$b;this.de=new Map;this.Ei=new Map;this.Bd=Ch(this)}function Ch(a){if(!a.$b)return P.resolve([]);var b=lc((new kc).Ne(a.Pb)).Pe(100);return Dh(a,b,[]).then(function(b){return b.map(function(b){b=b.Na();a.de.set(b.g(),b);a.Ei.set(b.K()||b.g(),b);return b})})}function Dh(a,b,c){return a.Ia.$i(b).then(function(d){c=c.concat(d.Vg());return d.Ea()?Dh(a,b.Oe(d.Ea()),c):c})}Bh.prototype.rc=function(){return this.Bd};
function Eh(a,b){if(!a.$b)return b;for(var c=/@[a-zA-Z0-9\._-]*[a-zA-Z0-9\_-](?=\s|$|\?|,|\!|\.)/gm,d="",f=0,g;g=c.exec(b);){var f=b.slice(f,g.index),h=a;g=g[0];var p=h.Ei.get(g.slice(1)),d=d+(f+(p?"["+p.g()+":"+h.Pb+"]":g)),f=c.lastIndex}return d+=b.slice(f)}
function Fh(a,b){var c=[];b.forEach(function(b){if(b)for(var f=/\[(U[a-zA-Z0-9_-]{10}):(B[a-zA-Z0-9_-]{10})\]/g,g;g=f.exec(b);)a.de.has(g[1])||c.push(g[1])});return c.length?wh(a.Ia,Mb(c)).then(function(c){c.rc().forEach(function(b){return a.de.set(b.g(),b)});return Gh(a,b)}).catch(function(){return Gh(a,b,!0)}):Gh(a,b)}function Gh(a,b,c){var d=[];b.forEach(function(b){b?d.push(Hh(a,_.escape(b),c)):d.push(b)});return P.resolve(d)}function Ih(a,b){return Fh(a,[b]).then(function(a){return a[0]})}
function Hh(a,b,c){for(var d=/\[(U[a-zA-Z0-9_-]{10}):(B[a-zA-Z0-9_-]{10})\]/g,f="",g=0,h;h=d.exec(b);){var g=b.slice(g,h.index),p=a,k=c;(h=p.de.get(h[1]))&&h.K()?(p=h.K(),h="/"+encodeURIComponent(h.K()),soy.asserts.assertType(goog.isString(p)||p instanceof goog.soy.data.SanitizedContent,"username",p,"string|goog.soy.data.SanitizedContent"),soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"profilePath",h,"string|goog.soy.data.SanitizedContent"),h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"mention__profileLink" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(h))+'"\x3e@'+soy.$$escapeHtml(p)+"\x3c/a\x3e").toString()):(h=k?p.Hb.format("mentionLookupError"):p.Hb.format("mentionUnknownUserError"),soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"title",h,"string|goog.soy.data.SanitizedContent"),h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"mention__unknown" title\x3d'+soy.$$escapeHtmlAttributeNospace(h)+"\x3e@unknown\x3c/span\x3e").toString());f+=g+h;g=
d.lastIndex}return f+=b.slice(g)};function Jh(){}Jh=Backbone.View.extend({className:"tileListBusyIndicator"});e=Jh.prototype;e.initialize=function(){this.transitionDelay=-1;this.Ge=0};e.hide=function(){Kh(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};e.render=function(){this.$el.html(this.template());return this};function Kh(a,b){0!=a.Ge&&(window.clearTimeout(a.Ge),a.Ge=0);0<=a.transitionDelay?a.Ge=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}e.show=function(){Kh(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
e.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};var Lh=Jh;function Mh(a,b){this.$el=a;this.Nd=b.Nd||"";this.Sb=b.Sb}function Nh(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"masonryLayout"\x3e\x3c/div\x3e').toString());return new Mh(b,a)}e=Mh.prototype;e.add=function(a,b){var c=this;this.v||Oh(this,Ph(this));var d=Qh(this);this.v.eq(0).append(a);var f=a.get().map(this.va,this);a.each(function(a,h){var p=Rh(c,d);d[p]+=f[a];b?c.v.eq(p).prepend(h):c.v.eq(p).append(h)})};e.contains=function(a){return!(!this.v||!this.v.children().filter(a).length)};
function Oh(a,b){var c="masonryLayoutColumn "+a.Nd;a.v=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.v.appendTo(a.$el)}function Ph(a){if("function"===typeof a.Sb){var b=a.$el.width();a=a.Sb(b)}else a=a.Sb;return Math.max(a,1)}
function Qh(a){return a.v.get().map(function(a){var c=$(a).children();if(!c.length)return 0;var c=c.last().get(0),d=window.getComputedStyle(c),d=parseInt(d.marginBottom,10)||0;return c.getBoundingClientRect().bottom+d-a.getBoundingClientRect().top})}function Rh(a,b){b||(b=Qh(a));return _.min(_.range(b.length),function(a){return b[a]})}
e.va=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};e.Zd=function(){var a=this.v&&this.v.children().get()||[];a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};
function Sh(a,b){function c(a){return a.offsetHeight+a.offsetTop}if(!a.contains(b))throw Error("The given element is not an item in the masonry layout.");var d=c(b[0]);return $(a.v.children().get().filter(function(a){return c(a)>d}))}e.nf=function(){if(this.v){var a=Rh(this),a=this.v.get(a);return $(a)}return null};e.isEmpty=function(){return!(this.v&&this.v.children().length)};e.push=function(a){this.add(a)};
e.Nf=function(){var a=Ph(this),a=this.v&&a!==this.v.length;this.v&&a&&(a=this.Zd().detach(),this.v&&this.v.remove(),this.v=void 0,this.push(a),this.trigger("redraw"))};e.remove=function(a){this.v&&this.v.children().filter(a).remove()};e.removeAll=function(){this.v&&this.v.children().remove()};
e.split=function(a){if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var b=Sh(this,a);if(0===b.length)return null;var c=Nh({Nd:this.Nd,Sb:this.Sb});Oh(c,this.v.length);this.v.each(function(a,f){f=$(f).children().filter(b);c.v.eq(a).append(f)});return c};e.unshift=function(a){this.add(a,!0)};e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;function Th(a){this.F=a.F;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass(Uh(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.Gd=""}e=Th.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;
function Uh(a){switch(a){case Vh:return"modalContentBlurAndDarken";case Wh:return"modalContentDarken";case Xh:return"modalContentClear";case Yh:return"modalContentNone";default:throw Error();}}e.hide=function(){$("body").removeClass(this.Gd).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.F.setTimeout(function(){this.element.detach()}.bind(this),300)};
e.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");Ec(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",Uh(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.Gd+=c+" ")});$("body").addClass(this.Gd)}.bind(this))};
var Vh="BLUR_AND_DARKEN",Wh="DARKEN",Xh="CLEAR",Yh="NONE";function Zh(){}Zh=Backbone.View.extend();Zh.prototype.initialize=function(a){a=_.defaults({},a,{We:!0,content:$(),Pf:!0,wd:!0});this.F=a.F;this.We=!!a.We;this.content=a.content;this.Bf=new Th({style:this.Wg(),F:this.F});this.listenTo(this.Bf,"maskClick",this.blur);this.result=1;this.Pf=!!a.Pf;this.$h=!!a.$h;this.wd=!!a.wd;this.title=a.wd?a.title:""};Zh.Gi=300;e=Zh.prototype;e.blur=function(){this.We&&(this.result=0,this.remove())};e.cancel=function(){this.result=1;this.remove()};
e.fail=function(){this.result=3;this.remove()};e.events=function(){return{"click .close":this.pb,"click .dialogMaskCloseButton":this.pb,"click button.done":this.ok}};e.Wg=function(){return Vh};e.ok=function(){this.result=2;this.remove()};e.pb=function(a){a.preventDefault();this.cancel()};
e.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.Bf.hide();this.trigger("hide",this.result);this.F.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},Zh.Gi);return this};e.render=function(){this.$el.html(this.template(this.xe()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
e.xe=function(){return{showCloseButton:this.Pf,showDialogMaskCloseButton:this.$h,showTitle:this.wd,title:this.title}};e.Wh=function(a){this.$("h2").text(a);this.title=a};e.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.Bf.show(this.$el);this.trigger("show",this);Ec(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};
e.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');var $h=Zh;var ai={LEFT:"left",Qj:"leftTop",Wj:"top",Xj:"topLeft",Tj:"rightTop"};function bi(){}bi=$h.extend();e=bi.prototype;e.initialize=function(a){$h.prototype.initialize.call(this,_.extend({F:Dc},a));this.Hg=a.Hg||"Done";this.ye=void 0!==a.ye?a.ye:!0;this.Lc=null;this.Gh=a.position instanceof Array?a.position:[a.position||"top"];this.position=null;this.Ua=_.defaults({},a.Ua,{left:0,top:0});this.pd=a.pd||!1;this.on("hide",this.zg);this.keydown=this.keydown.bind(this)};
function ci(a){$(document).on("keydown",a.keydown)}e.Aj=function(){$(document).off("keydown",this.keydown)};e.Wg=function(){return Wh};e.getCurrentPosition=function(){return this.position};
e.render=function(){$h.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.pd?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.ye&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.Hg+"\x3c/button\x3e\x3c/p\x3e");return this};
function di(a,b){if(!a.Lc){var c=_.debounce(a.Ai.bind(a),300);window.addEventListener("resize",c,!1);a.on("remove",function(){window.removeEventListener("resize",c,!1)})}a.show();ci(a);a.on("remove",a.Aj);ei(a,b);a.Ai()}function fi(){this.Lf=this.Kf=this.dialogLeft=this.dialogTop=null}
e.Ai=function(){for(var a,b,c=0;c<this.Gh.length;c++){a=b=this.Gh[c];var d=this.pd?5:13,f=this.pd?20:40,g=this.Lc,h=g.offset(),p=h.top-$(document).scrollTop(),k=g.outerWidth(),r=g.outerHeight(),z=this.$(".dialog").outerHeight(),A=this.$(".dialog").outerWidth(),Y=this.$el.width(),g=new fi,Z=Math.round(h.left+k/2-A/2);switch(a){case "top":g.dialogLeft=Z+A+10>Y?Y-A-10:Z;g.dialogLeft+=this.Ua.left;g.dialogTop=Math.round(p)+r+d+this.Ua.top;a=Z-g.dialogLeft;g.Kf="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+A+10>Y?Y-A-10:h.left;g.dialogLeft+=this.Ua.left;g.dialogTop=Math.round(p)+r+d+this.Ua.top;g.Kf=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+k+this.Ua.left;g.dialogTop=p-z/2+d+this.Ua.top;break;case "leftTop":g.dialogLeft=h.left+k+this.Ua.left+d;g.dialogTop=p+r/2-f+this.Ua.top;10>g.dialogTop&&(g.Lf=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-A+this.Ua.left-d,g.dialogTop=p+r/2-f+this.Ua.top,10>g.dialogTop&&(g.Lf=g.dialogTop-10,g.dialogTop=10)}d=a=g;f=this.$(".dialog");
if(!(d.dialogLeft+f.outerWidth()>$(window).width()||d.dialogTop+f.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(ai).join(" ")).addClass(b);c.css("left",a.Kf||"");c.css("margin-top",a.Lf||"");return this};function ei(a,b){a.zg();a.Lc=b;b.addClass("on");b.blur()}e.zg=function(){this.Lc&&this.Lc.removeClass("on")};
e.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};var gi=bi;function hi(){}hi=gi.extend({className:"designCardMenuContainer"});
hi.prototype.initialize=function(a){this.Fg=a.Fg;this.Yh=a.Yh||!1;this.bg=a.bg||null;this.fi=!!a.fi;this.ci=!!a.ci;this.bi=!!a.bi;this.ei=!!a.ei;this.Zh=!!a.Zh;this.ai=!!a.ai;this.di=!!a.di;this.ha=a.ha;gi.prototype.initialize.call(this,{content:this.Mi({docTypeName:this.Fg,showCopyDesign:this.Yh,showTrashDesign:this.fi,showRemoveFromFolder:this.ci,showRemoveFromAllFolders:this.bi,showRestoreDesign:this.ei,showDeleteForever:this.Zh,showEditTemplate:this.ai,showRemoveTemplate:this.di,copyDesign:this.ha.format("designCardMenuCopyDesign"),
trashDesign:this.ha.format("designCardMenuTrashDesign"),removeFromFolder:this.ha.format("designCardMenuRemoveFromFolder",this.bg),removeFromAllFolders:this.ha.format("designCardMenuRemoveFromAllFolders"),restoreDesign:this.ha.format("designCardMenuRestoreDesign"),deleteForever:this.ha.format("designCardMenuDeleteForever"),editTemplate:this.ha.format("designCardMenuEditTemplate"),removeTemplate:this.ha.format("designCardMenuRemoveTemplate")}),ye:!1,position:["leftTop","rightTop"],pd:!0,wd:!1})};
hi.prototype.events=function(){return{"click .designCardMenu__copyDesign":this.Lb.bind(this,"copy"),"click .designCardMenu__trashDesign":this.Lb.bind(this,"trash"),"click .designCardMenu__removeFromFolder":this.Lb.bind(this,"removeFromFolder"),"click .designCardMenu__removeFromAllFolders":this.Lb.bind(this,"removeFromAllFolders"),"click .designCardMenu__restoreDesign":this.Lb.bind(this,"restore"),"click .designCardMenu__deleteForever":this.Lb.bind(this,"deleteForever"),"click .designCardMenu__editTemplate":this.Lb.bind(this,
"editTemplate"),"click .designCardMenu__removeTemplate":this.Lb.bind(this,"removeTemplate")}};hi.prototype.Lb=function(a){this.trigger(a);this.remove()};hi.prototype.Mi=_.template('\x3cdiv class\x3d"infoPanel"\x3e\x3c%- docTypeName %\x3e\x3c/div\x3e\x3cdiv class\x3d"selectMenu"\x3e\x3c% if (showEditTemplate) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__editTemplate"\x3e\x3c%- editTemplate %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showCopyDesign) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__copyDesign"\x3e\x3c%- copyDesign %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showTrashDesign) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__trashDesign"\x3e\x3c%- trashDesign %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRemoveFromFolder) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__removeFromFolder"\x3e\x3c%- removeFromFolder %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRemoveFromAllFolders) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__removeFromAllFolders"\x3e\x3c%- removeFromAllFolders %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRestoreDesign) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__restoreDesign"\x3e\x3c%- restoreDesign %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showDeleteForever) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__deleteForever"\x3e\x3c%- deleteForever %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRemoveTemplate) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__removeTemplate"\x3e\x3c%- removeTemplate %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function ii(){}ii=Backbone.View.extend({className:"designCardFolderList",tagName:"ul"});ii.prototype.initialize=function(a){this.oc=[];this.ha=a.ha};
ii.prototype.render=function(){function a(a){this.$el.append($(this.aj({name:a.getName(),link:"/folder/"+a.g()})))}function b(a){return a.getName()||this.ha.format("designCardFolderLabelDefaultName")}var c;this.$el.empty();3>=this.oc.length?this.oc.forEach(a,this):(this.oc.slice(0,2).forEach(a,this),c=this.oc.slice(2),this.$el.append($(this.oj({moreText:this.ha.format("designCardMoreFolders",c.length),moreTitle:c.map(b,this).join(", ")}))));return this};ii.prototype.oj=_.template('\x3cli class\x3d"designCardFolder designCardFolderMore"\x3e\x3cspan class\x3d"designCardFolderMoreLink" title\x3d"\x3c%- moreTitle %\x3e"\x3e\x3c%- moreText %\x3e\x3c/span\x3e\x3c/li\x3e');
ii.prototype.aj=_.template('\x3cli class\x3d"designCardFolder"\x3e\x3ca class\x3d"designCardFolderLink" href\x3d"\x3c%- link %\x3e" title\x3d"\x3c%- name %\x3e"\x3e\x3c%- name %\x3e\x3c/a\x3e\x3c/li\x3e');var ji=ii;function ki(a){a=_.map(a,function(a,c){if(void 0!==a)return[encodeURIComponent(c),encodeURIComponent(a)].join("\x3d")});a=_.flatten(a).join("\x26");return window.signupLink||"/signup"+(a?"?"+a:"")};function li(){}li=Backbone.View.extend({className:"button buttonLike buttonSmall"});e=li.prototype;e.attributes=function(){return{tabindex:0}};e.events=function(){return{click:this.ld}};e.initialize=function(a){this.Ab=a.Ab;this.wa=a.wa;this.G=a.G;this.ja=a.ja;this.Y=a.Y;this.za=a.za};e.mf=function(){return window.location.pathname+window.location.search};
e.fd=function(){var a=this;this.G=!0;this.ja++;this.render();Vg(this.Y,new bf({Ha:this.Ab,type:"DOCUMENT"})).catch(function(){a.G=!1;a.ja--;a.render();a.trigger("unlike")});this.trigger("like")};e.navigate=function(a){window.location=a};e.ld=function(){this.$el.removeClass("buttonLike--noAnimation");this.wa?this.navigate(ki({loginRedirect:this.mf()})):this.G?mi(this):this.fd()};
e.render=function(){if(1>this.$el.children().length)this.$el.html(this.template(this.xe())),this.$el.addClass("buttonLike--noAnimation");else if(this.tf()){var a=this.G?this.za.fd():this.za.Ha();this.$(".buttonLike__text").attr("data-alternate-text",a)}this.$(".buttonLike__text").html(this.Lj(this.xe()));this.$el.toggleClass("buttonActive",this.G);this.$el.toggleClass("buttonLike__firstLike",this.tf());return this};
e.xe=function(){return{isFirstLike:this.tf(),likedByMe:this.G,likerCount:this.ja,likeLabel:this.za.fd(),likedLabel:this.za.Ha()}};e.tf=function(){return 1>this.ja-this.G};e.template=_.template('\x3cspan class\x3d"buttonLike__fill"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__icon"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__text"\x3c% if (isFirstLike) { %\x3e data-alternate-text\x3d"\x3c%- likedByMe ? likeLabel : likedLabel %\x3e"\x3c% } %\x3e\x3e\x3c/span\x3e');e.Lj=_.template("\x3c% if (isFirstLike) { %\x3e\x3c%- likedByMe ? likedLabel : likeLabel %\x3e\x3c% } else { %\x3e\x3c%- likerCount %\x3e\x3c% } %\x3e");
function mi(a){a.G=!1;a.ja--;a.render();Wg(a.Y,new ff({Ha:a.Ab})).catch(function(){a.G=!0;a.ja++;a.render();a.trigger("like")});a.trigger("unlike")}var ni=li;var oi=new function(){"undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/);this.Hi=255};function pi(a,b,c){a=a.trim();if(a.length<=b)return a;void 0===c&&(c="");var d=a.substr(0,b-c.length),f=a.substr(b-c.length).match(/^\S+/),g=d.match(/\S+$/);g&&f&&(d=d.substr(0,d.length-g[0].length));d=d.trim();""===d&&(d=a.substr(0,b-c.length));return d=d.trim()+c};function qi(a,b,c){this.text=b||null;b=Xc(a);this.text&&this.text.toLocaleLowerCase()===b.format("documentUntitledDesign").toLocaleLowerCase()&&(this.text=null);this.Eg=c||null;this.i=a}qi.prototype.on=Backbone.Events.on;qi.prototype.off=Backbone.Events.off;qi.prototype.trigger=Backbone.Events.trigger;function ri(a){var b=a.text||Xc(a.i).format("documentUntitledDesign");a.Eg&&(null===a.text||""===a.text)&&(b=a.Eg+"  "+b);return b};function si(a){soy.asserts.assertType(goog.isBoolean(a.Nc)||1===a.Nc||0===a.Nc,"brandIsPublic",a.Nc,"boolean");var b=!!a.Nc;soy.asserts.assertType(goog.isNumber(a.Oa),"commentCount",a.Oa,"number");soy.asserts.assertType(goog.isString(a.Tb)||a.Tb instanceof goog.soy.data.SanitizedContent,"commentsLink",a.Tb,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.ta)||1===a.ta||0===a.ta,"editingTitle",a.ta,"boolean");soy.asserts.assertType(goog.isBoolean(a.ad)||1===a.ad||0===
a.ad,"isForSale",a.ad,"boolean");var c=!!a.ad;soy.asserts.assertType(goog.isBoolean(a.bd)||1===a.bd||0===a.bd,"isOwner",a.bd,"boolean");var d=!!a.bd;soy.asserts.assertType(goog.isBoolean(a.cd)||1===a.cd||0===a.cd,"isPublic",a.cd,"boolean");var f=!!a.cd;soy.asserts.assertType(goog.isBoolean(a.dd)||1===a.dd||0===a.dd,"isUnderReview",a.dd,"boolean");var g=!!a.dd;soy.asserts.assertType(goog.isBoolean(a.Za)||1===a.Za||0===a.Za,"isViewOnly",a.Za,"boolean");var h=!!a.Za;soy.asserts.assertType(goog.isBoolean(a.kd)||
1===a.kd||0===a.kd,"newMenuDesign",a.kd,"boolean");var p=!!a.kd;soy.asserts.assertType(null==a.ac||goog.isObject(a.ac),"ownerModel",a.ac,"null|undefined|{avatarUrl: string, displayName: string, username: string}");soy.asserts.assertType(goog.isBoolean(a.Aa)||1===a.Aa||0===a.Aa,"showEditTitle",a.Aa,"boolean");soy.asserts.assertType(goog.isBoolean(a.Va)||1===a.Va||0===a.Va,"showFolders",a.Va,"boolean");var k=!!a.Va;soy.asserts.assertType(goog.isBoolean(a.Ka)||1===a.Ka||0===a.Ka,"showSocialSection",
a.Ka,"boolean");var r=!!a.Ka;soy.asserts.assertType(goog.isBoolean(a.ab)||1===a.ab||0===a.ab,"showVisibilityIcon",a.ab,"boolean");var z=!!a.ab;soy.asserts.assertType(goog.isString(a.Dc)||a.Dc instanceof goog.soy.data.SanitizedContent,"stateBrandPublic",a.Dc,"string|goog.soy.data.SanitizedContent");var A=a.Dc;soy.asserts.assertType(goog.isString(a.Ec)||a.Ec instanceof goog.soy.data.SanitizedContent,"stateForSale",a.Ec,"string|goog.soy.data.SanitizedContent");var Y=a.Ec;soy.asserts.assertType(goog.isString(a.Fc)||
a.Fc instanceof goog.soy.data.SanitizedContent,"statePublic",a.Fc,"string|goog.soy.data.SanitizedContent");var Z=a.Fc;soy.asserts.assertType(goog.isString(a.Gc)||a.Gc instanceof goog.soy.data.SanitizedContent,"stateUnderReview",a.Gc,"string|goog.soy.data.SanitizedContent");var db=a.Gc;soy.asserts.assertType(goog.isString(a.Hc)||a.Hc instanceof goog.soy.data.SanitizedContent,"stateViewOnly",a.Hc,"string|goog.soy.data.SanitizedContent");var eb=a.Hc;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof
goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Me)||a.Me instanceof goog.soy.data.SanitizedContent,"viewOnlyIconText",a.Me,"string|goog.soy.data.SanitizedContent");var oa=a.Me;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCard__clickBarrier"\x3e\x3c/div\x3e\x3cdiv class\x3d"designCardThumbnailContainer"\x3e'+(p?'\x3cbutton class\x3d"button buttonSmall designCardMenuTrigger"\x3e\x3c/button\x3e':
"")+(d&&g?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardUnderReviewIcon" title\x3d"'+soy.$$escapeHtmlAttribute(db)+'"\x3e\x3c/div\x3e':c?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardForSaleIcon" title\x3d"'+soy.$$escapeHtmlAttribute(Y)+'"\x3e\x3c/div\x3e':z?b?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardBrandPublicIcon" title\x3d"'+soy.$$escapeHtmlAttribute(A)+'"\x3e\x3c/div\x3e':f?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardPublicIcon" title\x3d"'+
soy.$$escapeHtmlAttribute(Z)+'"\x3e\x3c/div\x3e':"":h?'\x3cdiv class\x3d"designCard__statusIndicatorText designCardViewOnlyIcon" title\x3d"'+soy.$$escapeHtmlAttribute(eb)+'"\x3e'+soy.$$escapeHtml(oa)+"\x3c/div\x3e":"")+"\x3c/div\x3e"+ti(a)+(k?'\x3cdiv class\x3d"designCard__folderListContainer"\x3e\x3c/div\x3e':"")+(r?ui(a):""))}
function ti(a){soy.asserts.assertType(null==a.ac||goog.isObject(a.ac),"ownerModel",a.ac,"null|undefined|{avatarUrl: string, displayName: string, username: string}");var b=a.ac;soy.asserts.assertType(goog.isBoolean(a.ta)||1===a.ta||0===a.ta,"editingTitle",a.ta,"boolean");var c=!!a.ta;soy.asserts.assertType(goog.isBoolean(a.Aa)||1===a.Aa||0===a.Aa,"showEditTitle",a.Aa,"boolean");var d=!!a.Aa;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,
"string|goog.soy.data.SanitizedContent");a=a.title;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cfigcaption class\x3d"designCard__titleSection"\x3e'+(b?vi(b):"")+'\x3cdiv class\x3d"designCardTitle'+(d?" editable":"")+(c?" editing":"")+'" title\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e'+(c?'\x3cinput type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(a)+'" /\x3e':soy.$$escapeHtml(a))+"\x3c/div\x3e\x3c/figcaption\x3e")}
function vi(a){soy.asserts.assertType(goog.isString(a.username)||a.username instanceof goog.soy.data.SanitizedContent,"username",a.username,"string|goog.soy.data.SanitizedContent");var b=a.username;soy.asserts.assertType(goog.isString(a.cb)||a.cb instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.cb,"string|goog.soy.data.SanitizedContent");var c=a.cb;soy.asserts.assertType(goog.isString(a.displayName)||a.displayName instanceof goog.soy.data.SanitizedContent,"displayName",a.displayName,"string|goog.soy.data.SanitizedContent");
a=a.displayName;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"designCardOwner" href\x3d"/'+soy.$$escapeHtmlAttribute(b)+'" target\x3d"_parent"\x3e\x3cimg src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(c))+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e")}
function ui(a){soy.asserts.assertType(goog.isNumber(a.Oa),"commentCount",a.Oa,"number");var b=a.Oa;soy.asserts.assertType(goog.isString(a.Tb)||a.Tb instanceof goog.soy.data.SanitizedContent,"commentsLink",a.Tb,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCard__socialSection"\x3e\x3ca class\x3d"designCard__commentsLink" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.Tb))+'"\x3e\x3cdiv class\x3d"designCard__commentsIconContainer"\x3e'+
soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"14px" height\x3d"14px" viewBox\x3d"0 0 14 14" version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cg stroke\x3d"none" stroke-width\x3d"1" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(-590.000000, -471.000000)"\x3e\x3cg transform\x3d"translate(575.000000, 114.000000)"\x3e\x3cpath d\x3d"M22,357 C18.13425,357 15,359.742687 15,363.125 C15,365.058312 16.0259375,366.779875 17.625,367.902062 L17.625,371 L20.6914375,369.139313 C21.1158125,369.209312 21.5524375,369.25 22,369.25 C25.86575,369.25 29,366.50775 29,363.125 C29,359.742687 25.86575,357 22,357" transform\x3d"translate(22.000000, 364.000000) scale(-1, 1) translate(-22.000000, -364.000000) "\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/div\x3e"+(0<b?'\x3cspan class\x3d"designCard__commentsLinkText"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e":"")+"\x3c/a\x3e\x3c/div\x3e")}
function wi(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCard__generatingPreview"\x3e\x3cdiv class\x3d"designCard__generatingPreviewContent"\x3e\x3cp\x3e'+soy.$$escapeHtml(a.title)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e")};function xi(){}xi=Backbone.View.extend({className:"designCard",tagName:"figure"});e=xi.prototype;e.initialize=function(a){this.C=a.C||null;this.hc=!!a.hc;this.fa=a.fa;this.qc=a.qc;this.Vc=a.Vc;this.be=a.be;this.qf=a.qf;this.vf=a.vf;this.Za=a.Za;this.wc=null;this.ic=a.ic;this.J=a.J;this.Va=!!a.Va;this.vd=!!a.vd;this.Ka=!!a.Ka;this.ab=!!a.ab;this.Aa=!!a.Aa;this.item=a.item;this.Y=a.Y;this.i=a.i;this.ta=!1};
e.events=function(){return{"click .designCard__clickBarrier":this.If,"click .designCardThumbnail":this.nd,"click .designCardTitle \x3e .more":this.Yi,"click .designCardTitle":this.Kj,"keydown .designCardTitle input":this.vj,"blur .designCardTitle input":this.Uf.bind(this,!0),"click .designCardMenuTrigger":this.If}};e.Yi=function(a){a.preventDefault();a=this.$(".designCardTitle");var b=a.data("fullText");void 0!==b&&a.text(b).removeData("fullText")};
e.Kj=function(a){!this.Aa||window.getSelection().toString().length||this.ta||this.$el.hasClass("titleEditPending")||this.$el.hasClass("designCardTrashed")||(this.ta=!0,a.preventDefault(),this.render(),this.$el.find(".designCardTitle input").select())};e.Uf=function(a){if(this.ta){this.ta=!1;var b=pi(this.$el.find(".designCardTitle input").val().toString(),oi.Hi,"");a&&b!==this.item.getName()&&b!==ri(new qi(this.i,this.item.getName()))&&this.trigger("editTitle",b);this.render()}};
e.vj=function(a){switch(a.keyCode){case 13:this.Uf(!0);break;case 27:this.Uf(!1)}};
e.If=function(){function a(a){this.trigger(a);if(this.C){var b=this.C,f={};f.type=a;f.section="homepage";f.subsection=null;f.location="design_card_menu";b.track("button_click",f)}}var b=this;this.ic&&(this.wc&&this.stopListening(this.wc),this.wc=this.ic(),this.listenTo(this.wc,{copy:function(){return b.trigger("copy")},trash:function(){return b.trigger("trash")},removeFromFolder:a.bind(this,"removeFromFolder"),removeFromAllFolders:a.bind(this,"removeFromAllFolders"),restore:a.bind(this,"restore"),
deleteForever:a.bind(this,"deleteForever"),editTemplate:a.bind(this,"editTemplate"),removeTemplate:a.bind(this,"removeTemplate")}),di(this.wc,this.$(".designCardMenuTrigger")),this.$(".designCardMenuTrigger").toggleClass("pointLeft","rightTop"===this.wc.getCurrentPosition()))};e.nd=function(){this.hc?this.If():this.trigger("thumbnailClick")};e.Fb=function(){return this.$(".designCardThumbnail")};
e.render=function(){N(!this.Ka||!!this.Vc,"Cannot render social section without getCommentsLink.");N(!this.Ka||!!this.fa,"Cannot render social section without currentUser.");var a=Ia(hh(this.item),"items must have socialMetadata"),b="OWNER"===a.Cf,c=Zc(this.i);this.$el.data("id",this.item.g());this.$el.html(si({Nc:!!a.Ve,Oa:a.Oa,Tb:this.Vc?this.Vc().href:"",ta:this.ta,ad:"APPROVED"==this.item.marketplaceStatus,bd:b,cd:!!a.ka,dd:"UNDER_REVIEW"==this.item.marketplaceStatus,Za:this.Za,kd:void 0!==this.ic,
ac:this.vd?yi(this):void 0,Aa:this.Aa,Va:!!this.Va,Ka:this.Ka,ab:this.ab,Dc:c.Dc(),Ec:c.Ec(),Fc:c.Fc(),Gc:c.Gc(),Hc:c.Hc(),title:ri(new qi(this.i,this.item.getName())),Me:c.format("designCardViewOnlyIcon")}).toString());a=this.$(".designCardTitle");b=a.text().trim();c=pi(b,100);b!=c&&a.data("fullText",b).text(c+" ").append('\x3cbutton class\x3d"more" tabindex\x3d"-1"\x3eSeemore\x3c/button\x3e');this.$el.toggleClass("designCardOwnerVisible",this.vd);this.$el.toggleClass("designCard--clickTriggersMenu",
this.hc);zi(this);this.Va&&(a=this.$(".designCard__folderListContainer"),N(a,'Cannot render the folder list without a ".designCard__folderListContainer"'),this.gf||(this.gf=new ji({ha:Zc(this.i)})),this.gf.delegateEvents(),this.gf.render().$el.appendTo(a));this.Ka&&(this.ya=new ni({Ab:this.item.g(),wa:this.fa.wa(),G:hh(this.item).G,ja:hh(this.item).ja,Y:this.Y,za:ad(this.i)}),this.ya.render().$el.appendTo(this.$(".designCard__socialSection")));return this};
function yi(a){N(!!a.J,"Cannot build owner model without an owner User");return{cb:a.J.pf(),displayName:a.J.Ma(),username:a.J.K()}}
function zi(a){var b=$("\x3ca\x3e").addClass("designCardThumbnail");if(!a.hc){var c=a.qc();b.attr("href",c.href);c.xj&&b.attr("target","_blank")}b.css({backgroundImage:"url('"+a.be()+"')",paddingBottom:100/function(){var b=a.item.Fb();return b.Ga()/b.va()}()+"%"});a.vf&&(c=Zc(a.i),b.append(wi({title:a.qf?c.format("designCardUpdatingPreview"):c.format("designCardGeneratingPreview")}).toString()));a.$(".designCardThumbnailContainer").prepend(b)}var Ai=xi;var Bi={Pj:"edit",Rj:"remix",Sj:"render",Uj:"screen",Vj:"share",Yj:"view"};function Ci(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")+""}function Di(a){a=a.split("?")[0].split("/").pop();for(var b=Object.keys(Bi).map(function(a){return Bi[a]}),c=0;c<b.length;c++){var d=b[c];if(a===d)return d}return null}
function Ei(a){return Ci(a,"view",null)+"?"+["utm_content\x3d"+encodeURIComponent(a),"utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26")};function Fi(a){var b=Gi.bind(null,a.item),c=Hi.bind(null,a.item);this.fa=a.fa;this.Pi=a.Pi||null;this.item=a.item;var d=a.C,f=a.hc,g=a.ic,h=this.fa,p=a.qc,b=a.be||b,k=0<a.item.Fb().getVersion(),r;r=a.item;r=null==r.getVersion()?!1:r.getVersion()>r.Fb().getVersion();this.view=new Ai({C:d,hc:f,ic:g,fa:h,Vc:c,qc:p,be:b,qf:k,vf:r,Za:!!a.Za,i:a.i,J:a.J,Aa:!!a.Aa,Va:!!a.Va,vd:!!a.vd,Ka:!!a.Ka,ab:!!a.ab,item:a.item,Y:a.Y});this.listenTo(this.view,{thumbnailClick:this.trigger.bind(this,"thumbnailClick"),
editTitle:this.trigger.bind(this,"editTitle"),copy:this.trigger.bind(this,"copy"),trash:this.trigger.bind(this,"trash"),removeFromFolder:this.trigger.bind(this,"removeFromFolder"),removeFromAllFolders:this.trigger.bind(this,"removeFromAllFolders"),restore:this.trigger.bind(this,"restore"),deleteForever:this.trigger.bind(this,"deleteForever"),editTemplate:this.trigger.bind(this,"editTemplate"),removeTemplate:this.trigger.bind(this,"removeTemplate")})}function Gi(a){return a.Fb().Fa()}
function Hi(a){return{href:Ci(a.g(),"view",void 0),xj:!1}}e=Fi.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.trigger=Backbone.Events.trigger;e.getElement=function(){return this.view.$el};e.getItem=function(){return this.item};e.render=function(){this.view.render();return this};function Ii(){}Ii=Backbone.View.extend();Ii.Ii=250;e=Ii.prototype;e.initialize=function(a){this.Qb=a.Qb;this.ob=a.ob;this.Ef=a.Ef};e.events=function(){return{"click .designCardThumbnail":this.nd,"click .designCard__commentsLink":this.qj}};e.nd=function(a){if(!(a.ctrlKey||a.metaKey||1<a.which)&&this.Ef){var b=$(a.currentTarget).closest(".designCard");this.trigger("thumbnailClick",a,b.data("id"))}};
e.qj=function(a){a.ctrlKey||a.metaKey||1<a.which||(a.preventDefault(),a=$(a.currentTarget).closest(".designCard"),this.trigger("commentsClick",a.data("id")))};e.render=function(){this.$el.append(this.ob.$el,this.Qb.$el);return this};e.Nf=function(){this.ob.Nf()};e.nf=function(){return this.ob.nf()};function Ji(a,b){b?a.Qb.show():a.Qb.hide()}e.Mh=function(){return'\x3cp class\x3d"designCardListEmptyMessage"\x3eNo designs found\x3c/p\x3e'};e.Nh=function(){return'\x3cp class\x3d"designCardListErrorMessage"\x3eAn error occurred and we weren\'t able to load any designs\x3c/p\x3e'};
e.push=function(a){var b=Array.prototype.slice.call(arguments,0);0!==b.length&&(b=b.map(function(a){return a.render().getElement()[0]}),this.ob.push($(b)))};e.unshift=function(a){var b=Array.prototype.slice.call(arguments,0);0!==b.length&&(b=b.map(function(a){return a.render().getElement()[0]}),this.ob.unshift($(b)))};var Ki=Ii;function Li(){}Li=Ki.extend();Li.create=function(a){var b=(new Lh).render(),c=Nh({Sb:function(a){return Math.floor(a/Ki.Ii)}});return new Li({o:a.o,Qb:b,sc:a.sc,ob:c,Kc:a.Kc})};e=Li.prototype;e.initialize=function(a){Ki.prototype.initialize.call(this,{Qb:a.Qb,ob:a.ob,Ef:!0});this.o=a.o;this.sc=a.sc;this.Kc=a.Kc};e.Mh=function(){return this.Vi({emptyMessage:this.sc?this.o.format("userProfileEmptyDesignListMessageOwnProfile"):this.o.format("userProfileEmptyDesignListMessageOtherProfile",this.Kc)})};
e.Vi=_.template('\x3cp class\x3d"designCardListEmptyMessage userDesignsEmpty"\x3e\x3c%- emptyMessage %\x3e\x3c/p\x3e');e.Nh=function(){return this.Wi({errorMessage:this.sc?this.o.format("userProfileDesignListErrorMessageOwnProfile"):this.o.format("userProfileDesignListErrorMessageOtherProfile",this.Kc)})};e.Wi=_.template('\x3cp class\x3d"designCardListErrorMessage"\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e');var Mi=Li;function Ni(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var f=a.type;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");var g=a.j;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var p=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var k=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var r=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var z=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var A=null==(b=z)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(A)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=f)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==z?" disabled":"")+(r?" buttonSmall":"")+'"'+(p?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(p))+'"':"")+(k?' id\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+(h&&"a"!=z?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(A)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function Oi(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");
var f=a.j;soy.asserts.assertType(null==a.Sc||goog.isBoolean(a.Sc)||1===a.Sc||0===a.Sc,"dark",a.Sc,"boolean|null|undefined");var g=a.Sc;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(f?" "+soy.$$escapeHtmlAttribute(f):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function Pi(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.Fd||goog.isBoolean(a.Fd)||1===a.Fd||0===a.Fd,"withShadow",
a.Fd,"boolean|null|undefined");var f=a.Fd;soy.asserts.assertType(null==a.Ed||goog.isBoolean(a.Ed)||1===a.Ed||0===a.Ed,"withRoundedCorners",a.Ed,"boolean|null|undefined");var g=a.Ed;soy.asserts.assertType(null==a.Dd||goog.isBoolean(a.Dd)||1===a.Dd||0===a.Dd,"withCloseButton",a.Dd,"boolean|null|undefined");var h=a.Dd;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");var p=a.j;soy.asserts.assertType(null==a.Od||
a.Od instanceof goog.soy.data.SanitizedContent||goog.isString(a.Od),"contentClasses",a.Od,"null|string|undefined");a=a.Od;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Oi({visible:d,j:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(p?" "+p:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=f)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function Qi(a){soy.asserts.assertType(goog.isBoolean(a.G)||1===a.G||0===a.G,"likedByMe",a.G,"boolean");var b=!!a.G;soy.asserts.assertType(goog.isString(a.he)||a.he instanceof goog.soy.data.SanitizedContent,"likeLabel",a.he,"string|goog.soy.data.SanitizedContent");var c=a.he;soy.asserts.assertType(goog.isString(a.ie)||a.ie instanceof goog.soy.data.SanitizedContent,"likedLabel",a.ie,"string|goog.soy.data.SanitizedContent");var d=a.ie,f=goog.asserts.assertNumber(a.ja,"expected parameter 'likerCount' of type int.");
soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");a=a.j;var g=b?1==f:0==f,b=""+('\x3cdiv class\x3d"button buttonLike'+(g?" buttonLike--firstLike":"")+(b?" buttonActive":"")+(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cspan class\x3d"buttonLike__fill"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__icon"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__text '+(g?b?" buttonLike__text--liked ":"buttonLike__text--like":
"")+'" data-like-msg\x3d"'+soy.$$escapeHtmlAttribute(c)+'" data-liked-msg\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-like-count\x3d"'+soy.$$escapeHtmlAttribute(f)+'"\x3e\x3c/span\x3e\x3c/div\x3e');return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function Ri(a){soy.asserts.assertType(goog.isString(a.Da)||a.Da instanceof goog.soy.data.SanitizedContent,"errorText",a.Da,"string|goog.soy.data.SanitizedContent");var b=a.Da;soy.asserts.assertType(null==a.frames||goog.isArray(a.frames),"frames",a.frames,"?Array\x3c{errorText: string, previewSrc: (null|string|undefined), thumbnailSrc: (null|string|undefined), unvailableText: string, visible: (boolean|null|undefined)}\x3e|undefined");var c=a.frames;soy.asserts.assertType(null==a.$a||goog.isBoolean(a.$a)||
1===a.$a||0===a.$a,"loading",a.$a,"boolean|null|undefined");var d=a.$a;soy.asserts.assertType(a.rb instanceof soydata.SanitizedHtml||a.rb instanceof soydata.UnsanitizedText||goog.isString(a.rb),"pagination",a.rb,"soydata.SanitizedHtml");var f=a.rb;soy.asserts.assertType(a.sidebar instanceof soydata.SanitizedHtml||a.sidebar instanceof soydata.UnsanitizedText||goog.isString(a.sidebar),"sidebar",a.sidebar,"soydata.SanitizedHtml");a=a.sidebar;d='\x3cdiv class\x3d"lightbox'+(null==d||d?" lightbox--loading":
"")+'" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"lightbox__frames"\x3e';if(c)for(var g=c.length,h=0;h<g;h++)d+=Si(c[h],void 0);d+='\x3cdiv class\x3d"lightbox__framesBackstop"\x3e\x3c/div\x3e'+soy.$$escapeHtml(f)+'\x3cdiv class\x3d"lightbox__error lightbox__documentError"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"lightbox__loadingIndicator"\x3e\x3c/div\x3e\x3c/div\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(d)}
function Ti(a){var b;a=a||{};soy.asserts.assertType(null==a.title||a.title instanceof goog.soy.data.SanitizedContent||goog.isString(a.title),"title",a.title,"null|string|undefined");var c=a.title;soy.asserts.assertType(null==a.Xa||a.Xa instanceof soydata.SanitizedHtml||a.Xa instanceof soydata.UnsanitizedText||goog.isString(a.Xa),"byline",a.Xa,"?soydata.SanitizedHtml|string|undefined");var d=a.Xa;soy.asserts.assertType(null==a.ya||goog.isObject(a.ya),"likeButton",a.ya,"null|undefined|{likeLabel: string, likedByMe: boolean, likedLabel: string, likerCount: number}");
var f=a.ya;soy.asserts.assertType(null==a.Bb||goog.isObject(a.Bb),"editButton",a.Bb,"null|undefined|{label: string, url: string}");var g=a.Bb;soy.asserts.assertType(null==a.Kb||goog.isObject(a.Kb),"remixButton",a.Kb,"null|undefined|{label: string, url: string}");a=a.Kb;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"lightbox__header"\x3e\x3ch1 class\x3d"lightbox__title"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+'\x3c/h1\x3e\x3cp class\x3d"lightbox__byline"\x3e'+soy.$$escapeHtml(null==
(b=d)?"":b)+'\x3c/h1\x3e\x3csection class\x3d"lightbox__actionButtons"\x3e'+(g?Ui(soy.$$assignDefaults({j:"lightbox__actionButton--edit"},g)):'\x3cspan class\x3d"lightbox_editButtonPlaceholder"\x3e\x3c/span\x3e')+(a?Ui(soy.$$assignDefaults({j:"lightbox__actionButton--remix"},a)):'\x3cspan class\x3d"lightbox_remixButtonPlaceholder"\x3e\x3c/span\x3e')+(f?Qi(soy.$$assignDefaults({j:"lightbox__actionButton lightbox__likeButton"},f)):'\x3cspan class\x3d"lightbox__likeButtonPlaceholder"\x3e\x3c/span\x3e')+
"\x3csection\x3e\x3c/header\x3e")}
function Ui(a){soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");var b=a.url;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var c=a.label;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");a=a.j;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Ni({tagName:"a",
small:!0,href:b,text:c,j:soydata.$$markUnsanitizedTextForInternalBlocks("lightbox__actionButton"+(a?" "+a:"")),attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('title\x3d"'+soy.$$escapeHtmlAttribute(c)+'" target\x3d"_blank"')}))}
function Si(a,b){b=b||{};soy.asserts.assertType(goog.isString(a.Da)||a.Da instanceof goog.soy.data.SanitizedContent,"errorText",a.Da,"string|goog.soy.data.SanitizedContent");var c=a.Da;soy.asserts.assertType(null==a.sd||a.sd instanceof goog.soy.data.SanitizedContent||goog.isString(a.sd),"previewSrc",a.sd,"null|string|undefined");var d=a.sd;soy.asserts.assertType(null==a.xd||a.xd instanceof goog.soy.data.SanitizedContent||goog.isString(a.xd),"thumbnailSrc",a.xd,"null|string|undefined");var f=a.xd;
soy.asserts.assertType(goog.isString(a.Ie)||a.Ie instanceof goog.soy.data.SanitizedContent,"unavailableText",a.Ie,"string|goog.soy.data.SanitizedContent");var g=a.Ie;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__frame'+(a.visible?" lightbox__frame--visible":"")+(d?"":" lightbox__frame--unavailable")+'"\x3e\x3cimg class\x3d"lightbox__imageLoader lightbox__thumbnailLoader"'+
(f?' src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(f))+'"':"")+'\x3e\x3cdiv class\x3d"lightbox__image lightbox__thumbnail"'+(f?' style\x3d"'+(b.eb?"/*"+b.eb+"*/":"")+"background-image: url("+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(f))+');"':"")+'\x3e\x3c/div\x3e\x3cimg class\x3d"lightbox__imageLoader lightbox__previewLoader"'+(d?' src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(d))+'"':"")+'\x3e\x3cdiv class\x3d"lightbox__image lightbox__preview"'+
(d?' style\x3d"'+(b.eb?"/*"+b.eb+"*/":"")+"background-image: url("+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(d))+');"':"")+'\x3e\x3c/div\x3e\x3cp class\x3d"lightbox__error lightbox__frameError"\x3e'+soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"lightbox__error lightbox__frameUnavailable"\x3e'+soy.$$escapeHtml(g)+"\x3c/p\x3e\x3c/div\x3e")};function Vi(a){this.$el=a}Vi.prototype.remove=function(){this.$el.remove()};function X(a){this.$el=a;this.vc={}}X.prototype.remove=function(){this.$el.off();this.$el.remove()};X.prototype.on=function(a,b){M(!this.vc[a],"listener already registered for event {}",a);this.vc[a]=b};X.prototype.off=function(a,b){null==a?this.vc={}:null!=b&&this.vc[a]!=b||delete this.vc[a]};X.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.vc[a])&&d.apply(null,[].concat(n(c)))};function Wi(a){var b;b={};soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");var c=a.j;soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");a=a.url;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"avatar'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+'" style\x3d"'+(b.eb?"/*"+b.eb+"*/":"")+"background-image: url("+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a))+');"\x3e\x3c/div\x3e')};function Xi(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),
"classes",a.j,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+Yi(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+Yi(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function Yi(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||
goog.isString(a.j),"classes",a.j,"null|string|undefined");var d=a.j;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var f=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var p=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var k=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var r=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var z=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(z?" textInputSmall":"")+'"'+(f?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(p?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(p)+'"':"")+("textarea"!=k?' type\x3d"'+soy.$$escapeHtmlAttribute(null==r?"text":r)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};function Zi(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"mouseover li":function(a){return $(a.currentTarget).addClass("hovering")},"mouseout li":function(a){return $(a.currentTarget).removeClass("hovering")},"hover li.selectable":function(a){b.uf||b.trigger("hover",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length)},"mouseup li.selectable":function(a){b.trigger("trigger",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length,
a)},"click li:not(.selectable)":function(){b.trigger("clickNonSelectable")}}});this.uf=!1;this.Tf=_.debounce(this.Tf,500);this.ne=this.ne.bind(this);$(document).on("keydown",this.ne)}q(Zi,Backbone.View);function $i(a){var b=$(aj({className:a.className?" "+a.className:""}));a=a.elements.map(function(a){return $("\x3cli\x3e").toggleClass("selectable",a.Vh).toggleClass("toolbar__menuHeader",a.ij).append(a.element)});var c;(c=b.find("ul")).append.apply(c,[].concat(n(a)));return new Zi({el:b[0]})}e=Zi.prototype;
e.select=function(a){this.$("li.active").removeClass("active");this.$("li.selectable").eq(a).addClass("active")};e.we=function(a){var b=this.$("li.active").position().top,c=this.$(".menuList__inner"),d=this.$el.outerHeight(),b=c.scrollTop()+b-d/2;a?c.scrollTop(b):c.stop().animate({scrollTop:b},100)};e.remove=function(){$(document).off("keydown",this.ne);Backbone.View.prototype.remove.call(this)};e.Tf=function(){this.uf=!1};
e.ne=function(a){if("visible"===this.$el.css("visibility")){this.uf=!0;this.Tf();if(38===a.which)this.trigger("keyUp",a);else if(40===a.which)this.trigger("keyDown",a);else if(9===a.which&&a.shiftKey)this.trigger("keyShiftTab",a);else if(9===a.which)this.trigger("keyTab",a);else if(13===a.which)this.trigger("keyEnter",a);else if(27===a.which)this.trigger("keyEsc",a);else return;a.preventDefault();return!1}};function bj(a){this.element=a instanceof jQuery?a:$(a);this.Vh=!0;this.ij=!1}var aj=_.template('\n  \x3cdiv class\x3d"menuList\x3c%- className %\x3e"\x3e\n    \x3cul class\x3d"menuList__inner"\x3e\x3c/ul\x3e\n  \x3c/div\x3e\n');function cj(a){var b=this;this.index=a.index;this.ub=a.ub;this.view=a.view;this.listenTo(this.view,{keyUp:function(){return dj(b,!1)},keyDown:function(){return ej(b,!1)},keyTab:function(){return ej(b,!0)},keyShiftTab:function(){return dj(b,!0)},keyEnter:function(a){return fj(b,a)},keyEsc:function(){return b.trigger("cancel")},hover:function(a){b.index=a;b.view.select(a)},trigger:function(a,d){b.trigger("select",a,b.ub[a],d)},clickNonSelectable:function(){return b.trigger("cancel")}})}
function gj(a){var b=$i({elements:a.elements,className:a.className});"undefined"!==typeof a.Rd&&b.select(a.Rd);return new cj({index:"undefined"===typeof a.Rd?null:a.Rd,ub:a.elements.filter(function(a){return a.Vh}),view:b})}function dj(a,b){a.index||(a.index=0);a.index--;0>a.index&&(a.index=b?a.ub.length-1:0);a.view.select(a.index);a.view.we();a.trigger("activeChange",a.ub[a.index])}e=cj.prototype;e.we=function(a){this.view.we(a)};
function ej(a,b){a.index||(a.index=0);a.index++;a.index>=a.ub.length&&(a.index=b?0:a.ub.length-1);a.view.select(a.index);a.view.we();a.trigger("activeChange",a.ub[a.index])}function fj(a,b){null!==a.index&&a.trigger("select",a.index,a.ub[a.index||0],b)}e.remove=function(){this.stopListening();this.view.remove()};e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;e.on=Backbone.Events.on;function hj(a){var b=this;X.call(this,a);this.Pa=null;a.on("input",function(a){return b.Hf(a)});a.on("keydown",function(a){return b.md(a)});a.on("blur",function(){b.Pa&&!b.Pa.view.$("li").hasClass("hovering")&&b.pb()})}q(hj,X);hj.prototype.Hf=function(a){a=$(a.target);this.trigger(ij,a.val(),a[0].selectionEnd)};hj.prototype.md=function(a){13==a.keyCode&&!a.shiftKey&&this.Pa&&(a.stopImmediatePropagation(),a.preventDefault(),fj(this.Pa,a))};
hj.prototype.pb=function(){this.Pa&&(this.Pa.remove(),this.Pa=null)};
hj.prototype.show=function(a){var b=this;a=a.map(function(a){var b=$,f;soy.asserts.assertType(goog.isString(a.cb)||a.cb instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.cb,"string|goog.soy.data.SanitizedContent");f=a.cb;soy.asserts.assertType(null==a.displayName||a.displayName instanceof goog.soy.data.SanitizedContent||goog.isString(a.displayName),"displayName",a.displayName,"null|string|undefined");var g=a.displayName;soy.asserts.assertType(goog.isString(a.username)||a.username instanceof
goog.soy.data.SanitizedContent,"username",a.username,"string|goog.soy.data.SanitizedContent");a=a.username;f=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"mention__userAvatar avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(f))+'" /\x3e\x3cdiv class\x3d"mention__user"\x3e\x3cspan class\x3d"mention__userDisplayName"\x3e'+soy.$$escapeHtml(g)+'\x3c/span\x3e\x3cspan class\x3d"mention__username"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e");return new bj(b(f.toString()))});
this.Pa=gj({elements:a,Rd:0,className:"mentionList"});this.Pa.on("select",function(a){return b.trigger(jj,a)});this.Pa.on("cancel",function(){return b.pb()});this.Pa.view.$el.outerWidth(this.$el.outerWidth());this.$el.after(this.Pa.view.$el)};var ij="INPUT",jj="SELECT";function kj(a,b){var c=this;X.call(this,a);this.nj=b;this.fc=a.find(".commentList__comments");this.Nb=a.find(".commentList__form__input");a.on("input",".commentList__form__input",function(){return lj(c)});a.on("keydown",".commentList__form__input",function(a){return c.md(a)});this.fc.on("scroll",function(){var a=c.fc[0].getBoundingClientRect().bottom,b=c.$el.find(".comment:last-child")[0];100>(b?b.getBoundingClientRect().bottom:Infinity)-a&&c.trigger(mj)});a.on("click",".comment__metadata__delete",
function(a){a=new nj($(a.target).closest(".comment"));c.trigger(oj,a)})}q(kj,X);function pj(a){var b=a.find(".commentList__form__input"),b=new hj(b);return new kj(a,b)}function qj(a,b){a.Nb.val(b);lj(a)}function lj(a){var b=getComputedStyle(a.Nb[0]),b=parseInt(b.borderBottomWidth,10)+parseInt(b.borderTopWidth,10);a.Nb.css("height","");a.Nb.css("height",a.Nb.prop("scrollHeight")+b)}kj.prototype.prepend=function(a){a=rj(a);this.fc.prepend(a.$el);return a};
kj.prototype.replace=function(a,b){b=rj(b);a.$el.replaceWith(b.$el);return b};kj.prototype.append=function(a){a=rj(a);this.fc.append(a.$el);return a};kj.prototype.md=function(a){13!=a.keyCode||a.shiftKey||(a.preventDefault(),this.trigger(sj,this.Nb.val()))};var sj="SUBMIT",oj="DELETE",mj="NEAR_BOTTOM";function nj(a){Vi.apply(this,arguments)}q(nj,Vi);
function rj(a){var b=$,c;soy.asserts.assertType(goog.isString(a.Hd)||a.Hd instanceof goog.soy.data.SanitizedContent,"authorAvatarUrl",a.Hd,"string|goog.soy.data.SanitizedContent");c=a.Hd;soy.asserts.assertType(goog.isString(a.Id)||a.Id instanceof goog.soy.data.SanitizedContent,"authorName",a.Id,"string|goog.soy.data.SanitizedContent");var d=a.Id;soy.asserts.assertType(goog.isString(a.Jd)||a.Jd instanceof goog.soy.data.SanitizedContent,"authorProfileUrl",a.Jd,"string|goog.soy.data.SanitizedContent");
var f=a.Jd;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var g=a.content;soy.asserts.assertType(goog.isString(a.X)||a.X instanceof goog.soy.data.SanitizedContent,"created",a.X,"string|goog.soy.data.SanitizedContent");var h=a.X;soy.asserts.assertType(goog.isString(a.kc)||a.kc instanceof goog.soy.data.SanitizedContent,"deleteLabel",a.kc,"string|goog.soy.data.SanitizedContent");
var p=a.kc;soy.asserts.assertType(goog.isString(a.le)||a.le instanceof goog.soy.data.SanitizedContent,"modelId",a.le,"string|goog.soy.data.SanitizedContent");var k=a.le;soy.asserts.assertType(goog.isBoolean(a.ud)||1===a.ud||0===a.ud,"showDelete",a.ud,"boolean");a=!!a.ud;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comment'+(a?" comment--deletable":"")+'" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+Wi({j:"comment__avatar",url:c})+'\x3cdiv class\x3d"comment__metadata"\x3e\x3ca class\x3d"comment__metadata__authorName" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(f))+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e \x3cspan class\x3d"comment__metadata__created"\x3e'+soy.$$escapeHtml(h)+"\x3c/span\x3e "+(a?'\x3cbutton class\x3d"comment__metadata__delete" title\x3d"'+soy.$$escapeHtmlAttribute(p)+'"\x3e\x3c/button\x3e':"")+'\x3c/div\x3e\x3cdiv class\x3d"comment__content"\x3e'+soy.$$escapeHtml(g)+"\x3c/div\x3e\x3c/div\x3e");b=b(c.toString());return new nj(b)};function tj(a){return new P(function(b){function c(f){f.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function uj(a){this.$el=a}q(uj,Vi);function vj(a){M(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new uj(a)}uj.prototype.show=function(){this.Ra(!0);this.$el.hasClass("mask2--blur")&&wj(this,!0)};uj.prototype.hide=function(){this.Ra(!1);this.$el.hasClass("mask2--blur")&&wj(this,!1);return tj(this.$el[0])};uj.prototype.Ra=function(a){this.$el.toggleClass("mask2--visible",a);$("body").toggleClass("mask2Visible",a)};uj.prototype.wf=function(){return this.$el.hasClass("mask2--visible")};
function wj(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function xj(a,b){var c=this;X.call(this,a);this.$f=b;this.uh=this.tj.bind(this);this.$el.on("click",function(a){return c.ld(a)});this.$f.on("keyup",this.uh)}q(xj,X);e=xj.prototype;e.remove=function(){X.prototype.remove.call(this);this.$f.off("keyup",this.uh)};e.show=function(){var a=this;Ec(function(){return vj(a.$el).show()})};e.hide=function(){return vj(this.$el).hide()};e.wf=function(){return vj(this.$el).wf()};e.ld=function(a){!$(a.target).closest(".dialog2__content").length&&yj(this)&&this.trigger(zj)};
e.tj=function(a){27===a.keyCode&&yj(this)&&this.trigger(zj)};function yj(a){return!!a.$el.find(".dialog2__closeButton").length}var zj="CLOSE";function Aj(a,b){this.$el=a;this.className=b}q(Aj,Vi);function Bj(a){a.$el.addClass(a.className);a=a.$el.get(0);var b=a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;Ia(b,"browser doesn't implement Element::requestFullscreen");b.call(a)}
Aj.prototype.exitFullscreen=function(){this.$el.removeClass(this.className);var a=document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.exitFullscreen;Ia(a,"browser doesn't implement Document::exitFullscreen");a&&a.call(document)};
function Cj(a){function b(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||(a(),$(document).off("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",b))}$(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",b)};function Dj(a){var b=this;X.call(this,a);a.on("click",function(){return b.trigger(Ej)})}q(Dj,X);Dj.prototype.getCount=function(){return parseInt(this.$el.find(".buttonLike__text").attr("data-like-count"),10)};function Fj(a,b){a.$el.toggleClass("buttonActive",b);var c=a.$el.find(".buttonLike__text");c.toggleClass("buttonLike__text--like",!b);c.toggleClass("buttonLike__text--liked",b);b?Gj(a,a.getCount()+1):Gj(a,a.getCount()-1)}
function Gj(a,b){a.$el.find(".buttonLike__text").attr("data-like-count",b)}var Ej="CLICK";function Hj(a,b,c){var d=this;X.call(this,a);this.la=b;this.ya=c;a.on("click",".lightbox__enterPresentation",function(){return d.trigger(Ij)});a.on("mousemove",function(){return d.trigger(Jj)});a.on("click",".lightbox__exitPresentation",function(){(new Aj(d.$el,"lightbox--fullscreen")).exitFullscreen()});a.on("click",".lightbox__previousFrame",function(){return d.trigger(Kj)});a.on("click",".lightbox__nextFrame",function(){return d.trigger(Lj)});a.on("click",".lightbox__shareItem--more",function(){return d.trigger(Mj)});
a.on("click",".lightbox__shareItem--share",function(){return d.trigger(Mj)});a.on("click",".lightboxShare__close",function(){return d.trigger(Nj)});a.on("click",".lightboxShare__button--embed",function(){return d.trigger(Oj)});a.on("click",".lightboxShare__button--copy",function(){return d.trigger(Pj)});a.on("click",".lightboxShare__shareItem",function(a){return d.trigger(Qj,a.target.dataset.medium)});a.on("click",".lightboxShare__embedTextArea",function(){return d.trigger(Rj)});a.on("click",".lightboxShare__shareItem",
function(a){return d.trigger(Qj,a.target.getAttribute["data-medium"],"overlay")});a.on("click",".lightbox__shareItem",function(a){return d.trigger(Qj,a.target.getAttribute["data-medium"],"footer")});a.on("click",".lightbox__actionButton--edit",function(){return d.trigger(Sj)});a.on("click",".lightbox__actionButton--remix",function(){return d.trigger(Tj)});a.on("keydown",function(a){return d.md(a)})}q(Hj,X);
function Uj(a){var b=a.find(".lightbox__commentList").children().first(),c=null;b.length&&(c=pj(b));var b=a.find(".lightbox__likeButton"),d=null;b.length&&(d=new Dj(b));a=new Hj(a,c,d);a.$el.find(".lightbox__frame").get().forEach(function(a){return Vj($(a))});return a}function Wj(a){return a.$el.find(".lightbox__frame").get().map(function(a){return new Xj($(a))})}e=Hj.prototype;e.focus=function(){this.$el.focus()};
function Yj(a,b){b=Zj(b);b.$el.insertBefore(a.$el.find(".lightbox__framesBackstop"));return b}function ak(a,b){a.$el.toggleClass("lightbox--presentation",b);var c=new Aj(a.$el,"lightbox--fullscreen");b&&(Bj(c),Cj(function(){a.trigger(bk)}));a.focus()}function ck(a,b){a.$el.find(".lightbox__currentFrameText").text(b)}function dk(a,b){a.$el.find(".lightbox__pagination").toggleClass("lightbox__pagination--hidden",b)}
e.ze=function(){this.$el.toggleClass("lightbox--error",!0);this.$el.toggleClass("lightbox--loading",!1)};e.Wh=function(a){this.$el.find(".lightbox__title, .lightboxShare__title").text(a)};function ek(a,b){a.$el.find(".lightbox__byline, .lightboxShare__byline").html(b)}function fk(a,b){b=$(Qi(b).toString());b=new Dj(b);a.ya?(b.$el.insertAfter(a.ya.$el),a.ya.remove()):a.$el.find(".lightbox__likeButtonPlaceholder").replaceWith(b.$el);return a.ya=b}
function gk(a,b){b=$(Ui(b).toString());var c=a.$el.find(".lightbox_editButtonPlaceholder");c.length||(c=a.$el.find(".lightbox__actionButton--edit"));c.replaceWith(b)}function hk(a,b){b=$(Ui(b).toString());var c=a.$el.find(".lightbox_remixButtonPlaceholder");c.length||(c=a.$el.find(".lightbox__actionButton--remix"));c.replaceWith(b)}
function ik(a){var b=a.$el.find(".lightbox__frame"),c=$(b[0]).hasClass("lightbox__frame--visible");a.$el.find(".lightbox__previousFrame").toggleClass("lightbox__previousFrame--disabled",c);b=$(b[b.length-1]).hasClass("lightbox__frame--visible");a.$el.find(".lightbox__nextFrame").toggleClass("lightbox__nextFrame--disabled",b)}
function jk(a,b){a.$el.find(".lightbox__openDesignViewerButton").attr("href",b);a.$el.find(".lightbox__openDesignViewerButton").removeClass("lightbox__paginationButton--hidden");a.$el.find(".lightbox__enterPresentationButton").addClass("lightbox__paginationButton--hidden");a.$el.find(".lightbox__exitPresentationButton").addClass("lightbox__paginationButton--hidden")}
function kk(a){a.$el.find(".lightbox__openDesignViewerButton").addClass("lightbox__paginationButton--hidden");a.$el.find(".lightbox__enterPresentationButton").removeClass("lightbox__paginationButton--hidden");a.$el.find(".lightbox__exitPresentationButton").removeClass("lightbox__paginationButton--hidden")}e.Rf=function(){this.$el.find(".lightboxShare__modal").removeClass("lightboxShare__modal--embedVisible");this.$el.find(".lightboxShare__modal").addClass("lightboxShare__modal--visible")};
e.md=function(a){if(!$(a.target).hasClass("commentList__form__input"))switch(a.keyCode){case 37:a.preventDefault();this.trigger(Kj);break;case 39:a.preventDefault(),this.trigger(Lj)}};var Lj="NEXT_FRAME",Kj="PREVIOUS_FRAME",Ij="ENTER_PRESENTATION",Jj="MOVEMENT",bk="EXIT_PRESENTATION",Mj="SHOW_SHARING",Nj="CLOSE_SHARING",Qj="SHARE_ITEM",Oj="SHOW_EMBED",Pj="COPY_EMBED",Rj="EMBED_TEXTAREA_CLICKED",Sj="EDIT",Tj="REMIX";function Xj(a){Vi.apply(this,arguments)}q(Xj,Vi);
function Zj(a){a=$(Si(a).toString());return Vj(a)}function Vj(a){a=new Xj(a);lk(a);mk(a);return a}function lk(a){var b=a.$el.find(".lightbox__thumbnailLoader");if(b.prop("src")&&!b.prop("complete")){var c=a.$el;c.toggleClass("lightbox__frame--thumbnailLoading",!0);b.on("load error",function f(){c.toggleClass("lightbox__frame--thumbnailLoading",!1);b.off("load error",f)})}}
function mk(a){function b(){f.toggleClass("lightbox__frame--previewLoading",!1);d.off("load",b);d.off("error",c)}function c(){f.toggleClass("lightbox__frame--error",!0);f.toggleClass("lightbox__frame--previewLoading",!1);d.off("load",b);d.off("error",c)}var d=a.$el.find(".lightbox__previewLoader");if(d.prop("src")&&!d.prop("complete")){var f=a.$el;f.toggleClass("lightbox__frame--previewLoading",!0);d.on("load",b);d.on("error",c)}}
Xj.prototype.Ra=function(a){this.$el.toggleClass("lightbox__frame--visible",a)};function nk(a,b,c){X.call(this,a);this.lc=b;this.zf=c}q(nk,X);function ok(a){var b=new xj(a,$(document)),c=Uj(a.find(".lightbox"));return new nk(a,b,c)}nk.prototype.remove=function(){this.zf.remove();this.lc.remove();X.prototype.remove.call(this)};function pk(a){var b;b=b||{};soy.asserts.assertType(a.Ta instanceof soydata.SanitizedTrustedResourceUri||a.Ta instanceof soydata.UnsanitizedText||goog.isString(a.Ta),"embedScriptUrl",a.Ta,"soydata.SanitizedTrustedResourceUri");var c=a.Ta;soy.asserts.assertType(goog.isNumber(a.Wf),"thumbnailHeight",a.Wf,"number");var d=a.Wf;soy.asserts.assertType(goog.isNumber(a.Xf),"thumbnailWidth",a.Xf,"number");var f=a.Xf;soy.asserts.assertType(goog.isString(a.Sd)||a.Sd instanceof goog.soy.data.SanitizedContent,
"designId",a.Sd,"string|goog.soy.data.SanitizedContent");var g=a.Sd;soy.asserts.assertType(a.Pc instanceof soydata.SanitizedHtml||a.Pc instanceof soydata.UnsanitizedText||goog.isString(a.Pc),"byLineHtml",a.Pc,"soydata.SanitizedHtml");a=a.Pc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"canva-embed" data-height-ratio\x3d"'+soy.$$escapeHtmlAttribute(Math.round(d/f*1E4)/1E4)+'" data-design-id\x3d"'+soy.$$escapeHtmlAttribute(g)+'" style\x3d"'+(b.eb?"/*"+b.eb+"*/":"")+"padding:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(Math.round(d/
f*1E4)/1E4*100))+'% 5px 5px 5px;background:rgba(0,0,0,0.03);border-radius:8px;"\x3e\x3c/div\x3e\x3cscript async src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterTrustedResourceUri(c))+'"'+(b.eb?' nonce\x3d"'+b.eb+'"':"")+"\x3e\x3c/script\x3e"+soy.$$escapeHtml(a))};function qk(a,b){var c=this;this.view=b;this.Bd=a.Bd;this.Yf=[];this.xf=[];this.ge=[];this.Jf=null;this.D=a.D||null;this.view.on(ij,function(a,b){return c.Hf(a,b)});this.view.on(jj,function(a){var b=c.view;a=c.xf[0]+(c.ge[a].K()||c.ge[a].g())+(c.xf[1]||" ");a.length<=b.$el.attr("maxlength")&&b.$el.val(a).trigger("input");b.pb()})}function rk(a,b){return new qk(a,b)}qk.prototype.Ib=function(){var a=this;this.Bd.then(function(b){a.Yf=b;a.Jf&&a.autocomplete(a.Jf)})};
qk.prototype.Hf=function(a,b){var c=a.lastIndexOf("@",b-1);if(-1===c)this.view.pb();else if(c+=1,a.lastIndexOf(" ",b-1)>c)this.view.pb();else{b=a.indexOf(" ",c);b=-1===b?a.length:b;var d=a.slice(c,b);this.xf=[a.slice(0,c),a.slice(b)];this.autocomplete(d)}};qk.prototype.autocomplete=function(a){var b=this;0===this.Yf.length?this.Jf=a:(this.ge=this.Yf.filter(function(c){return!(null!==b.D&&c.g()===b.D.g())&&sk(a,c)}),tk(this,this.ge))};
function sk(a,b){function c(a,b){return!!b&&-1!==b.toLowerCase().indexOf(a.toLowerCase())}return c(a,b.K())||c(a,b.Ma())}function tk(a,b){a.view.pb();if(b.length){var c=Kb.sizes.get("50").Fa();b=b.map(function(a){return{cb:a.pf()||c,displayName:a.Ma(),username:"@"+a.K()}});a.view.show(b)}};function uk(a,b,c,d,f){var g=this;this.view=b;this.alert=d;this.confirm=f;this.i=a.i;this.ea=a.ea;this.na=a.na;this.th=c;this.D=a.D;this.H=a.la&&a.la.H;this.Ya=!1;this.pj=0;this.object=a.object;this.accessToken=a.accessToken;this.Ae=!!a.la&&!a.la.H;this.Be=!1;this.C=a.C;this.jj=!!this.D&&-1<this.D.ae().indexOf("SUPPORT");this.view.on(sj,function(a){return vk(g,String(a))});this.view.on(oj,function(a){return wk(g,a)});this.view.on(mj,function(){g.Ya||g.Ae||g.Be||g.fetch()})}
function xk(a,b){var c=null;a.na.$b&&(c=rk({Bd:a.na.rc(),D:a.D},b.nj));return new uk(a,b,c,function(a){return window.alert(a)},function(a){return window.confirm(a)})}uk.prototype.Ib=function(){function a(){var c;if(!(c=b.Ae||b.Be)){c=b.view;var d=c.fc.prop("clientHeight");c=c.fc.prop("scrollHeight")>d}return c?P.resolve():b.fetch().then(a)}var b=this;a();this.th&&this.th.Ib()};uk.prototype.destroy=function(){this.view.remove()};
function yk(a,b){var c=b.Ba.Ob.sizes.get("200").url;Ia(c,"can't render a comment with no author avatar");var d=!!a.D&&a.D.g()==b.Ba.id,f=0==b.id.indexOf("pending_comment_");return{Hd:c,Id:b.Ba.displayName||b.Ba.username||"",Jd:"/"+encodeURIComponent(b.Ba.username||""),content:soydata.VERY_UNSAFE.ordainSanitizedHtml(b.content),X:moment(b.X).fromNow(),kc:a.i.kc(),le:b.id,ud:a.jj||d&&!f}}
uk.prototype.fetch=function(){var a=this;N(!this.Ya);N(!this.Ae);N(!this.Be);this.Ya=!0;return Od(this.ea,new Hd({object:this.object,accessToken:this.accessToken,ka:!0,sb:!1,limit:20,H:this.H})).then(function(b){zk(a,b.ea);a.H=b.H;a.Ae=!b.H}).catch(function(b){a.alert(a.i.format("commentListListError"));a.Be=!0;throw b;}).finally(function(){return a.Ya=!1})};
function zk(a,b){var c=b.map(function(a){return a.content});Fh(a.na,c).then(function(c){b.forEach(function(b,g){a.view.append(yk(a,new zd({object:b.object,id:b.id,bb:b.bb,Ba:b.Ba,content:c[g]||"",X:b.X,wb:b.wb,ka:b.ka,sb:b.sb})))})})}
function wk(a,b){if(a.confirm(a.i.format("commentListDeleteConfirmation"))){var c=new Kd({object:a.object,id:b.$el.data("model-id")});b.$el.toggleClass("comment--hidden",!0);Pd(a.ea,c).then(function(){return b.remove()}).catch(function(){b.$el.toggleClass("comment--hidden",!1);a.alert(a.i.format("commentListDeleteError"))})}}
function vk(a,b){M(1023>=b.length,"comment too long");if(""==b.trim())a.view.Nb.blur();else{var c=Date.now(),d=Eh(a.na,b);Ih(a.na,d).then(function(f){var g=new zd({object:a.object,id:"pending_comment_"+String(a.pj++),bb:a.D.g(),Ba:a.D.yd(),content:f||"",X:c,wb:c,ka:!0,sb:!1}),h=a.view.prepend(yk(a,g));qj(a.view,"");a.ea.createComment(new Dd({object:a.object,accessToken:a.accessToken,ka:!0,content:d})).then(function(b){b=new zd({object:a.object,id:b.id,bb:a.D.g(),Ba:a.D.yd(),content:f||"",X:b.X,wb:b.X,
ka:!0,sb:!1});a.view.replace(h,yk(a,b));h.remove()}).catch(function(){h.remove();qj(a.view,b);a.alert(a.i.format("commentListCreateError"))})}).catch(function(){qj(a.view,b);a.alert(a.i.format("commentListCreateError"))})}};function Ak(a,b,c){var d=this;this.la=c;this.i=a.i;this.za=a.za;this.F=a.F;this.La=a.La;this.C=a.C;this.view=b;this.oa=0;this.document=a.document;this.D=a.D;this.Ta=a.Ta;this.Yc=null;this.Mf=!1;this.qa=a.qa;this.ma=a.ma;this.view.on(Ij,function(){d.Mf=!0;ak(d.view,!0);Bk(d);d.track(Ck)});this.view.on(Jj,function(){d.Mf&&(Dk(d),dk(d.view,!1),Bk(d))});this.view.on(bk,function(){Dk(d);dk(d.view,!1);ak(d.view,!1);d.Mf=!1});this.view.on(Kj,function(){if(0!=d.oa){var a=d.document.ra.qb,b=Wj(d.view);d.oa==
a-1?(b[0].Ra(!0),b[1].Ra(!1)):(b[0].Ra(!0),b[1].Ra(!1),b[2].remove());d.oa--;ck(d.view,d.i.oa(d.oa+1,a));0<d.oa&&(a=d.view,b=Ek(d,d.oa-1),b=Zj(b),0<a.$el.find(".lightboxShare__modal").length?b.$el.insertAfter(a.$el.find(".lightboxShare__modal")):b.$el.prependTo(a.$el.find(".lightbox__frames")));ik(d.view)}});this.view.on(Lj,function(){var a=d.document.ra.qb;if(d.oa!=a-1){var b=Wj(d.view);0==d.oa?(b[0].Ra(!1),b[1].Ra(!0)):(b[0].remove(),b[1].Ra(!1),b[2].Ra(!0));d.oa++;ck(d.view,d.i.oa(d.oa+1,a));d.oa<
a-1&&Yj(d.view,Ek(d,d.oa+1));ik(d.view)}});this.view.on(Mj,function(){return d.Rf()});this.view.on(Nj,function(){d.view.$el.find(".lightboxShare__modal").removeClass("lightboxShare__modal--visible")});this.view.on(Oj,function(){d.view.$el.find(".lightboxShare__modal").addClass("lightboxShare__modal--embedVisible")});this.view.on(Pj,function(){document.execCommand("copy",!1,d.view.$el.find(".lightboxShare__embedTextArea")[0].select());d.track(Fk)});this.view.on(Qj,function(a,b){var c=d.C,p=d.document.id;
a=new Gk("design_share",d.qa,b,a);Q(a,"design",p);c.track(a.name,a.zc)});this.view.on(Rj,function(){d.view.$el.find(".lightboxShare__embedTextArea").select()});this.view.on(Tj,function(){return d.track(Hk)});(a=this.view.ya)&&a.on(Ej,function(){return Ik(d)})}function Jk(a,b,c){(a.Ti?P.resolve(a.Ti):Sg(a.La,new Se({id:a.Ab})).then(function(a){return{Cc:a.document,xb:a.xb}}).catch(function(a){c.ze();throw a;})).then(function(a){return Kk(b,a)})}e=Ak.prototype;
e.Ib=function(){this.view.focus();this.la&&this.la.Ib()};e.destroy=function(){this.la&&this.la.destroy();this.view.remove()};function Ek(a,b){var c=a.document.ra.Gb,d=c.dc.images,c=c.se&&c.se.images||[];return{xd:d[b]&&d[b].url,sd:c[b]&&c[b].url,Da:a.i.format("newLightboxFrameError"),Ie:a.i.format("newLightboxFrameUnavailable")}}e.track=function(a){a=a(this.qa);this.C.track(a.name,a.zc)};
e.He=function(a){var b=this.document.ra.content.doctype,c=this.C,d=this.document.id,b="REFERENCE"===b.type?b.id:"custom",f=this.document.ra.qb,g=new Gk("design_view",this.qa,"lightbox");Q(g,"design",d);b&&Q(g,"template",b);Q(g,"design_page_count",f);Q(g,"from_view_url",a);c.track(g.name,g.zc)};
function Kk(a,b){var c=b.Cc,d=b.xb;a.document=c.document;var f=a.document.ra.qb;b=c.J.displayName||c.J.username||"";var g=c.J.username?"/"+encodeURIComponent(c.J.username):"",h=a.document.ra.content.title||a.i.format("newLightboxUntitled");a.view.$el.toggleClass("lightbox--loading",!1);Yj(a.view,Ek(a,0)).Ra(!0);1<f&&Yj(a.view,Ek(a,1));ck(a.view,a.i.oa(1,f));a.view.Wh(h);ek(a.view,md(a.i,g,_.escape(b)));if(!a.ma&&a.D&&!a.D.wa())fk(a.view,{G:c.G,he:a.za.fd(),ie:a.za.Ha(),ja:c.ja,j:"lightbox__actionButton lightbox__likeButton"}).on(Ej,
function(){return Ik(a)});d=(f="OWNER"===d||"EDITOR"===d)||"REMIXER"===d;f&&gk(a.view,{url:Ci(c.document.id,"edit",void 0),label:a.i.format("newLightboxEditLabel"),j:"lightbox__actionButton--edit"});d&&hk(a.view,{url:Ci(c.document.id,"remix",void 0),label:a.i.format("newLightboxUseAsTemplateLabel"),j:"lightbox__actionButton--remix"});a.Ta&&(c=pk({Sd:a.document.id,Wf:a.document.ra.Gb.dc.height,Xf:a.document.ra.Gb.dc.width,Ta:soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri(a.Ta),Pc:soydata.VERY_UNSAFE.ordainSanitizedHtml(ld(a.i,
_.escape(h),Ei(a.document.id),location.protocol+"//"+location.host+("/"+encodeURIComponent(c.J.username||""))+"?"+["utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26"),_.escape(b)))}).toString(),a.view.$el.find(".lightboxShare__embedTextArea").val(c));ik(a.view);a.He(!1);"web-2"===a.document.ra.Bc?jk(a.view,Ci(a.document.id,"view",void 0)+"?presentation"):kk(a.view)}
e.Rf=function(){this.view.Rf();this.track(Lk)};function Bk(a){a.Yc=a.F.setTimeout(function(){a.Yc=null;dk(a.view,!0)},3E3)}function Dk(a){null!=a.Yc&&(a.F.clearTimeout(a.Yc),a.Yc=null)}
function Ik(a){var b=a.view.ya,c=!b.$el.hasClass("buttonActive");Fj(b,c);b.$el.toggleClass("buttonLike--disabled",!0);(c?Vg(a.La,new bf({type:"DOCUMENT",Ha:a.document.id,accessToken:a.document.Xb.default})):Wg(a.La,new ff({type:"DOCUMENT",Ha:a.document.id}))).catch(function(){return Fj(b,!c)}).finally(function(){b.$el.toggleClass("buttonLike--disabled",!1)})}function Mk(a,b){var c=this;this.tc=a.tc;this.view=b;this.xh=!1;this.Rb=null;b.lc.on(zj,function(){return Nk(c)})}
function Ok(a,b){var c=b.zf,d=c.la,f=null;d&&(Ia(a.na,"Cannot have CommentListView with null MentionConverter"),f=xk({i:gd(a.i),ea:a.ea,na:a.na,D:a.D,object:a.Ab,accessToken:a.Cc&&a.Cc.document.Xb.default,C:a.C,ak:{pk:a.qa,rk:"lightbox"}},d));a=new Ak({C:a.C,i:id(a.i),F:a.F,La:a.La,document:a.Cc?a.Cc.document:null,Ta:a.Ta,D:a.D,za:ad(a.i),qa:a.qa,ma:a.ma},c,f);return new Mk({tc:a},b)}Mk.prototype.He=function(a){this.tc.He(a)};Mk.prototype.Ib=function(){this.tc.Ib()};
Mk.prototype.show=function(){N(!this.xh,"the dialog has been opened already");this.xh=!0;this.view.lc.show()};Mk.prototype.destroy=function(){this.tc.destroy();this.view.lc.remove()};function Pk(a,b){a.Rb=b}function Nk(a){a.view.lc.hide().then(function(){a.Rb&&a.Rb();a.destroy()})}function Gk(a,b,c,d){xc.call(this,a);Q(this,"section",b);Q(this,"subsection","lightbox");c&&Q(this,"location",c);d&&Q(this,"type",d)}q(Gk,xc);function Ck(a){return new Gk("fullscreen_mode",a,"navigation_toolbar")}
function Hk(a){return new Gk("button_click",a,"header","remix")}function Lk(a){return new Gk("button_click",a,"footer","more_options")}function Fk(a){return new Gk("button_click",a,"overlay","embed_copy")};function Qk(a){this.Ze=a.Ze;this.Dg={};this.error=!1;this.bc=a.bc;this.mb=a.mb;this.C=a.C;this.Ng=a.Ng;this.i=a.i;this.F=a.F;this.ea=a.ea;this.La=a.La;this.na=a.na;this.fa=a.fa;this.Qf=a.Qf;this.Rg=!!a.Rg;this.qa=a.qa;this.ma=a.ma;this.view=a.view}e=Qk.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
e.init=function(){this.listenTo(this.mb,{error:this.Gf,fetch:this.Ff});this.listenTo(this.view,{thumbnailClick:this.nd,commentsClick:this.wh});return this};e.remove=function(){this.stopListening()};e.ef=function(){function a(){this.off("fetch",b)}function b(){this.off("error",a);this.ef()}if(!this.error&&this.mb.me&&!this.mb.Ya){var c=this.view.nf();c&&800<=oh(this.bc,c)||(this.once("error",a,this),this.once("fetch",b,this),this.fetch())}};
e.fetch=function(){this.error||!this.mb.me||this.mb.Ya||(Ji(this.view,!0),this.mb.fetch())};e.Ff=function(a){this.mb.isEmpty()?(a=this.view,0<a.$(".designCardListEmptyMessage").length||a.$el.append(a.Mh())):this.push(a);Ji(this.view,!1);this.trigger("fetch")};e.push=function(a){var b=[];a.forEach(function(a){a=this.Ze(a);b.push(a);var d=a.getItem().g();this.Dg[d]=a},this);this.view.push.apply(this.view,b)};
e.Gf=function(){this.error=!0;var a=this.view;1>a.$(".designCardListEmptyMessage").length&&a.$el.append(a.Nh());Ji(this.view,!1);this.trigger("error")};e.wh=function(a){this.Qf({C:this.C,i:this.i,F:this.F,ea:this.ea,La:this.La,na:this.na,fa:this.fa,qa:this.qa,ma:this.ma},a)};e.nd=function(a,b){var c=this.Dg[b];if(!c)throw Error("no DesignCard for design: "+b);c=c.view.Fb().attr("href").toString();c=Di(c);if("view"===c||"remix"===c||this.Rg)a.preventDefault(),this.wh(b)};
function Rk(a,b){var c=a.fa,d=a.qa,f=a.ma;b={C:a.C,i:a.i,F:a.F,ea:a.ea,La:a.La,na:a.na,Ab:b,D:c.wa()?null:c,qa:d,ma:f};var c=id(b.i),c={Li:gd(b.i).hj(),Oj:b.D&&b.D.Wd("200"),gi:b.D?null:{message:c.format("newLightboxSignupCtaMessage"),label:c.format("newLightboxSignupCtaLabel"),title:c.format("newLightboxSignupCtaTitle"),url:ki(),Uc:c.dj("newLightboxSignupCtaDisclaimerHtml","https://about.canva.com/terms-of-use","https://about.canva.com/privacy-policy")},mc:c.format("newLightboxEnterPresentation"),
Da:c.format("newLightboxDocumentError"),nc:c.format("newLightboxExitPresentation"),xc:c.format("newLightboxNextFrame"),yc:c.format("newLightboxPreviousFrame"),ma:b.ma},g;if(c.gi){var h=c.gi;soy.asserts.assertType(goog.isString(h.message)||h.message instanceof goog.soy.data.SanitizedContent,"message",h.message,"string|goog.soy.data.SanitizedContent");d=h.message;soy.asserts.assertType(goog.isString(h.label)||h.label instanceof goog.soy.data.SanitizedContent,"label",h.label,"string|goog.soy.data.SanitizedContent");
f=h.label;soy.asserts.assertType(goog.isString(h.title)||h.title instanceof goog.soy.data.SanitizedContent,"title",h.title,"string|goog.soy.data.SanitizedContent");g=h.title;soy.asserts.assertType(goog.isString(h.url)||h.url instanceof goog.soy.data.SanitizedContent,"url",h.url,"string|goog.soy.data.SanitizedContent");var p=h.url;soy.asserts.assertType(h.Uc instanceof soydata.SanitizedHtml||h.Uc instanceof soydata.UnsanitizedText||goog.isString(h.Uc),"disclaimer",h.Uc,"soydata.SanitizedHtml");h=h.Uc;
g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__sidebar lightbox__sidebar--signupCta"\x3e\x3cdiv class\x3d"lightbox__signupCta"\x3e\x3cspan class\x3d"lightbox__signupCtaCanvaLogo"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"100" height\x3d"100" viewBox\x3d"0 -1 100 100" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"49" fill\x3d"#20C4CB"/\x3e\x3cpath d\x3d"M62.65 58.163c-1.986 2.176-4.772 3.278-6.078 3.278-1.509 0-2.334-.926-2.504-2.315a5.73 5.73 0 0 1 .056-1.6c.499-3.115 1.645-5.051 1.574-5.64-.021-.169-.116-.253-.241-.253-.965 0-4.352 3.494-4.866 5.81l-.4 1.852c-.262 1.305-1.542 2.146-2.421 2.146-.42 0-.74-.21-.796-.673a1.998 1.998 0 0 1 .05-.632l.188-.976c-1.826 1.365-3.796 2.287-4.718 2.287-1.258 0-1.968-.673-2.217-1.684-.831 1.095-1.932 1.684-3.106 1.684-1.498 0-2.94-.99-3.634-2.458-.987 1.109-2.158 2.193-3.556 3.09-2.062 1.305-4.364 2.357-7.088 2.357-2.516 0-4.651-1.347-5.832-2.441-1.752-1.642-2.679-4.084-2.951-6.315-.86-7.03 3.42-16.25 10.051-20.29 1.522-.927 3.226-1.39 4.776-1.39 3.186 0 5.564 2.28 5.897 5.003.3 2.455-.682 4.574-3.402 5.947-1.39.703-2.078.67-2.295.335-.145-.224-.063-.602.217-.836 2.558-2.138 2.607-3.892 2.305-6.366-.195-1.59-1.242-2.61-2.415-2.61-5.03 0-12.243 11.282-11.24 19.491.391 3.2 2.353 6.904 6.377 6.904 1.341 0 2.762-.379 4.026-1.01 2.207-1.128 3.454-2.02 4.708-3.48-.307-3.796 2.95-8.56 7.794-8.56 2.095 0 3.833.842 4.039 2.526.257 2.104-1.536 2.526-2.207 2.526-.587 0-1.53-.169-1.596-.716-.072-.59 1.269-.252 1.104-1.6-.103-.841-.977-1.136-1.816-1.136-3.018 0-4.683 4.21-4.364 6.82.144 1.179.75 2.357 1.84 2.357.88 0 2.15-1.263 2.636-3.115.307-1.263 1.504-2.105 2.384-2.105.461 0 .78.21.837.673.02.169.004.38-.049.632-.1.547-.52 2.368-.501 2.746.015.329.204.78.774.78.453 0 2.115-.898 3.655-2.28.484-2.501 1.081-5.591 1.127-5.835.188-1.013.551-2.056 2.605-2.056.42 0 .739.21.8.715.02.168.005.38-.048.631l-.574 2.599c1.802-2.4 4.604-4.167 6.28-4.167.714 0 1.263.378 1.356 1.136.051.421-.071 1.137-.35 1.937-.597 1.641-1.268 4.107-1.712 6.23-.095.45.062 1.132.887 1.132.658 0 2.774-.806 4.482-3.062-.011-.32-.016-.644-.016-.97 0-1.768.125-3.199.46-4.251.335-1.095 1.72-2.146 2.641-2.146.462 0 .797.252.797.757 0 .169-.042.38-.126.589-.629 1.852-.964 3.579-.964 5.305 0 .968.21 2.526.42 3.325.041.169.082.337.25.337.294 0 2.264-1.936 3.689-4.294-1.258-.8-1.97-2.273-1.97-4.084 0-3.03 1.803-4.588 3.563-4.588 1.384 0 2.641 1.01 2.641 3.03 0 1.264-.503 2.695-1.215 4.085 0 0 .293.042.418.042 1.09 0 1.928-.506 2.39-1.053.21-.237.404-.425.591-.532 1.404-1.696 3.46-2.92 5.874-2.92 2.054 0 3.828.8 4.033 2.484.263 2.146-1.57 2.568-2.2 2.568-.628 0-1.572-.169-1.638-.716-.067-.547 1.31-.252 1.15-1.557-.102-.843-.981-1.179-1.82-1.179-2.809 0-4.74 3.746-4.369 6.778.149 1.22.712 2.4 1.802 2.4.88 0 2.194-1.264 2.68-3.116.312-1.221 1.502-2.105 2.383-2.105.419 0 .78.21.842.716.031.253-.07.8-.54 2.778-.191.842-.23 1.558-.158 2.147.15 1.22.709 2.02 1.226 2.484.189.168.298.378.314.505.04.336-.216.631-.636.631-.126 0-.293 0-.43-.084-2.16-.884-3.054-2.357-3.308-3.746-.834 1.052-1.937 1.641-3.068 1.641-1.929 0-3.812-1.684-4.079-3.873-.11-.9-.001-1.865.293-2.815-.782.484-1.625.752-2.38.752-.252 0-.46 0-.712-.041-1.886 2.735-3.857 4.63-5.366 5.472-.628.337-1.214.505-1.634.505-.336 0-.713-.083-.88-.379-.384-.65-.644-1.687-.797-2.905zm6.832-8.966c0 1.18.586 2.4 1.34 3.2.295-.8.462-1.6.462-2.4 0-1.516-.587-2.19-1.048-2.19-.545 0-.754.758-.754 1.39z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3cimage src\x3d"https://static.canva.com/static/images/canva_logo_100x100.png"/\x3e\x3c/svg\x3e')+
'\x3c/span\x3e\x3ch1 class\x3d"lightbox__signupCtaTitle"\x3e'+soy.$$escapeHtml(g)+'\x3c/h1\x3e\x3cp class\x3d"lightbox__signupCtaMessage"\x3e'+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3ca class\x3d"lightbox__signupCtaButton button" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(p))+'" title\x3d"'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(f)+'\x3c/a\x3e\x3cp class\x3d"lightbox__signupCtaDisclaimer"\x3e'+soy.$$escapeHtml(h)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e")}else c.ma?d=void 0:
(d=c.Oj,f=c.Li,soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"avatarUrl",d,"null|string|undefined"),soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",f,"string|goog.soy.data.SanitizedContent"),d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"commentList"\x3e'+(null!=d?'\x3cdiv class\x3d"commentList__form"\x3e'+Wi({j:"commentList__form__avatar",url:d})+Xi({attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('maxlength\x3d"1023" rows\x3d"1"'),
block:!0,j:"commentList__form__input",placeholder:f,tagName:"textarea"})+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"commentList__comments"\x3e\x3c/div\x3e\x3c/div\x3e')),d=d={la:d,Bb:c.Bb,Kb:c.Kb},soy.asserts.assertType(null==d.title||d.title instanceof goog.soy.data.SanitizedContent||goog.isString(d.title),"title",d.title,"null|string|undefined"),soy.asserts.assertType(null==d.Xa||d.Xa instanceof soydata.SanitizedHtml||d.Xa instanceof soydata.UnsanitizedText||goog.isString(d.Xa),"byline",d.Xa,"?soydata.SanitizedHtml|string|undefined"),
soy.asserts.assertType(null==d.la||d.la instanceof soydata.SanitizedHtml||d.la instanceof soydata.UnsanitizedText||goog.isString(d.la),"commentList",d.la,"?soydata.SanitizedHtml|string|undefined"),f=d.la,soy.asserts.assertType(null==d.ya||goog.isObject(d.ya),"likeButton",d.ya,"null|undefined|{likeLabel: string, likedByMe: boolean, likedLabel: string, likerCount: number}"),soy.asserts.assertType(null==d.Bb||goog.isObject(d.Bb),"editButton",d.Bb,"null|undefined|{label: string, url: string}"),soy.asserts.assertType(null==
d.Kb||goog.isObject(d.Kb),"remixButton",d.Kb,"null|undefined|{label: string, url: string}"),g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__sidebar"\x3e'+Ti(d)+(null!=f?'\x3cdiv class\x3d"lightbox__commentList"\x3e'+soy.$$escapeHtml(f)+"\x3c/div\x3e":"")+"\x3c/div\x3e");var d=$,f=c.Da,k={mc:c.mc,nc:c.nc,xc:c.xc,yc:c.yc};soy.asserts.assertType(null==k.Qd||k.Qd instanceof goog.soy.data.SanitizedContent||goog.isString(k.Qd),"currentFrameText",k.Qd,"null|string|undefined");c=k.Qd;
soy.asserts.assertType(goog.isString(k.mc)||k.mc instanceof goog.soy.data.SanitizedContent,"enterPresentationTitle",k.mc,"string|goog.soy.data.SanitizedContent");p=k.mc;soy.asserts.assertType(goog.isString(k.nc)||k.nc instanceof goog.soy.data.SanitizedContent,"exitPresentationTitle",k.nc,"string|goog.soy.data.SanitizedContent");h=k.nc;soy.asserts.assertType(goog.isString(k.xc)||k.xc instanceof goog.soy.data.SanitizedContent,"nextFrameTitle",k.xc,"string|goog.soy.data.SanitizedContent");var r=k.xc;
soy.asserts.assertType(goog.isString(k.yc)||k.yc instanceof goog.soy.data.SanitizedContent,"previousFrameTitle",k.yc,"string|goog.soy.data.SanitizedContent");var z=k.yc;soy.asserts.assertType(null==k.re||k.re instanceof goog.soy.data.SanitizedContent||goog.isString(k.re),"presentationUrl",k.re,"null|string|undefined");k=k.re;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__pagination"\x3e'+(k?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'" target\x3d"_blank" class\x3d"lightbox__paginationButton lightbox__openDesignViewerButton" title\x3d"'+
soy.$$escapeHtmlAttribute(p)+'"\x3e\x3c/a\x3e':'\x3ca target\x3d"_blank" class\x3d"lightbox__paginationButton lightbox__openDesignViewerButton lightbox__paginationButton--hidden" title\x3d"'+soy.$$escapeHtmlAttribute(p)+'"\x3e\x3c/a\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__enterPresentationButton lightbox__enterPresentation" title\x3d"'+soy.$$escapeHtmlAttribute(p)+'"\x3e\x3c/button\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__exitPresentationButton lightbox__exitPresentation" title\x3d"'+
soy.$$escapeHtmlAttribute(h)+'"\x3e\x3c/button\x3e')+'\x3cspan class\x3d"lightbox__paginationSeparator"\x3e\x3c/span\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__previousFrame" title\x3d"'+soy.$$escapeHtmlAttribute(z)+'"\x3e\x3c/button\x3e\x3cspan class\x3d"lightbox__currentFrameText"\x3e'+soy.$$escapeHtml(null==c?"":c)+'\x3c/span\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__nextFrame" title\x3d"'+soy.$$escapeHtmlAttribute(r)+'"\x3e\x3c/button\x3e\x3c/div\x3e');c={Da:f,
sidebar:g,rb:c};soy.asserts.assertType(null==c.visible||goog.isBoolean(c.visible)||1===c.visible||0===c.visible,"visible",c.visible,"boolean|null|undefined");f=c.visible;soy.asserts.assertType(goog.isString(c.Da)||c.Da instanceof goog.soy.data.SanitizedContent,"errorText",c.Da,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==c.frames||goog.isArray(c.frames),"frames",c.frames,"?Array\x3c{errorText: string, previewSrc: (null|string|undefined), thumbnailSrc: (null|string|undefined), unvailableText: string, visible: (boolean|null|undefined)}\x3e|undefined");
soy.asserts.assertType(null==c.$a||goog.isBoolean(c.$a)||1===c.$a||0===c.$a,"loading",c.$a,"boolean|null|undefined");soy.asserts.assertType(c.rb instanceof soydata.SanitizedHtml||c.rb instanceof soydata.UnsanitizedText||goog.isString(c.rb),"pagination",c.rb,"soydata.SanitizedHtml");soy.asserts.assertType(c.sidebar instanceof soydata.SanitizedHtml||c.sidebar instanceof soydata.UnsanitizedText||goog.isString(c.sidebar),"sidebar",c.sidebar,"soydata.SanitizedHtml");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(Pi({visible:f,
j:"lightboxDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Ri(c))}));c=d(c.toString());c=ok(c);d=Ok(b,c);Jk(b,d.tc,c.zf);c.$el.appendTo("body");d.Ib();d.show();a.Rb&&(d.Rb=a.Rb)}function Sk(a,b){var c=window.location.pathname;window.history&&window.history.replaceState({},"",Ci(b,"view",void 0));Rk(Object.assign({},a,{Rb:function(){return window.history&&window.history.replaceState({},"",c)}}),b)};function Tk(){return"undefined"!==typeof Rollbar?new Uk:new Vk}function Uk(){}Uk.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function Vk(){}Vk.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function Wk(a){this.Pb=a.Pb||null;this.H=a.H||null;this.Ag=a.Ag||["SOCIAL","INGESTION_STATUS"];this.Ya=this.empty=!1;this.oc={};this.filter=a.filter||null;this.Qg=!0;this.Ud=a.Ud;this.me=!0;this.qd=a.qd;this.Ee=a.Ee;this.Sa=a.Sa||null;this.ec=a.ec}e=Wk.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;e.fetch=function(){function a(){this.Ya=!1}!this.Ya&&this.me&&(this.Ya=!0,this.gd().bind(this).finally(a).then(this.Ff).catch(this.Gf))};
e.gd=function(){var a=(new ih).Ne(this.Pb);a.user=this.Sa;a.folder=this.Ee;a.decorations=this.Ag;a.filter=this.filter;a=a.Pe(this.qd).Oe(this.H);switch(this.Ud){case 0:var b=this.ec,c=a.ia();return b.gd("brands/"+(c?encodeURIComponent(c):"~"),a);case 1:var b=this.ec,c=a.ia(),d=a.Na();return b.gd("brands/"+(c?encodeURIComponent(c):"~")+"/users/"+(d?encodeURIComponent(d):"~"),a);case 2:return b=this.ec,c=a.Na(),b.gd("users/"+(c?encodeURIComponent(c):"~"),a);default:throw Error("unknown folder type "+
this.Ud);}};e.Ff=function(a){var b=a.Zd(),c=a.Ug()||[];this.Qg&&(this.empty=0===b.length,this.Qg=!1);c.forEach(function(a){this.oc[a.g()]=a},this);this.H=a.Ea();this.me=!!this.H;this.trigger("fetch",b)};e.Gf=function(a){Tk().log("Something went wrong when listing folders",{error:a});this.trigger("error")};e.isEmpty=function(){return this.empty};function Xk(a){Qk.call(this,a)}Xk.prototype=Object.create(Qk.prototype);Xk.prototype.constructor=Xk;function Yk(a,b,c,d,f){return new Fi({fa:a,qc:Hi.bind(null,f),J:hh(f).J||void 0,Ka:!d,item:f,Y:b,i:c})};function Zk(a,b,c){this.w=a;this.bf=b;this.Cj=c;this.path="/documents"}function $k(a,b){var c=Tk();a:switch(b=b.bf(),b){case "NONE":b="NONE";break a;case "LOG":b="LOG";break a;case "THROW":b="THROW";break a;default:throw Error("unknown DocumentDeserializationMode: "+b);}return new Zk(a,b,c)}e=Zk.prototype;e.duplicate=function(a){return S(this.w,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),Pe(a)).get(0).tap(al(this,"CreateDocumentResponseProto (duplicate)",Gg)).then(Lg)};
e.delete=function(a){return S(this.w,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};e.move=function(a,b,c){return S(this.w,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};e.getDocument=function(a){a=[this.path,null!=a.Si?"/"+encodeURIComponent(a.Si):"","?includePages\x3d"+encodeURIComponent(String(!!a.hk))].join("");return R(this.w,a).get(0).tap(al(this,"GetDocumentResponseProto",Ig)).then(Og)};
e.search=function(){throw Error("unsupported");};function al(a,b,c){return function(d){try{c(x(d))}catch(f){switch(a.bf){case "THROW":throw f;case "LOG":a.Cj.log("Failed deserialization of "+b,{error:f})}}}};function bl(a){0<a.length&&(a=window.getComputedStyle(a.get(0)))&&a.getPropertyValue("left")};function cl(a){this.profiles=a.profiles;this.submit=a.submit;this.pa=a.pa}cl.prototype.ze=function(a,b){$(a).next(".formError").remove();if(null!=b){var c=$('\x3cspan class\x3d"formError"\x3e');c.text(b);$(a).after(c).focus().select()}a=0<$(".formError").length;this.submit&&$(this.submit).prop("disabled",a);return null==b};function dl(a,b,c){var d=$(b).val().toString();yh(a.profiles,c?$b(d,c):Zb(d)).then(function(c){a.ze(b,c.K()?null:this.pa.format("formValidatorInvalidNameUnavailable"))})};function el(){}el=$h.extend();el.prototype.initialize=function(a){$h.prototype.initialize.call(this,_.extend(a,{F:Dc}));this.af=a.af};el.prototype.render=function(){$h.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e'+(this.af?this.af:"OK")+"\x3c/button\x3e\x3c/p\x3e");return this};var fl=el;function gl(a){this.Oi=a}function hl(){return new gl(function(){return new FormData})}
function il(a){var b=hl();return new P(function(c,d){var f=b.Oi();Object.keys(a.hf).forEach(function(b){f.append(b,a.hf[b])});f.append("file",a.file);var g=new XMLHttpRequest;g.onerror=d;g.onreadystatechange=function(){if(4===g.readyState){var b=g.status,f=(b=200<=b&&300>b)&&(a.fj||g.getResponseHeader("x-amz-version-id"));b&&f?c(f):d()}};g.upload.addEventListener("progress",a.progress||function(){});g.open("POST",a.url,!0);g.send(f)})};function jl(a,b,c,d,f,g,h,p){var k=this;this.user=b;this.Ia=c;this.Zc=f;this.C=g;this.$el=a;this.Pd=this.Je=this.tb=this.Jc=null;this.o=h;this.pa=p;this.Se=!1;this.$el.on("change","input",function(){var a=$(this),b=a.get(0),c=a.data("originalValue");if(0<a.parent(".userName").length){var a=k.jf,d=$(b).val().toString(),f=null;255<d.length?f=a.pa.format("formValidatorInvalidNameTooLong"):6>d.length&&c!==d?f=a.pa.format("formValidatorInvalidNameTooShort"):d.match(/[^a-zA-Z0-9._-]/)&&(f=a.pa.format("formValidatorInvalidNameSyntax"));
a.ze(b,f)&&dl(k.jf,b,k.user.g())}}).on("keypress","input",function(a){13===a.keyCode&&k.Td(!0)}).on("click","#editInfo",function(){k.Ji()}).on("click","button.cancel",function(){k.Td(!1)}).on("click","button.save",function(){k.Td(!0)}).on("click",".avatar",function(){k.$el.find("#avatarUpload").trigger("click")}).on("change","#avatarUpload",function(a){kl(k,a.target.files[0])});window.addEventListener("beforeunload",function(a){var b=k.o.format("userProfileUploadingAvatarMessage");if(k.Jc||k.tb)return(a||
window.event).returnValue=b})}_.extend(jl.prototype,Backbone.Events);jl.prototype.on=Backbone.Events.on;jl.prototype.trigger=Backbone.Events.trigger;var ll=_.template("\x3c% var angle \x3d percentage / 100 * 360 %\x3e\x3c% var radians \x3d angle * (Math.PI / 180) %\x3e\x3c% var x \x3d size/2 + Math.cos(radians) * radius %\x3e\x3c% var y \x3d size/2 + Math.sin(radians) * radius %\x3e\x3c% var largeArc \x3d percentage \x3e 50 ? 1 : 0 %\x3eM\x3c%\x3d size/2 + radius %\x3e,\x3c%\x3d size/2 %\x3e A\x3c%\x3d radius %\x3e,\x3c%\x3d radius %\x3e 0 \x3c%\x3d largeArc %\x3e,1 \x3c%\x3d x %\x3e,\x3c%\x3d y %\x3e");
function ml(a){a=a.get(0);return(void 0!==a.innerText?a.innerText:a.textContent).trim()}e=jl.prototype;e.Na=function(){return this.user};e.K=function(){return this.$el.find(".editable.userName").text()};
e.render=function(){var a=this;this.$el.find(".displayName").text(this.user.Ma()||this.user.K());this.$el.find(".userName").text(this.user.K());this.$el.find(".homepage").text(this.user.Yd()||"");this.$el.find(".city").text(this.user.Xd()||"");var b=this.$el.find(".country"),c=this.user.Wc();b.data("countryCode",c||"");b.text(c?this.Pd.get(c):"");(b=this.user.Wd("200"))&&nl(this,b);["displayName","userName","homepage","city","country"].forEach(function(b){b=a.$el.find("."+b);b.toggleClass("empty",
0===ml(b).length)})};e.cj=_.template('\x3cspan class\x3d"editing formButtons"\x3e\x3cbutton class\x3d"button buttonSmall save"\x3e\x3c%- saveButtonText %\x3e\x3c/button\x3e\x3cbutton class\x3d"cancel button buttonSmall buttonSecondary"\x3e\x3c%- cancelButtonText %\x3e\x3c/button\x3e\x3c/span\x3e');
e.Ji=function(){function a(a){var f=$("\x3cselect\x3e\x3c/select\x3e");$('\x3coption value\x3d"ZZ"\x3e\x3c/option\x3e').text(c.o.format("userProfileSelectCountry")).appendTo(f);var g=$('\x3cinput class\x3d"textInput textInputSmall" type\x3d"text" readonly tabindex\x3d"-1"\x3e').attr("placeholder",c.o.format("userProfileCountryPlaceholder")),h=$('\x3cspan class\x3d"countryWrapper"\x3e');[].concat(n(c.Pd.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).forEach(function(a){$("\x3coption\x3e").attr("value",
a[0]).text(a[1]).appendTo(f)});var p=a.data("countryCode")||"ZZ";f.val(p).data("originalValue",p).appendTo(h);g.val(f.find("option:selected").text());a.empty().append(g).append(h);a.on("change","select",b).on("focus","select",function(){g.addClass("focus")}).on("blur","select",function(){g.removeClass("focus")})}function b(a){var b=c.$el.find(".country input");a=$(a.target);"ZZ"!==a.val()?b.val(a.find("option:selected").text()):b.val("Select a country")}var c=this;this.$el.find(".editable").each(function(){var b=
$(this);if(b.hasClass("country"))a(b);else if(b.hasClass("avatar")){var c=Kb.sizes.get("200").Fa(),c=b.data("currentUrl")===c;$('\x3cinput id\x3d"avatarUpload" type\x3d"file" accept\x3d"image/*"\x3e').insertAfter(b);b.toggleClass("default",c)}else{var c=ml(b),g=$('\x3cinput type\x3d"text"\x3e'),h=b.data("placeholder");g.addClass("textInput textInputSmall").val(c).data("originalValue",c).attr("placeholder",h).css("font-weight",b.css("font-weight"));b.html(g)}});this.$el.find(".formButtons").after(this.cj({saveButtonText:c.o.format("userProfileSaveChangesButton"),
cancelButtonText:c.o.format("userProfileCancelButton")}));this.$el.addClass("editing");this.jf=new cl({profiles:this.Ia,submit:this.$el.find(".save").get(0),pa:this.pa});this.trigger("beginEditing");this.Se=!1};
e.Td=function(a){function b(){f.Je=window.setTimeout(function(){f.Jc||f.tb?b():(ol(f),f.Td(!0))},1E3)}function c(){function a(){function h(b){if(b&&"FAILED"===b.status)throw Error("Avatar processing has failed");b&&b.sizes&&0!==b.sizes.size&&"PENDING"!==b.status?(c(),$(".currentUser").find(".avatar").css("background-image",'url("'+b.sizes.get("50").Fa()+'")')):a()}d=Math.min(1.4*d,15E3);setTimeout(function(){var a=f.Ia;R(a.w,a.path+"/user/avatars/"+g).get(0).then($a).then(h).catch(b)},d)}function b(){window.alert("user update failed");
f.render()}function c(){S(f.Zc,"/session/user?invalidateCache",null)}var d=1E3,g=f.$el.find(".avatar").data("uploadedVersion"),k=f.$el.find(".avatar").data("uploadedType"),r=Vb(Ub(Tb(Sb(Rb(Qb(f.user.g()),ml(f.$el.find(".userName"))||null),ml(f.$el.find(".displayName"))||null),ml(f.$el.find(".homepage"))),ml(f.$el.find(".city"))),f.$el.find(".country").data("countryCode")||null);xh(f.Ia,r).then(function(a){$.extend(f.user,a.user);(h||p)&&c()}).catch(b);void 0!==g&&void 0!==k&&Ah(f.Ia,g,k).then(a).catch(b)}
function d(){var b=$(this);if(b.hasClass("country")){var c=b.find(".countryWrapper"),d=c.find("select"),d=(a?d.val():d.data("originalValue")).trim().replace(/\s+/g," ");b.empty().text(f.Pd.get(d)||"").data("countryCode",d).toggleClass("empty","ZZ"==d);c.remove()}else b.hasClass("avatar")?(b=b.next("input[type\x3dfile]"),a||pl(f),b.remove()):(b=$(this).find("input"),b=(a?b.val():b.data("originalValue")).trim().replace(/\s+/g," "),$(this).text(b).toggleClass("empty",""==b))}var f=this,g=this.$el.find(".displayName input"),
h=g.data("originalValue")!==g.val(),g=this.$el.find(".userName input"),p=g.data("originalValue")!==g.val(),g=this.$el.find(".homepage input"),g=g.data("originalValue")!==g.val(),k=this.$el.find(".city input"),k=k.data("originalValue")!==k.val(),r=this.$el.find(".country select"),z=r.data("originalValue")!==r.val(),r=this.$el.find("button.save"),g=f.Se||h||p||g||k||z;a&&(f.Jc||f.tb)?(r.prop("disabled",!0).val("Finishing upload..."),!f.Je&&b()):(f.$el.find(".editing.formButtons").remove(),f.$el.find(".editable").each(d),
f.$el.removeClass("editing"),a&&c());this.trigger("endEditing",g);this.jf=null};
function kl(a,b){function c(a,b){var c=$('\x3cimg class\x3d"offscreen"\x3e');c.one("load",function(){c.remove();b()});c.appendTo($("body")).attr("src",a)}if(2097152<b.size)(new fl({title:a.o.format("userProfileAvatarUploadErrorTitle"),content:$(a.o.format("userProfileAvatarUploadErrorFileTooLargeHtml",b.name))})).show();else{var d=window.URL||window.webkitURL;if(!d)throw Error("Failed to create object url. Unsupported browser.");var f=d.createObjectURL(b);c(f,function(){nl(a,f);window.setTimeout(function(){d.revokeObjectURL(f)},
500)});pl(a);ql(a,b)}}
function ql(a,b){function c(a){a.lengthComputable&&(a=a.loaded/a.total*9E3/100,90>a?f.Sf(a):p||(p=window.setInterval(function(){k+=.1;f.Sf(Math.min(k,99))},200)))}function d(){window.alert("There was an error uploading your avatar. Please try again later.");ol(f);nl(f,g.data("currentUrl"))}var f=a,g=a.$el.find(".avatar"),h=b.type,p,k=90;g.addClass("uploading");zh(a.Ia,h).then(function(a){function k(a){return function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];A===f.tb&&a.apply(null,
[].concat(n(c)))}}var A={file:b,hf:a.formFields,url:a.formPostUrl,progress:k(c),fj:!0};f.tb=A;il(A).then(k(function(){f.tb=null;window.clearInterval(p);p=null;f.Sf(100);g.data("uploadedVersion",a.getVersion());g.data("uploadedType",h);window.setTimeout(function(){ol(f)},2200);f.Se=!0})).catch(k(function(){d();f.tb=null}))}).catch(d)}
e.Sf=_.throttle(function(a){function b(a){a=Math.min(a,99.9999);return{size:140,radius:65,percentage:a}}var c=this.$el.find("svg.progress");0===c.length&&(c=$('\x3csvg class\x3d"progress" data-progress\x3d"0"\x3e\x3cpath fill\x3d"none" stroke\x3d"#00c4cc" stroke-width\x3d"10"\x3e\x3canimate id\x3d"uploading" attributeName\x3d"d" fill\x3d"freeze" begin \x3d "indefinite" dur \x3d "200ms"/\x3e\x3canimate id\x3d"processing" attributeName\x3d"stroke" begin\x3d"indefinite" values\x3d"#00c4cc; #99c432; #00c4cc" dur\x3d"1s" repeatCount\x3d"2"/\x3e\x3c/path\x3e\x3c/svg\x3e'),c.prependTo(this.$el.find(".avatar")),
bl(c),c.css("opacity",1));for(var d=c.find("#uploading")[0],f=parseFloat(c.data("progress")),g=ll(b(f)),h=!!d.beginElement,p=Math.ceil(a-f),k=[],r,z=0;z<=p;z++)r=f+z/p*(a-f),k.push(ll(b(r)));c.find("path").attr("d",g);c.data("progress",a);d.setAttribute("values",k.join(";"));h?(d.beginElement(),100===a&&c.find("#processing").get(0).beginElementAt(.2)):c.find("path").attr("d",_.last(k))},200);
function ol(a){var b=a.$el.find("svg.progress"),c=a.$el.find(".avatar");b.css("opacity",0);window.setTimeout(function(){b.remove();c.removeClass("uploading")},200)}function pl(a){var b=a.$el.find(".avatar").data("currentUrl");a.Jc&&a.Jc.abort();a.Jc=null;a.tb&&ol(a);a.tb=null;window.clearTimeout(a.Je);a.Je=null;nl(a,b)}
function nl(a,b){var c=Kb.sizes.get("200").Fa();a=a.$el.find(".avatar");var d="url("+b+")";a.toggleClass("default",b===c);a.css("background-image")!=d&&a.css("background-image",d)};function rl(){}rl=Backbone.View.extend({className:"button buttonFollow buttonSmall",tagName:"button"});e=rl.prototype;e.events=function(){return{click:this.ld,mouseout:this.uj}};e.initialize=function(a){this.Cb=a.Cb;this.Eb=a.Eb;this.wa=a.wa;this.Y=a.Y};
e.bj=function(){var a=this;this.$el.addClass("buttonActive buttonFollowJustClicked");this.$el.attr("disabled","disabled");this.Cb=!0;Tg(this.Y,new Ve({Db:this.Eb,type:"USER"})).finally(function(){a.$el.removeAttr("disabled")}).catch(function(){window.alert("Oh no, following failed. Refresh the page and try again.");a.$el.removeClass("buttonActive buttonFollowJustClicked");a.Cb=!1;a.trigger("unfollow",a.Eb)});this.trigger("follow",this.Eb)};e.mf=function(){return window.location.pathname+window.location.search};
e.navigate=function(a){window.location=a};e.ld=function(){this.wa?this.navigate(ki({loginRedirect:this.mf()})):this.Cb?this.Nj():this.bj()};e.uj=function(a){0===$(a.relatedTarget).closest(this.el).length&&this.$el.removeClass("buttonFollowJustClicked")};e.render=function(){this.$el.html(this.template());this.$el.toggleClass("buttonActive",this.Cb);return this};e.template=_.template('\x3cspan class\x3d"buttonFollowOff"\x3eFollow\x3c/span\x3e\x3cspan class\x3d"buttonFollowOn"\x3eFollowing\x3c/span\x3e\x3cspan class\x3d"buttonFollowOnHover"\x3eUnfollow\x3c/span\x3e');
e.Nj=function(){var a=this;this.$el.attr("disabled","disabled");this.$el.removeClass("buttonActive");this.Cb=!1;Ug(this.Y,new Ze({Db:this.Eb})).finally(function(){a.$el.removeAttr("disabled")}).catch(function(){window.alert("Oh no, unfollowing failed. Refresh the page and try again.");a.$el.addClass("buttonActive");a.Cb=!0;a.trigger("follow",a.Eb)});this.trigger("unfollow",this.Eb)};var sl=rl;function tl(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d"+((window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-b/2+(void 0!==window.screenLeft?window.screenLeft:screen.left))+",top\x3d"+((window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-c/2+(void 0!==window.screenTop?
window.screenTop:screen.top)))};function ul(){}ul=Backbone.View.extend({className:"shareProfileView"});ul.ag="shareProfileViewDismissed";e=ul.prototype;e.events=function(){return{"click .buttonFacebook":this.Gj,"click .buttonLinkedIn":this.Hj,"click .buttonTwitter":this.Ij,"click .shareProfileViewDismiss":this.Qi}};e.initialize=function(a){this.o=a.o;this.li=a.Ki;this.user=a.user;this.Zf=a.Zf};e.Qi=function(){this.hide();this.li.setItem(ul.ag,"true")};
function vl(a,b){return[window.location.protocol+"//"+window.location.host,"/"+encodeURIComponent(a.user.K()),"?utm_campaign\x3dprofileshare","\x26utm_source\x3d"+encodeURIComponent(a.Zf),"\x26utm_medium\x3d"+encodeURIComponent(b)].join("")}e.hide=function(){this.$el.addClass("shareProfileViewHidden")};
e.render=function(){this.$el.html(this.template({shareText:this.o.Jj(),facebookButtonText:this.o.format("userProfileShareFacebookButton"),twitterButtonText:this.o.format("userProfileShareTwitterButton"),linkedInButtonText:this.o.format("userProfileShareLinkedInButton"),dismissTitle:this.o.Ri()}));null!==this.li.getItem(ul.ag)&&this.hide();return this};e.Gj=function(){tl("https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(vl(this,"facebook")),550,420)};
e.Hj=function(){tl("https://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+encodeURIComponent(vl(this,"linkedIn")),606,445)};e.Ij=function(){var a;a=[this.o.format("userProfileShareTwitterText1"),this.o.format("userProfileShareTwitterText2"),this.o.format("userProfileShareTwitterText3")];var b=vl(this,"twitter");tl("https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(b)+"\x26text\x3d"+encodeURIComponent(a[Math.floor(Math.random()*a.length)]),550,420)};e.show=function(){this.$el.removeClass("shareProfileViewHidden")};
e.template=_.template('\x3c%- shareText %\x3e\x3cbutton class\x3d"button buttonFacebook buttonSmall"\x3e\x3c%- facebookButtonText %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonSmall buttonTwitter"\x3e\x3c%- twitterButtonText %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonLinkedIn buttonSmall"\x3e\x3c%- linkedInButtonText %\x3e\x3c/button\x3e\x3cbutton class\x3d"shareProfileViewDismiss" title\x3d"\x3c%- dismissTitle %\x3e"\x3e\x3c/button\x3e');var wl=ul;function xl(a){this.o=a.o;this.C=a.C;this.Gg=a.Gg;this.Zc=a.Zc;this.wa=a.fa.wa();this.gh=a.fa.g()===a.user.g();this.Ia=a.Ia;this.Y=a.Y;this.user=a.user;this.Ad=a.Ad;this.Ke=a.Ke;this.bc=a.bc;this.listenTo(this.bc,"scroll",this.Ad.ef.bind(this.Ad));this.pa=a.pa}e=xl.prototype;
e.start=function(){this.getWindow().on({resize:_.debounce(this.wj.bind(this),300)});xl.prototype.vh=function(){this.C.track("profile_page_visit",{profile_username:this.user.K(),profile_user_id:this.user.g()})};yl(this);this.gh&&(this.ue=new jl($(".headerInfo"),this.user,this.Ia,0,this.Zc,this.C,this.o,this.pa),this.ue.on({beginEditing:this.sj,endEditing:this.rj},this));zl(this);this.gh&&(new wl({o:this.o,Ki:zc(),user:this.user,Zf:"profile_page"})).render().$el.insertBefore("#designs");this.Ke.render().$el.appendTo("#designs");
this.Ad.init().ef();return this};function yl(a){var b=$(".buttonFollow");1>b.length||(b=(new sl({el:b[0],Cb:b.hasClass("buttonActive"),Eb:b.data("userId"),wa:a.wa,Y:a.Y})).render(),b.on({follow:a.zi.bind(a,1),unfollow:a.zi.bind(a,-1)}))}e.getWindow=function(){return $(window)};e.rj=function(){var a;$("body").removeClass("editingProfile");a=this.ue.K();window.history.replaceState({},"","/"+encodeURIComponent(a))};
e.sj=function(){var a=$("body");a.addClass("editingProfile");a.animate({scrollTop:0},500,"easeOutSine")};e.wj=function(){this.Ke.Nf()};
function zl(a){var b=$(".headerInfo .country"),c=b.data("countryCode").toString(),d=new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","land Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],
["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI","Burundi"],["BJ","Benin"],["BL","Saint Barthlemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],
["CI","Cte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],
["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],
["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],
["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],
["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],
["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Runion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],
["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],
["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],
["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]]);b.text(d.get(c));a.ue&&(a.ue.Pd=d)}e.zi=function(a){var b=$(".followers.stat .number");a=parseInt(b.data("value"),10)+a;b.data("value",a);b.text(a.toString())};e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;e.on=Backbone.Events.on;$(function(){function a(a){a=$(a);$("#page \x3e .inner").append(a.find(".headerInfo")).append(a.find("#designs"));$("body").addClass("profileLoaded")}function b(){var a=Mi.create({o:ed(g),fa:k,sc:d.g()===k.g(),Kc:d.Ma()||d.K(),Y:A}),b={qd:24,Sa:d.g(),ec:Y},b=new Wk({H:b.H,Ud:2,qd:b.qd,Ee:"/designs/portfolio",Sa:b.Sa,ec:b.ec}),b=new Xk({o:ed(g),Ze:Yk.bind(null,k,A,g,Ra),bc:db,mb:b,C:c,Ng:r,i:g,F:eb,ea:z,La:A,na:wg,fa:k,qa:"view_design",ma:Ra,Qf:Sk,view:a});oa=(new xl({o:ed(g),C:c,Ad:b,Ke:a,bc:db,Gg:$k(f,
r),fa:k,Zc:f,Ia:Z,Y:A,user:d,pa:cd(g)})).start();vd.lc.wf()||oa.vh()}var c=Nc(),d=Hb(window.author),f=new Pc(window.httpServiceConfig);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");var g=new Wc,h=wd(),p=h.brandInfo.ia(),k=h.user.yd(),r=new rh(new qh(x(window.cflags))),z=new Nd(f),A=new Rg(f),Y=new lh(f),Z=new vh(f),db=nh(),eb=Dc,oa,vd,ug,Ra=r.ma(),h=p.g();g.Hb||(g.Hb=new kd(g.config));var wg=new Bh({Pb:h,Ia:Z,Hb:g.Hb,$b:r.$b()}),h=Re(window.socialDocument);ug=h.J.username;$(".lightboxDialog").appendTo("body");
vd=ok($(".lightboxDialog"));h=Ok({C:c,i:g,F:eb,ea:z,La:A,Ab:h.document.id,Cc:h,na:wg,D:k,qa:"view_design",ma:Ra},vd);h.Ib();Pk(h,function(){Ra?window.parent.location.href="/":(oa&&oa.vh(),window.history&&window.history.replaceState({},"","/"+encodeURIComponent(d.K())))});h.He(!0);if(!Ra)$(window).one("load",function(){P.resolve($.get("/"+encodeURIComponent(ug||""))).then(a).then(b)})});})();
