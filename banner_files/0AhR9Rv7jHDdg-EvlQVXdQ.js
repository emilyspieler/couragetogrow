(function() {var e,ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,ca={};function da(a,b){(ca[a]=ca[a]||[]).push(b);var c=ba;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function ea(){ea=function(){};if(!ba.Symbol){ba.Symbol=fa;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var f=[],g=0,h=d.length;g<h;g++){var p;a:if(p=d[g],14>p.length)p=!1;else{for(var k=0;14>k;k++)if(p[k]!="jscomp_symbol_"[k]){p=!1;break a}p=!0}p?a.push(d[g]):f.push(d[g])}return f}};da("Object.keys",b);da("Object.getOwnPropertyNames",b);da("Object.getOwnPropertySymbols",function(c){return function(d){b.Kn=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var ha=0;
function fa(a){return"jscomp_symbol_"+a+ha++}function ia(){ea();ba.Symbol.iterator||(ba.Symbol.iterator=ba.Symbol("iterator"));ia=function(){}}function l(a){ia();ea();ia();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function ja(a){if(!(a instanceof Array)){a=l(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function m(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]}function ka(a,b){ia();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
var la="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function ma(a,b){if(b){for(var c=ba,d=a.split("."),f=0;f<d.length-1;f++){var g=d[f];g in c||(c[g]={});c=c[g]}d=d[d.length-1];f=c[d];b=b(f);if(b!=f){a=ca[a]||[];for(f=0;f<a.length;f++)b=a[f](b);la(c,d,{configurable:!0,writable:!0,value:b})}}}
ma("Array.prototype.keys",function(a){return a?a:function(){return ka(this,function(a){return a})}});function n(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
ma("WeakMap",function(a){function b(a){this.ce=(p+=Math.random()+1).toString();if(a){ea();ia();a=l(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!n(a,g)){var b={};b[g]=h;la(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(n(b,g)&&n(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function f(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),
d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};da("Object.getOwnPropertyNames",d);da("Object.keys",d);da("Reflect.enumerate",d);da("Reflect.ownKeys",d);da("Object.freeze",f);da("Object.preventExtensions",f);da("Object.seal",f);var p=0;b.prototype.set=function(a,b){c(a);if(!n(a,g))throw Error("WeakMap key fail: "+a);a[g][this.ce]=b;return this};b.prototype.get=
function(a){return n(a,g)?a[g][this.ce]:void 0};b.prototype.has=function(a){return n(a,g)&&n(a[g],this.ce)};b.prototype.delete=function(a){return n(a,g)&&n(a[g],this.ce)?delete a[g][this.ce]:!1};return b});
ma("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.ub,d={next:function(){if(c){for(;c.head!=a.ub;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.Od[c];if(d&&n(a.Od,c))for(a=0;a<d.length;a++){var f=d[a];if(b!==b&&f.key!==
f.key||b===f.key)return{id:c,list:d,index:a,za:f}}return{id:c,list:d,index:-1,za:void 0}}function f(a){this.Od={};this.ub=b();this.size=0;if(a){a=l(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(l([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),f=d.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;
f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;ea();ia();var g=new WeakMap;f.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.Od[c.id]=[]);c.za?c.za.value=b:(c.za={next:this.ub,previous:this.ub.previous,head:this.ub,key:a,value:b},c.list.push(c.za),this.ub.previous.next=c.za,this.ub.previous=c.za,this.size++);return this};f.prototype.delete=function(a){a=d(this,a);return a.za&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.Od[a.id],a.za.previous.next=a.za.next,a.za.next.previous=a.za.previous,a.za.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.Od={};this.ub=this.ub.previous=b();this.size=0};f.prototype.has=function(a){return!!d(this,a).za};f.prototype.get=function(a){return(a=d(this,a).za)&&a.value};f.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};f.prototype.keys=function(){return c(this,function(a){return a.key})};f.prototype.values=function(){return c(this,
function(a){return a.value})};f.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var h=0;return f});ma("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var f=arguments[d];if(f)for(var g in f)n(f,g)&&(a[g]=f[g])}return a}});ma("Array.prototype.values",function(a){return a?a:function(){return ka(this,function(a,c){return c})}});
ma("Array.prototype.fill",function(a){return a?a:function(a,c,d){var f=this.length||0;0>c&&(c=Math.max(0,f+c));if(null==d||d>f)d=f;d=Number(d);0>d&&(d=Math.max(0,f+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});ma("Array.prototype.find",function(a){return a?a:function(a,c){a:{var d=this;d instanceof String&&(d=String(d));for(var f=d.length,g=0;g<f;g++){var h=d[g];if(a.call(c,h,g,d)){a=h;break a}}a=void 0}return a}});
ma("Array.prototype.entries",function(a){return a?a:function(){return ka(this,function(a,c){return[a,c]})}});ma("Array.from",function(a){return a?a:function(a,c,d){ia();c=null!=c?c:function(a){return a};var f=[],g=a[Symbol.iterator];if("function"==typeof g)for(a=g.call(a);!(g=a.next()).done;)f.push(c.call(d,g.value));else for(var g=a.length,h=0;h<g;h++)f.push(c.call(d,a[h]));return f}});
ma("String.prototype.includes",function(a){return a?a:function(a,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(a,c||0)}});function na(){}
function q(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid argument":oa.apply(na,[].concat([b],ja(d))));}function pa(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid state":oa.apply(na,[].concat([b],ja(d))));}
function qa(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(null==a)throw Error(2>arguments.length?"argument is null":oa.apply(na,[].concat([b],ja(d))));return a}function oa(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var f=0;return a.replace(/\{}/g,function(){return f<c.length?c[f++]:"{}"})};function t(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,ra(b))}function ra(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function ta(a){this.type=a}ta.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};ta.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
ta.prototype.pa=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var u=new ta("string"),ua=new ta("boolean"),va=new ta("number"),wa=new ta("object");function xa(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function v(a,b){return va.optional(a,b)||0}
function w(a,b){return va.optional(a,b)}function x(a,b){return u.required(a,b)}function y(a,b){return u.optional(a,b)}function z(a,b){return ua.optional(a,b)||!1}function A(a,b){return ua.optional(a,b)}function C(a,b,c){return a(wa.required(b,c))}function D(a,b,c){return(b=wa.optional(b,c))?a(b):b}function E(a,b,c){return(b=wa.pa(b,c))?b.map(a):b}function F(a,b,c){return a(b,u.required(b,c))}function H(a,b,c){c=u.optional(b,c);return null!=c?a(b,c):c}
function ya(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var f=new Map,g=l(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,f.set(a(c,h),b(c,h,d));return f}function za(a,b){return b}function Aa(a,b,c){b=c[b];if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}
function Ba(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function Ca(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function Da(a){this.type=a}
Da.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Da.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
Da.prototype.pa=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ea=new Da("string"),Fa=new Da("boolean"),Ga=new Da("number"),I=new Da("object");function J(a,b){return 0!==b?Ga.required(a,b):void 0}function Ha(a,b){return!1!==b?Fa.required(a,b):void 0}function K(a,b){return Ea.required(a,b)}
function L(a,b){return Ea.optional(a,b)}function M(a,b,c){return I.optional(b,c?a(c):null)}function Ia(a,b,c){return Ea.required(b,a(b,c))}function Ja(a,b,c){return Ea.optional(b,c?a(b,c):null)}function Ka(a,b,c,d){if(!(d instanceof Map))throw new TypeError('expected Map for property "'+c+'", found: '+JSON.stringify(d));if(d.size){for(var f={},g=l(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,f[a(c,h)]=b(c,d.get(h));return f}}
function Oa(a,b){if("string"!==typeof b)throw new TypeError('expected string key in property "'+a+'", found: '+JSON.stringify(b));return b}function Qa(a,b){if("number"!==typeof b)throw new TypeError('expected number value in property "'+a+'", found: '+JSON.stringify(b));return b}function Ra(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}
function Sa(a,b){if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b};function Ta(a,b){switch(b){case "THUMBNAIL":return"THUMBNAIL";case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return"SCREEN";case "SCREEN_2X":return"SCREEN_2X";case "SCREEN_3X":return"SCREEN_3X";case "PRINT":return"PRINT";case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function Ua(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function Va(a,b){switch(b){case "NOT_APPLICABLE":return"NOT_APPLICABLE";case "FREE":return"FREE";case "STANDARD":return"STANDARD";case "NONE":return"NONE";default:throw new TypeError('expected Licensing for property "'+a+'", found: '+JSON.stringify(b));}}function Wa(a){this.id=a.id;this.version=a.version}Wa.prototype.o=function(){return this.id};Wa.prototype.getVersion=function(){return this.version};function Xa(a){return new Wa({id:x("id",a),version:v("version",a)})}
function Ya(a){this.xk=a.xk;this.wk=a.wk;this.hj=a.hj;this.Gj=a.Gj||[]}function Za(a){return new Ya({xk:v("spritesWide",a),wk:v("spritesHigh",a),hj:z("fullyRecolorable",a),Gj:E($a,"layers",a)})}function ab(a){this.type=a.type;this.Fj=a.Fj;this.color=a.color}ab.prototype.Va=function(){return this.type};function $a(a){return new ab({type:F(Ua,"type",a),Fj:w("layerIndex",a),color:y("color",a)})};function bb(a,b){switch(b){case "MEMBER":return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}function cb(a,b){switch(b){case "MEMBER":return"MEMBER";case "DESIGNER":return"DESIGNER";case "ADMIN":return"ADMIN";case "OWNER":return"OWNER";default:throw new TypeError('expected BrandUserRole for property "'+a+'", found: '+JSON.stringify(b));}}
function db(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}function eb(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function fb(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status;this.lf=a.lf}fb.prototype.getVersion=function(){return this.version};function gb(a){var b=J("version",a.version),c;c=a.sizes;c=Ka(Oa,Ra.bind(null,hb),"sizes",c);return{version:b,sizes:c,status:Ja(db,"status",a.status),isDefault:Ha("isDefault",a.lf)}}function ib(a){var b=v("version",a),c;c=ya(za,Ba.bind(null,jb),"sizes",a);return new fb({version:b,sizes:c,status:H(eb,"status",a),lf:z("isDefault",a)})}
function kb(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}kb.prototype.Pa=function(){return this.url};function hb(a){return{size:J("size",a.size),width:J("width",a.width),height:J("height",a.height),url:K("url",a.url)}}function jb(a){return new kb({size:v("size",a),width:v("width",a),height:v("height",a),url:x("url",a)})}
function lb(a){this.id=a.id;this.username=a.username;this.gd=a.gd;this.displayName=a.displayName;this.Qg=a.Qg;this.ec=a.ec;this.R=a.R;this.wc=a.wc;this.locale=a.locale;this.Dg=a.Dg}e=lb.prototype;e.o=function(){return this.id};e.Uc=function(){return this.username};e.df=function(){return this.gd};e.Oa=function(){return this.displayName};e.jj=function(){return this.wc};e.Yd=function(){return this.locale};
function mb(a){return new lb({id:x("id",a),username:y("username",a),gd:y("personalBrand",a),displayName:y("displayName",a),Qg:y("homepage",a),ec:y("city",a),R:y("countryCode",a),wc:C(ib,"avatar",a),locale:x("locale",a),Dg:z("deactivated",a)})}e.pj=function(){var a=this.wc&&this.wc.sizes.get("50");return a&&a.url||null};function nb(a){this.user=a.user;this.email=a.email;this.locale=a.locale;this.qc=a.qc;this.rj=a.rj||[]}nb.prototype.ka=function(){return this.user};nb.prototype.Yd=function(){return this.locale};
function ob(a){return new nb({user:C(mb,"user",a),email:y("email",a),locale:x("locale",a),qc:F(cb,"role",a),rj:u.pa("groups",a)})}function pb(a){this.id=a.id;this.mi=a.mi;this.displayName=a.displayName;this.Wa=a.Wa;this.xg=a.xg;this.Ug=a.Ug;this.Ih=a.Ih;this.Ya=a.Ya;this.Sf=a.Sf;this.pb=a.pb;this.nk=a.nk;this.Lj=a.Lj}pb.prototype.o=function(){return this.id};pb.prototype.Oa=function(){return this.displayName};pb.prototype.kj=function(){return this.Ya};
function qb(a){return new pb({id:x("id",a),mi:y("brandname",a),displayName:y("displayName",a),Wa:z("personal",a),xg:z("contributor",a),Ug:z("layoutContributor",a),Ih:z("thirdParty",a),Ya:y("brandColor",a),Sf:D(rb,"settings",a),pb:w("creationDate",a),nk:D(sb,"samlIdpSettings",a),Lj:D(tb,"loginPolicy",a)})}function ub(a){return{brand:K("brand",a.g),joinPath:K("joinPath",a.Dn)}}function vb(a){this.Bj=a.Bj}function wb(a){return new vb({Bj:x("joinUrl",a)})}
function xb(a){return{brand:K("brand",a.g),removeEmail:L("removeEmail",a.Fn),removeInviteLink:Fa.optional("removeInviteLink",a.Gn),email:L("email",a.email),groupToAdd:L("groupToAdd",a.yn),groupToRemove:L("groupToRemove",a.zn)}}function yb(){}function zb(){return new yb}function Ab(a){this.tj=a.tj;this.gi=a.gi;this.fi=a.fi;this.Ei=a.Ei;this.Di=a.Di;this.jk=a.jk;this.ek=a.ek;this.Ak=a.Ak;this.mk=a.mk;this.Bk=a.Bk;this.ki=a.ki;this.ji=a.ji;this.kk=a.kk;this.zk=a.zk}
function rb(a){return new Ab({tj:y("A",a),gi:y("B",a),fi:y("C",a),Ei:z("D",a),Di:z("E",a),jk:z("F",a),ek:z("G",a),Ak:z("H",a),mk:z("I",a),Bk:z("J",a),ki:z("K",a),ji:z("L",a),kk:z("M",a),zk:z("N",a)})}function Bb(a){this.yj=a.yj;this.xj=a.xj;this.wj=a.wj;this.vj=a.vj;this.ci=a.ci}function sb(a){return new Bb({yj:F(Cb,"A",a),xj:x("B",a),wj:x("C",a),vj:x("D",a),ci:y("E",a)})}
function Cb(a,b){switch(b){case "A":return"ACTIVE_DIRECTORY";case "D":return"DEFAULT";default:throw new TypeError('expected IdpType for property "'+a+'", found: '+JSON.stringify(b));}}function Db(a){this.uj=a.uj}function tb(a){return new Db({uj:y("A",a)})}function Eb(a){return{user:K("user",a.user),token:K("token",a.Bd)}}
function Fb(a){return{brand:L("brand",a.g),add:Ka(Oa,bb,"add",a.add),addByToken:M(Eb,"addByToken",a.jn),update:Ka(Oa,bb,"update",a.update),remove:Ea.pa("remove",a.remove),includeAvatars:Ha("includeAvatars",a.An),supportErrorResponse:Ha("supportErrorResponse",a.Jn)}}function Gb(a){this.type=a.type}
function Hb(a){switch(a.type){case "SUCCESS":return q("SUCCESS"===a.type),new Ib({Tk:C(qb,"updatedBrand",a),$g:E(ob,"members",a)});case "ERROR":return q("ERROR"===a.type),new Jb({message:x("message",a)});default:throw Error("unknown case: "+a.type);}}function Ib(a){this.type="SUCCESS";this.Tk=a.Tk;this.$g=a.$g||[]}m(Ib,Gb);function Jb(a){this.type="ERROR";this.message=a.message}m(Jb,Gb);function Kb(a){this.hk=a.hk}function Lb(a){this.name=a.name;this.value=a.value}Lb.prototype.getName=function(){return this.name};
Lb.prototype.ae=function(){return this.value};function Mb(a){return{name:Ia(Nb,"name",a.name),value:I.required("value",Ob(a.value))}}function Pb(a){return new Lb({name:F(Qb,"name",a),value:C(Rb,"value",a)})}
function Nb(a,b){switch(b){case "SEEN_ONBOARDING":return"A";case "SEEN_FORCED_E2_DIALOG":return"B";case "SEEN_PROMO_CANVA_2_OPT_IN_DIALOG":return"C";case "SEEN_CANVA_2_BROWSER_DEPRECATION_NOTICE_DIALOG":return"D";case "SEEN_CANVA_2_FORCED_SWITCH_NOTICE_DIALOG":return"E";case "SEEN_ONBOARDING_TEAMS_INVITER":return"F";case "SEEN_ONBOARDING_DESIGN_STARTER":return"G";case "SEEN_ONBOARDING_FAVORITES_SELECTOR":return"H";case "SEEN_PRICE_BADGE_UPDATE":return"I";case "SEEN_ONBOARDING_TSHIRTS":return"J";case "SEEN_REFERRALS_PUBLISH_DIALOG":return"K";
case "SEEN_SEPARATE_PHOTOS_TAB_MESSAGE":return"L";case "SEEN_PASSWORD_CHANGE_NOTICE":return"M";case "SEEN_PASSWORD_CHANGE_DIALOG":return"N";case "SEEN_EMAIL_CONFIRMATION_NOTICE":return"O";case "SEEN_NPS_SURVEY_PUBLISH_DIALOG":return"P";case "COMPLETED_EDITOR_ONBOARDING":return"Q";case "SEEN_SSO_BINDING_ALERT":return"R";default:throw new TypeError('expected AttributeName for property "'+a+'", found: '+JSON.stringify(b));}}
function Qb(a,b){switch(b){case "A":return"SEEN_ONBOARDING";case "B":return"SEEN_FORCED_E2_DIALOG";case "C":return"SEEN_PROMO_CANVA_2_OPT_IN_DIALOG";case "D":return"SEEN_CANVA_2_BROWSER_DEPRECATION_NOTICE_DIALOG";case "E":return"SEEN_CANVA_2_FORCED_SWITCH_NOTICE_DIALOG";case "F":return"SEEN_ONBOARDING_TEAMS_INVITER";case "G":return"SEEN_ONBOARDING_DESIGN_STARTER";case "H":return"SEEN_ONBOARDING_FAVORITES_SELECTOR";case "I":return"SEEN_PRICE_BADGE_UPDATE";case "J":return"SEEN_ONBOARDING_TSHIRTS";case "K":return"SEEN_REFERRALS_PUBLISH_DIALOG";
case "L":return"SEEN_SEPARATE_PHOTOS_TAB_MESSAGE";case "M":return"SEEN_PASSWORD_CHANGE_NOTICE";case "N":return"SEEN_PASSWORD_CHANGE_DIALOG";case "O":return"SEEN_EMAIL_CONFIRMATION_NOTICE";case "P":return"SEEN_NPS_SURVEY_PUBLISH_DIALOG";case "Q":return"COMPLETED_EDITOR_ONBOARDING";case "R":return"SEEN_SSO_BINDING_ALERT";default:throw new TypeError('expected AttributeName for property "'+a+'", found: '+JSON.stringify(b));}}function Sb(a){this.type=a.type}
function Ob(a){switch(a.type){case "BOOLEAN":return{type:"BOOLEAN",value:Ha("value",a.value)};case "STRING":return{type:"STRING",value:K("value",a.value)};default:throw Error();}}function Rb(a){switch(a.type){case "BOOLEAN":return q("BOOLEAN"===a.type),new Tb({value:z("value",a)});case "STRING":return q("STRING"===a.type),new Ub({value:x("value",a)});default:throw Error("unknown case: "+a.type);}}function Tb(a){this.type="BOOLEAN";this.value=a.value}m(Tb,Sb);Tb.prototype.ae=function(){return this.value};
function Ub(a){this.type="STRING";this.value=a.value}m(Ub,Sb);Ub.prototype.ae=function(){return this.value};function Vb(a){this.user=a.user;this.vc=a.vc}Vb.prototype.ka=function(){return this.user};Vb.prototype.getAttribute=function(){return this.vc};function Wb(a){return{user:K("user",a.user),attribute:I.required("attribute",Mb(a.vc))}}function Xb(){}function Yb(){return new Xb}function Zb(a){this.user=a.user;this.attributes=a.attributes||[]}Zb.prototype.ka=function(){return this.user};
function $b(a){this.attributes=a.attributes||[]}function ac(a){return new $b({attributes:E(Pb,"attributes",a)})};function bc(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.nn||null;this.personal=a.Wa||!1;this.contributor=a.xg||!1;this.layoutContributor=a.Ug||!1;this.thirdParty=a.Ih||!1;this.brandColor=a.Ya||null}bc.prototype.o=function(){return this.id};bc.prototype.Oa=function(){return this.displayName};bc.prototype.kj=function(){return this.brandColor};function cc(a){return a?t(bc,a):null}
function dc(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.gd||"";this.displayName=a.displayName||"";this.homepage=a.Qg||null;this.city=a.ec||null;this.countryCode=a.R||null;this.avatar=a.wc||null;this.roles=a.Hn||[];this.deactivated=a.Dg||!1;this.locale=a.locale||"en"}e=dc.prototype;e.o=function(){return this.id};e.Uc=function(){return this.username};e.df=function(){return this.personalBrand};e.Oa=function(){return this.displayName};e.Vd=function(){return this.avatar};
e.Pg=function(){return this.roles};function ec(a){if(!a)return null;a=t(dc,a);a.avatar&&(a.avatar=ib(a.avatar));return a}function fc(a){return ec(a)}e.Lh=function(){return mb(Object.assign({},this,{avatar:this.avatar&&gb(this.avatar)}))};e.Wd=function(a){var b=this.Vd();return b&&(a=b.sizes.get(a))?a.Pa():null};e.pj=function(){return this.Wd("50")};e.Aj=function(){return"UAAAAAAAAAA"===this.id};
function gc(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailStatus=null;this.username="";this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.roles=[];this.personalBrand="";this.brands={};this.locale="";this.phoneNumber=this.profession=null}e=gc.prototype;e.o=function(){return this.id};e.Oa=function(){return this.displayName};e.Uc=function(){return this.username};
e.Vd=function(){return this.avatar};e.Pg=function(){return this.roles};e.df=function(){return this.personalBrand};e.Yd=function(){return this.locale};e.setLocale=function(a){this.locale=a};e.Wd=function(a){var b=this.Vd();return b&&(a=b.sizes.get(a))?a.Pa():null};e.Aj=function(){return"UAAAAAAAAAA"===this.id};
e.Lh=function(){return ec({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&gb(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};ib({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});
function hc(){this.user="";this.preferredHomepage=this.privacyPolicyNotified=this.profession=this.generateApiKeyWithType=this.avatar=this.locale=this.countryCode=this.city=this.homepage=this.currentPassword=this.roles=this.displayName=this.password=this.username=this.emailVerified=this.email=null}function ic(a){var b=new hc;b.user=a;return b}e=hc.prototype;e.o=function(){return this.user};e.Uc=function(){return this.username};e.Oa=function(){return this.displayName};e.Yd=function(){return this.locale};
e.oj=function(){return this.preferredHomepage};function jc(a,b){a.preferredHomepage=b;return a}function kc(){this.user=void 0;this.verificationEmailSent=null}kc.prototype.ka=function(){return this.user};kc.prototype.Rf=function(a){this.user=a};
function lc(a){if(!a)return null;a=t(kc,a);var b;b=a.user;var c;b?(c=t(gc,b),c.avatar&&(c.avatar=ib(c.avatar)),b.userNotificationSettings&&(c.userNotificationSettings=new Kb({hk:z("receiveSocialEmails",b.userNotificationSettings)})),b=c):b=null;a.user=b;return a}function mc(){}function nc(a){return Object.freeze(t(mc,a))}function oc(){}oc.prototype.$a=function(){return this.continuation};oc.prototype.getCount=function(){return this.count};function pc(a){return Object.freeze(t(oc,a))}
function qc(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.qc}qc.prototype.ka=function(){return this.user};function rc(a){a=t(qc,a);a.user=ec(a.user);return Object.freeze(a)}function sc(){}e=sc.prototype;e.Vh=function(a){this.brand=a;return this};e.X=function(){return this.brand};e.Xk=function(a){this.continuation=a;return this};e.$a=function(){return this.continuation};e.Zk=function(a){this.limit=a;return this};e.Rc=function(){return this.limit};
function tc(){var a=new sc;a.countOnly=!0;return a}function uc(a){a=void 0===a?{}:a;this.members=a.$g;this.continuation=a.Nb}uc.prototype.$a=function(){return this.continuation};uc.prototype.getCount=function(){return this.count};function vc(a){a=t(uc,a);a.members&&(a.members=a.members.map(rc));return Object.freeze(a)};function wc(a){this.ic=a.ic;this.jc=a.jc;this.user=a.user;this.g=a.g;this.Wa=a.Wa;this.Mb=a.Mb;this.eb=a.eb;this.R=a.R;this.ac=a.ac}function xc(a){var b=x("experience",a),c;c=ya(za,Ca,"experiments",a);return new wc({ic:b,jc:c||new Map,user:y("user",a)||null,g:y("brand",a)||null,Wa:A("personal",a)||null,Mb:w("cohort",a)||null,eb:y("tier",a)||null,R:y("countryCode",a)||null,ac:y("userLocale",a)||null})};function yc(a){this.config=a;this.qn=this.Pi=null;this.ready=!1}
function zc(a,b){var c=Object.assign({},b),d={};a.Pi&&(c.design=a.Pi);c.experience=a.config.ic;a.config.jc.forEach(function(a,b){c["Experiment_"+b]=a;d[b]=a});c.experiments=JSON.stringify(d);a.config.g&&(c.brand=a.config.g);null!=a.config.Wa&&(c.personal=a.config.Wa);null!=a.config.Mb&&(c.cohort=a.config.Mb);a.config.eb&&(c.tier=a.config.eb);null!=a.config.R&&(c.country_code=a.config.R);null!=a.config.ac&&(c.locale=a.config.ac);c.product_variant="web-1";Ac(c);return c}
function Ac(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}
function Bc(a,b){var c=window.lastUserTraits||Cc(new Dc),d=Ec(new Dc,"__user",a);a=a!==c.get("__user");if(b&&Fc(b)){for(var f=l(b),g=f.next();!g.done;g=f.next()){var h=l(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=l(b.keys());for(f=c.next();!f.done;f=c.next())f=f.value,Ec(d,f,b.get(f))}a&&(window.lastUserTraits=Cc(d));return a}function Fc(a){q(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
function Gc(a,b,c,d,f,g){var h={};h.type=b;h.section=c;h.subsection=d;h.location=f;g&&Object.assign(h,g);a.track("button_click",h)}yc.prototype.zoom=function(a,b,c,d,f){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:f})};function Hc(a,b){a.track(b.name,b.oh)}function Ic(a){this.name=a;this.oh={}}function O(a,b,c){if(a.oh[b])throw Error("duplicated property");a.oh[b]=c;return a}function Dc(){this.items=[]}function Ec(a,b,c){a.items.push({key:b,value:c});return a}
function Cc(a){return new Map(a.items.map(function(a){return[a.key,a.value]}))};function Q(a,b){this.name=a;this.defaultValue=b};function Jc(a){this.values=a||{}}function Kc(){return new Jc(xa(window.cflags))}Jc.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;q(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function Lc(a){this.F=a}var Mc=new Q("nb",!1),Nc=new Q("bg",!1),Oc=new Q("cd",!1),Pc=new Q("cf",50),Qc=new Q("dc",-1),Rc=new Q("ek",!1),Sc=new Q("em","NONE"),Tc=new Q("nw",!0),Uc=new Q("tv",!1),Wc=new Q("vi",!1);Lc.prototype.Za=function(){return this.F.get(Mc)};Lc.prototype.Gg=function(){return this.F.get(Sc)};function R(a){this.zl=a.fallback;this.Kj=a.localePrecedence;this.bh={};this.l=a.messages;this.xm=this.Kj[0];this.Fm=!!a.returnKeys}R.prototype.format=function(a,b){if(this.Fm)return[].join.call(arguments,":");var c=Xc(this,a);return c.format.call(c,[].slice.call(arguments,1))};
R.prototype.Fa=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],ja(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function Xc(a,b){if(a.bh.hasOwnProperty(b))return a.bh[b];var c=a.xm,d;a.Kj.some(function(c){d=a.l[c]&&a.l[c][b];return void 0!==d});d||(c=a.zl,d=a.l[c]&&a.l[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,Yc);return a.bh[b]=c}var Yc={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function Zc(){this.config=window.cmsg;this.rg=this.sg=this.tg=this.pc=this.ya=this.Fh=this.O=this.Fg=this.eh=this.C=this.G=this.kc=this.Jd=this.Hg=null}function $c(a){a.Hg||(a.Hg=new ad(a.config));return a.Hg}function bd(a){a.Jd||(a.Jd=new cd(a.config));return a.Jd}function dd(a){a.G||(a.G=new ed(a.config));return a.G}function fd(a){a.Fg||(a.Fg=new gd(a.config));return a.Fg}function hd(a){a.O||(a.O=new id(a.config));return a.O}function jd(a){a.ya||(a.ya=new kd(a.config));return a.ya}
function ld(a){a.pc||(a.pc=new md(a.config));return a.pc}function ed(a){R.apply(this,arguments)}m(ed,R);e=ed.prototype;e.Ec=function(){return this.format("creditCardCreditCardLabel")};e.yc=function(){return this.format("creditCardBillingAddressLabel")};e.hb=function(){return this.format("creditCardCardNumberPlaceholder")};e.lb=function(){return this.format("creditCardMonthPlaceholder")};e.mb=function(){return this.format("creditCardYearPlaceholder")};e.ib=function(){return this.format("creditCardCvcPlaceholder")};
function nd(a){return a.format("creditCardRegionPlaceholder")}e.Lb=function(){return this.format("creditCardZipCodePlaceholder")};e.save=function(){return this.format("creditCardSave")};function ad(a){R.apply(this,arguments)}m(ad,R);ad.prototype.Ha=function(){return this.format("documentPlaceholderText")};ad.prototype.cg=function(){return this.format("documentUntitledDesign")};function od(a){R.apply(this,arguments)}m(od,R);od.prototype.Pe=function(){return this.format("homeSideBarCreateFolder")};
function cd(a){R.apply(this,arguments)}m(cd,R);cd.prototype.bd=function(){return this.format("canvaForWorkUpgradeMemberLabel")};function pd(a){return a.format("canvaForWorkFeatureUpgradePlusIncreaseProductivity")}function qd(a){return a.format("canvaForWorkFeatureUpgradeTemplatesBenefit")}function rd(a){return a.format("canvaForWorkFeatureUpgradeResizeBenefit")}function sd(a){return a.format("canvaForWorkFeatureUpgradeBrandKitBenefit")}
function td(a){return a.format("canvaForWorkFeatureUpgradeFoldersBenefit")}function ud(a){return a.format("canvaForWorkFeatureUpgradeFreeContentBenefit")}function vd(a){R.apply(this,arguments)}m(vd,R);e=vd.prototype;e.Sf=function(){return this.format("userMenuSettings")};e.bn=function(){return this.format("userMenuViewProfile")};e.gd=function(){return this.format("userMenuPersonalBrand")};e.signOut=function(){return this.format("userMenuSignOut")};e.Th=function(){return this.format("userMenuUpgrade")};
function wd(a){R.apply(this,arguments)}m(wd,R);wd.prototype.cg=function(){return this.format("notificationPopOverUntitledDesign")};function gd(a){R.apply(this,arguments)}m(gd,R);function xd(a,b){return a.format("designSearchResultCount",b)}function id(a){R.apply(this,arguments)}m(id,R);e=id.prototype;e.sb=function(){return this.format("designFolderListDefaultName")};e.dd=function(){return this.format("designFolderListNewFolder")};e.Sc=function(){return this.format("designFolderListGetMoreFolders")};
e.Qc=function(a){return this.format("designFolderListFolderQuotaHint",a)};e.Mc=function(){return this.format("designFolderListErrorMessageHtml")};e.nd=function(){return this.format("designFolderListRetry")};e.$c=function(){return this.format("designFolderListLoadFolders")};function yd(a){R.apply(this,arguments)}m(yd,R);function kd(a){R.apply(this,arguments)}m(kd,R);e=kd.prototype;e.Th=function(a){return this.format("teamBillingSignupUpgrade",a)};e.zd=function(){return this.format("teamBillingSignupStartTrial")};
e.od=function(){return this.format("teamBillingSignupRevertCard")};e.Xc=function(){return this.format("teamBillingSignupItemsTitle")};e.zc=function(){return this.format("teamBillingSignupBillingError")};e.Cd=function(){return this.format("teamBillingSignupTryAgain")};e.Lc=function(){return this.format("teamBillingSignupEncryption")};function md(a){R.apply(this,arguments)}m(md,R);md.prototype.Pj=function(){return this.format("newFeatureNewLabel")};function zd(a){R.apply(this,arguments)}m(zd,R);e=zd.prototype;
e.title=function(){return this.format("canva2WhatsNewDialogTitle")};e.ol=function(){return this.Fa("canva2WhatsNewDialogBodyHtml")};e.hl=function(){return this.format("canva2WhatsNewDialogBenefit1")};e.il=function(){return this.format("canva2WhatsNewDialogBenefit2")};e.jl=function(){return this.format("canva2WhatsNewDialogBenefit3")};e.kl=function(){return this.format("canva2WhatsNewDialogBenefit4")};e.jg=function(){return this.format("canva2WhatsNewDialogAcknowledgeButtonLabel")};
function Ad(a){R.apply(this,arguments)}m(Ad,R);e=Ad.prototype;e.title=function(){return this.format("canva2SwitchNoticeDialogTitle")};e.Im=function(){return this.Fa("canva2SwitchNoticeDialogSection1Html")};e.K=function(){return this.format("canva2SwitchNoticeDialogSection2")};e.ta=function(){return this.format("canva2SwitchNoticeDialogConfirmButtonLabel")};e.ia=function(){return this.format("canva2SwitchNoticeDialogDismissLinkLabel")};function Bd(a){R.apply(this,arguments)}m(Bd,R);
Bd.prototype.title=function(){return this.format("canva2BrowserDeprecationNoticeDialogTitle")};Bd.prototype.ml=function(){return this.format("canva2BrowserDeprecationNoticeDialogBody1")};Bd.prototype.nl=function(){return this.Fa("canva2BrowserDeprecationNoticeDialogBody2Html")};Bd.prototype.jg=function(){return this.format("canva2BrowserDeprecationNoticeDialogAcknowledgeButtonLabel")};function Cd(a,b){switch(b){case "USER":return"USER";case "GROUP":return"GROUP";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function Dd(a,b){switch(b){case "USER":return"USER";case "GROUP":return"GROUP";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function Ed(a,b){switch(b){case "NONE":return"NONE";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}
function Fd(a,b){switch(b){case "NONE":return"NONE";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}function Gd(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function Hd(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}function Id(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Jd(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function Kd(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionResult for property "'+a+'", found: '+JSON.stringify(b));}}function Ld(a){this.rules=a.rules||[];this.version=a.version;this.ih=a.ih}Ld.prototype.getVersion=function(){return this.version};
function Md(a){return{rules:I.pa("rules",a.rules.map(Nd)),version:J("version",a.version),owner:I.required("owner",Od(a.ih))}}function Pd(a){return new Ld({rules:E(Qd,"rules",a),version:v("version",a),ih:C(Rd,"owner",a)})}function Sd(a){this.type=a.type;this.nh=a.nh;this.qc=a.qc;this.origin=a.origin;this.timestamp=a.timestamp}Sd.prototype.Va=function(){return this.type};
function Nd(a){return{type:Ia(Cd,"type",a.type),principal:M(Od,"principal",a.nh),role:Ia(Ed,"role",a.qc),origin:M(Td,"origin",a.origin),timestamp:Ga.optional("timestamp",a.timestamp)}}function Qd(a){return new Sd({type:F(Dd,"type",a),nh:D(Rd,"principal",a),qc:F(Fd,"role",a),origin:D(Ud,"origin",a),timestamp:w("timestamp",a)})}function Vd(a){this.g=a.g;this.group=a.group;this.user=a.user}Vd.prototype.X=function(){return this.g};Vd.prototype.ka=function(){return this.user};
function Od(a){return{brand:K("brand",a.g),group:L("group",a.group),user:L("user",a.user)}}function Rd(a){return new Vd({g:x("brand",a),group:y("group",a),user:y("user",a)})}function Wd(a){this.type=a.type;this.id=a.id}Wd.prototype.Va=function(){return this.type};Wd.prototype.o=function(){return this.id};function Td(a){return{type:Ia(Gd,"type",a.type),id:L("id",a.id)}}function Ud(a){return new Wd({type:F(Hd,"type",a),id:y("id",a)})}
function Xd(a){this.default=a.default;this.view=a.view;this.ph=a.ph;this.Jg=a.Jg}function Yd(a){return{"default":L("default",a.default),view:L("view",a.view),remix:L("remix",a.ph),edit:L("edit",a.Jg)}}function Zd(a){return new Xd({default:y("default",a),view:y("view",a),ph:y("remix",a),Jg:y("edit",a)})}function $d(a){this.type=a.type}
function ae(a){switch(a.type){case "REFERENCE":return{type:"REFERENCE",id:K("id",a.id),version:J("version",a.version)};case "INLINE":return{type:"INLINE",width:J("width",a.width),height:J("height",a.height),units:Ia(Id,"units",a.units)};default:throw Error();}}
function be(a){switch(a.type){case "REFERENCE":return q("REFERENCE"===a.type),new ce({id:x("id",a),version:v("version",a)});case "INLINE":return q("INLINE"===a.type),new de({width:v("width",a),height:v("height",a),units:F(Jd,"units",a)});default:throw Error("unknown case: "+a.type);}}function ce(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}m(ce,$d);ce.prototype.o=function(){return this.id};ce.prototype.getVersion=function(){return this.version};
function de(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}m(de,$d);function ee(a){this.id=a.id;this.version=a.version}ee.prototype.o=function(){return this.id};ee.prototype.getVersion=function(){return this.version};function fe(a){return{id:K("id",a.id),version:J("version",a.version)}}function ge(a){return new ee({id:x("id",a),version:v("version",a)})}
function he(a){this.id=a.id;this.Eb=a.Eb;this.pb=a.pb;this.origin=a.origin;this.Pc=a.Pc;this.tags=a.tags||[];this.nb=a.nb;this.Ac=a.Ac;this.Hc=a.Hc;this.version=a.version;this.timestamp=a.timestamp;this.Nh=a.Nh;this.Dc=a.Dc||new Map}he.prototype.o=function(){return this.id};he.prototype.Ud=function(){return this.nb};he.prototype.getVersion=function(){return this.version};
function ie(a){return{id:K("id",a.id),owningBrand:K("owningBrand",a.Eb),creationDate:J("creationDate",a.pb),origin:M(fe,"origin",a.origin),extensions:M(Yd,"extensions",a.Pc),tags:Ea.pa("tags",a.tags),acl:M(Md,"acl",a.nb),brandTemplate:Ha("brandTemplate",a.Ac),draft:I.required("draft",je(a.Hc)),version:J("version",a.version),timestamp:Ga.optional("timestamp",a.timestamp),trashed:M(ke,"trashed",a.Nh),contributors:Ka(Oa,Qa,"contributors",a.Dc)}}
function le(a){return new he({id:x("id",a),Eb:x("owningBrand",a),pb:v("creationDate",a),origin:D(ge,"origin",a),Pc:D(Zd,"extensions",a),tags:u.pa("tags",a),nb:D(Pd,"acl",a),Ac:z("brandTemplate",a),Hc:C(me,"draft",a),version:v("version",a),timestamp:w("timestamp",a),Nh:D(ne,"trashed",a),Dc:ya(za,Aa,"contributors",a)})}function oe(a){this.timestamp=a.timestamp}function ke(a){return{timestamp:J("timestamp",a.timestamp)}}function ne(a){return new oe({timestamp:v("timestamp",a)})}
function pe(a){this.content=a.content;this.pd=a.pd;this.rh=a.rh;this.version=a.version;this.timestamp=a.timestamp;this.Dd=a.Dd;this.fd=a.fd;this.Wc=a.Wc;this.uc=a.uc}pe.prototype.getContent=function(){return this.content};pe.prototype.getVersion=function(){return this.version};
function je(a){return{content:I.required("content",qe(a.content)),schema:K("schema",a.pd),schemaFamily:K("schemaFamily",a.rh),version:J("version",a.version),timestamp:J("timestamp",a.timestamp),untouched:Ha("untouched",a.Dd),pageCount:J("pageCount",a.fd),imageSets:I.required("imageSets",re(a.Wc)),associatedMedia:L("associatedMedia",a.uc)}}
function me(a){return new pe({content:C(se,"content",a),pd:x("schema",a),rh:x("schemaFamily",a),version:v("version",a),timestamp:v("timestamp",a),Dd:z("untouched",a),fd:v("pageCount",a),Wc:C(te,"imageSets",a),uc:y("associatedMedia",a)})}function ue(a){this.title=a.title;this.description=a.description;this.Yc=a.Yc||[];this.doctype=a.doctype}ue.prototype.Tc=function(){return this.title};
function qe(a){return{title:L("title",a.title),description:L("description",a.description),keywords:Ea.pa("keywords",a.Yc),doctype:I.required("doctype",ae(a.doctype))}}function se(a){return new ue({title:y("title",a),description:y("description",a),Yc:u.pa("keywords",a),doctype:C(be,"doctype",a)})}function ve(a){this.xe=a.xe;this.mh=a.mh}ve.prototype.qj=function(){return this.xe};function re(a){return{thumbnail:I.required("thumbnail",we(a.xe)),preview:M(we,"preview",a.mh)}}
function te(a){return new ve({xe:C(xe,"thumbnail",a),mh:D(xe,"preview",a)})}function ye(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}ye.prototype.getVersion=function(){return this.version};function we(a){return{height:J("height",a.height),width:J("width",a.width),version:J("version",a.version),images:I.pa("images",a.images.map(ze))}}function xe(a){return new ye({height:v("height",a),width:v("width",a),version:v("version",a),images:E(Ae,"images",a)})}
function Be(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}Be.prototype.getKey=function(){return this.key};Be.prototype.Pa=function(){return this.url};function ze(a){return{bucket:K("bucket",a.bucket),key:K("key",a.key),page:J("page",a.page),url:L("url",a.url)}}function Ae(a){return new Be({bucket:x("bucket",a),key:x("key",a),page:v("page",a),url:y("url",a)})}function S(a){this.type=a.type;this.id=a.id;this.version=a.version;this.g=a.g;this.user=a.user;this.la=a.la}
S.prototype.o=function(){return this.id};S.prototype.getVersion=function(){return this.version};S.prototype.X=function(){return this.g};S.prototype.ka=function(){return this.user};
function Ce(a){switch(a.type){case "RASTER":return q("RASTER"===a.type),new De({id:x("id",a),version:v("version",a),g:y("brand",a),user:y("user",a),la:H(Va,"licensing",a),files:E(Ee,"files",a)});case "VECTOR":return q("VECTOR"===a.type),new Fe({id:x("id",a),version:v("version",a),g:y("brand",a),user:y("user",a),la:H(Va,"licensing",a),files:E(Ee,"files",a),Jb:D(Za,"spritesheetMetadata",a)});case "DESIGN":return q("DESIGN"===a.type),new Ge({id:x("id",a),version:v("version",a),g:y("brand",a),user:y("user",
a),la:H(Va,"licensing",a),files:E(Ee,"files",a)});case "FONT":return q("FONT"===a.type),new He({id:x("id",a),version:v("version",a),g:y("brand",a),user:y("user",a),la:H(Va,"licensing",a),files:E(Ie,"files",a)});case "ELEMENT_GROUP":return q("ELEMENT_GROUP"===a.type),new Je({id:x("id",a),version:v("version",a),g:y("brand",a),user:y("user",a),la:H(Va,"licensing",a),files:E(Ee,"files",a)});case "UNKNOWN":return q("UNKNOWN"===a.type),new Ke({id:x("id",a),version:v("version",a),g:y("brand",a),user:y("user",
a),la:H(Va,"licensing",a),files:E(Le,"files",a)});default:throw Error("unknown case: "+a.type);}}function De(a){S.call(this,{type:"RASTER",id:a.id,version:a.version,g:a.g,user:a.user,la:a.la,files:a.files});this.files=a.files||[]}m(De,S);function Fe(a){S.call(this,{type:"VECTOR",id:a.id,version:a.version,g:a.g,user:a.user,la:a.la,files:a.files,Jb:a.Jb});this.files=a.files||[];this.Jb=a.Jb}m(Fe,S);
function Ge(a){S.call(this,{type:"DESIGN",id:a.id,version:a.version,g:a.g,user:a.user,la:a.la,files:a.files});this.files=a.files||[]}m(Ge,S);function He(a){S.call(this,{type:"FONT",id:a.id,version:a.version,g:a.g,user:a.user,la:a.la,files:a.files});this.files=a.files||[]}m(He,S);function Je(a){S.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,g:a.g,user:a.user,la:a.la,files:a.files});this.files=a.files||[]}m(Je,S);
function Ke(a){S.call(this,{type:"UNKNOWN",id:a.id,version:a.version,g:a.g,user:a.user,la:a.la,files:a.files});this.files=a.files||[]}m(Ke,S);function Me(a){this.url=a.url;this.Uk=a.Uk;this.width=a.width;this.height=a.height;this.Ce=a.Ce;this.yk=a.yk;this.Yb=a.Yb;this.fj=a.fj}Me.prototype.Pa=function(){return this.url};
function Ee(a){return new Me({url:x("url",a),Uk:z("urlDenied",a),width:v("width",a),height:v("height",a),Ce:z("watermarked",a),yk:z("spritesheet",a),Yb:H(Ta,"quality",a),fj:y("filterCode",a)})}function Ne(a){this.url=a.url;this.Yb=a.Yb}Ne.prototype.Pa=function(){return this.url};function Ie(a){return new Ne({url:x("url",a),Yb:H(Ta,"quality",a)})}function Oe(a){this.url=a.url;this.width=a.width;this.height=a.height;this.Ce=a.Ce;this.Yb=a.Yb}Oe.prototype.Pa=function(){return this.url};
function Le(a){return new Oe({url:x("url",a),width:w("width",a),height:w("height",a),Ce:A("watermarked",a),Yb:H(Ta,"quality",a)})}function Pe(a){return{id:K("id",a.id),title:L("title",a.title),colorReplacements:Ka(Oa,Sa,"colorReplacements",a.pn)}};function Qe(a,b){switch(b){case "FOLLOW":return"FOLLOW";case "LIKE":return"LIKE";case "PUBLICIFY":return"PUBLICIFY";default:throw new TypeError('expected ActivityVerb for property "'+a+'", found: '+JSON.stringify(b));}};function Re(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function Se(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function Te(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function Ue(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function Ve(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function Ze(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function $e(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function af(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Aa=a.Aa;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color;this.list=a.list}
function bf(a){return new af({fontFamily:y("fontFamily",a),fontSize:w("fontSize",a),bold:A("bold",a),italic:A("italic",a),Aa:y("justification",a),letterSpacing:w("letterSpacing",a),lineHeight:w("lineHeight",a),color:y("color",a),list:A("list",a)})}function cf(a){this.title=a.title;this.Fk=a.Fk;this.body=a.body}cf.prototype.Tc=function(){return this.title};function df(a){return new cf({title:D(bf,"title",a),Fk:D(bf,"subtitle",a),body:D(bf,"body",a)})}
function ef(a){this.nc=a.nc;this.title=a.title;this.description=a.description;this.Yc=a.Yc||[];this.ri=a.ri;this.Mi=a.Mi;this.bb=a.bb||[];this.doctype=a.doctype;this.ne=a.ne||[]}ef.prototype.Tc=function(){return this.title};function ff(a){return new ef({nc:x("layout",a),title:y("title",a),description:y("description",a),Yc:u.pa("keywords",a),ri:D(df,"canvaDefaultFonts",a),Mi:D(df,"defaultFonts",a),bb:E(gf,"pages",a),doctype:C(be,"doctype",a),ne:u.pa("palette",a)})}
function hf(a){this.height=a.height;this.width=a.width;this.Ui=a.Ui;this.elements=a.elements||[];this.type=a.type;this.nc=a.nc;this.ik=a.ik}hf.prototype.Va=function(){return this.type};function gf(a){return new hf({height:v("height",a),width:v("width",a),Ui:w("dpi",a),elements:E(jf,"elements",a),type:y("type",a),nc:D(Xa,"layout",a),ik:D(kf,"resizeContentBox",a)})}
function T(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.da=a.da;this.rotation=a.rotation;this.link=a.link;this.ea=a.ea;this.index=a.index;this.aa=a.aa;this.ba=a.ba;this.origin=a.origin}
function jf(a){switch(a.type){case "image":return q("image"===a.type),new lf({top:v("top",a),left:v("left",a),height:v("height",a),width:v("width",a),da:w("transparency",a),rotation:w("rotation",a),link:y("link",a),ea:z("userEdited",a),index:w("index",a),aa:w("elementIndex",a),ba:w("groupIndex",a),origin:D(mf,"origin",a),w:w("flipOrientation",a),filter:D(nf,"filter",a),na:y("mediaId",a),oa:w("mediaVersion",a),ma:A("mediaApproved",a),yb:A("isBackground",a),Ab:A("isRecolorable",a),zb:A("isCutout",a),
kf:A("isDark",a),backgroundColor:y("backgroundColor",a),xb:D(kf,"imageBox",a),ja:E(of,"fillColors",a)});case "text":return q("text"===a.type),new pf({top:v("top",a),left:v("left",a),height:v("height",a),width:v("width",a),da:w("transparency",a),rotation:w("rotation",a),link:y("link",a),ea:z("userEdited",a),index:w("index",a),aa:w("elementIndex",a),ba:w("groupIndex",a),origin:D(mf,"origin",a),w:w("flipOrientation",a),style:y("style",a),html:y("html",a),fontFamily:y("fontFamily",a),fontSize:w("fontSize",
a),color:y("color",a),bold:A("bold",a),italic:A("italic",a),list:A("list",a),tb:D(Xa,"fontMedia",a),wb:E(Xa,"htmlFontMedia",a),Aa:y("justification",a),fg:y("verticalAlignment",a),letterSpacing:w("letterSpacing",a),lineHeight:w("lineHeight",a),Bb:va.pa("lineLengths",a),padding:w("padding",a),textTransform:y("textTransform",a),border:D(qf,"border",a),mf:E(rf,"kerning",a),Mf:H(Re,"reflowMode",a),Wf:D(sf,"stylesOverriden",a)});case "svg":return q("svg"===a.type),new tf({top:v("top",a),left:v("left",a),
height:v("height",a),width:v("width",a),da:w("transparency",a),rotation:w("rotation",a),link:y("link",a),ea:z("userEdited",a),index:w("index",a),aa:w("elementIndex",a),ba:w("groupIndex",a),origin:D(mf,"origin",a),w:w("flipOrientation",a),na:y("mediaId",a),oa:w("mediaVersion",a),ma:A("mediaApproved",a),yb:A("isBackground",a),Ab:A("isRecolorable",a),zb:A("isCutout",a),contents:E(uf,"contents",a),scale:w("scale",a),ja:E(of,"fillColors",a),Yf:D(vf,"svgMetadata",a)});case "graphic":return q("graphic"===
a.type),new wf({top:v("top",a),left:v("left",a),height:v("height",a),width:v("width",a),da:w("transparency",a),rotation:w("rotation",a),link:y("link",a),ea:z("userEdited",a),index:w("index",a),aa:w("elementIndex",a),ba:w("groupIndex",a),origin:D(mf,"origin",a),w:w("flipOrientation",a),na:y("mediaId",a),oa:w("mediaVersion",a),ma:A("mediaApproved",a),scale:w("scale",a),ja:E(of,"fillColors",a),Jb:D(Za,"spritesheetMetadata",a)});case "grid":return q("grid"===a.type),new xf({top:v("top",a),left:v("left",
a),height:v("height",a),width:v("width",a),da:w("transparency",a),rotation:w("rotation",a),link:y("link",a),ea:z("userEdited",a),index:w("index",a),aa:w("elementIndex",a),ba:w("groupIndex",a),origin:D(mf,"origin",a),w:w("flipOrientation",a),spacing:w("spacing",a),items:E(yf,"items",a),contents:E(zf,"contents",a),ja:E(of,"fillColors",a)});case "group":return q("group"===a.type),new Af({top:v("top",a),left:v("left",a),height:v("height",a),width:v("width",a),da:w("transparency",a),rotation:w("rotation",
a),link:y("link",a),ea:z("userEdited",a),index:w("index",a),aa:w("elementIndex",a),ba:w("groupIndex",a),origin:D(mf,"origin",a),Me:va.pa("childRange",a),bf:H(Ue,"generatorType",a),Le:D(Bf,"chart",a)});case "shape":return q("shape"===a.type),new Cf({top:v("top",a),left:v("left",a),height:v("height",a),width:v("width",a),da:w("transparency",a),rotation:w("rotation",a),link:y("link",a),ea:z("userEdited",a),index:w("index",a),aa:w("elementIndex",a),ba:w("groupIndex",a),origin:D(mf,"origin",a),w:w("flipOrientation",
a),viewBox:D(kf,"viewBox",a),Ff:E(Df,"paths",a)});default:throw Error("unknown case: "+a.type);}}
function lf(a){T.call(this,{type:"IMAGE",top:a.top,left:a.left,height:a.height,width:a.width,da:a.da,rotation:a.rotation,link:a.link,ea:a.ea,index:a.index,aa:a.aa,ba:a.ba,origin:a.origin,w:a.w,filter:a.filter,na:a.na,oa:a.oa,ma:a.ma,yb:a.yb,Ab:a.Ab,zb:a.zb,kf:a.kf,backgroundColor:a.backgroundColor,xb:a.xb,ja:a.ja});this.w=a.w;this.filter=a.filter;this.na=a.na;this.oa=a.oa;this.ma=a.ma;this.yb=a.yb;this.Ab=a.Ab;this.zb=a.zb;this.kf=a.kf;this.backgroundColor=a.backgroundColor;this.xb=a.xb;this.ja=a.ja||
[]}m(lf,T);
function pf(a){T.call(this,{type:"TEXT",top:a.top,left:a.left,height:a.height,width:a.width,da:a.da,rotation:a.rotation,link:a.link,ea:a.ea,index:a.index,aa:a.aa,ba:a.ba,origin:a.origin,w:a.w,style:a.style,html:a.html,fontFamily:a.fontFamily,fontSize:a.fontSize,color:a.color,bold:a.bold,italic:a.italic,list:a.list,tb:a.tb,wb:a.wb,Aa:a.Aa,fg:a.fg,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,Bb:a.Bb,padding:a.padding,textTransform:a.textTransform,border:a.border,mf:a.mf,Mf:a.Mf,Wf:a.Wf});this.w=
a.w;this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.list=a.list;this.tb=a.tb;this.wb=a.wb||[];this.Aa=a.Aa;this.fg=a.fg;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.Bb=a.Bb||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.mf=a.mf||[];this.Mf=a.Mf;this.Wf=a.Wf}m(pf,T);
function tf(a){T.call(this,{type:"SVG",top:a.top,left:a.left,height:a.height,width:a.width,da:a.da,rotation:a.rotation,link:a.link,ea:a.ea,index:a.index,aa:a.aa,ba:a.ba,origin:a.origin,w:a.w,na:a.na,oa:a.oa,ma:a.ma,yb:a.yb,Ab:a.Ab,zb:a.zb,contents:a.contents,scale:a.scale,ja:a.ja,Yf:a.Yf});this.w=a.w;this.na=a.na;this.oa=a.oa;this.ma=a.ma;this.yb=a.yb;this.Ab=a.Ab;this.zb=a.zb;this.contents=a.contents||[];this.scale=a.scale;this.ja=a.ja||[];this.Yf=a.Yf}m(tf,T);
function wf(a){T.call(this,{type:"GRAPHIC",top:a.top,left:a.left,height:a.height,width:a.width,da:a.da,rotation:a.rotation,link:a.link,ea:a.ea,index:a.index,aa:a.aa,ba:a.ba,origin:a.origin,w:a.w,na:a.na,oa:a.oa,ma:a.ma,scale:a.scale,ja:a.ja,Jb:a.Jb});this.w=a.w;this.na=a.na;this.oa=a.oa;this.ma=a.ma;this.scale=a.scale;this.ja=a.ja||[];this.Jb=a.Jb}m(wf,T);
function xf(a){T.call(this,{type:"GRID",top:a.top,left:a.left,height:a.height,width:a.width,da:a.da,rotation:a.rotation,link:a.link,ea:a.ea,index:a.index,aa:a.aa,ba:a.ba,origin:a.origin,w:a.w,spacing:a.spacing,items:a.items,contents:a.contents,ja:a.ja});this.w=a.w;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.ja=a.ja||[]}m(xf,T);
function Af(a){T.call(this,{type:"GROUP",top:a.top,left:a.left,height:a.height,width:a.width,da:a.da,rotation:a.rotation,link:a.link,ea:a.ea,index:a.index,aa:a.aa,ba:a.ba,origin:a.origin,Me:a.Me,bf:a.bf,Le:a.Le});this.Me=a.Me||[];this.bf=a.bf;this.Le=a.Le}m(Af,T);
function Cf(a){T.call(this,{type:"SHAPE",top:a.top,left:a.left,height:a.height,width:a.width,da:a.da,rotation:a.rotation,link:a.link,ea:a.ea,index:a.index,aa:a.aa,ba:a.ba,origin:a.origin,w:a.w,viewBox:a.viewBox,Ff:a.Ff});this.w=a.w;this.viewBox=a.viewBox;this.Ff=a.Ff||[]}m(Cf,T);function Ef(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.Aa=a.Aa;this.color=a.color}
function sf(a){return new Ef({fontFamily:A("fontFamily",a),fontSize:A("fontSize",a),bold:A("bold",a),italic:A("italic",a),Aa:A("justification",a),color:A("color",a)})}function Ff(a){this.type=a.type;this.index=a.index;this.origin=a.origin}
function uf(a){switch(a.type){case "text":return q("text"===a.type),new Gf({index:v("index",a),origin:D(mf,"origin",a),html:y("html",a),left:v("left",a),top:v("top",a),width:v("width",a),height:v("height",a),fontFamily:y("fontFamily",a),fontSize:w("fontSize",a),italic:A("italic",a),bold:A("bold",a),Aa:y("justification",a),list:A("list",a),textTransform:y("textTransform",a),color:y("color",a),Bb:va.pa("lineLengths",a),letterSpacing:w("letterSpacing",a),lineHeight:v("lineHeight",a),tb:D(Xa,"fontMedia",
a),wb:E(Xa,"htmlFontMedia",a),If:w("preferredFontSize",a)});case "image":return zf(a);default:throw Error("unknown case: "+a.type);}}
function Gf(a){Ff.call(this,{type:"TEXT",index:a.index,origin:a.origin,html:a.html,left:a.left,top:a.top,width:a.width,height:a.height,fontFamily:a.fontFamily,fontSize:a.fontSize,italic:a.italic,bold:a.bold,Aa:a.Aa,list:a.list,textTransform:a.textTransform,color:a.color,Bb:a.Bb,letterSpacing:a.letterSpacing,lineHeight:a.lineHeight,tb:a.tb,wb:a.wb,If:a.If});this.html=a.html;this.left=a.left;this.top=a.top;this.width=a.width;this.height=a.height;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;
this.italic=a.italic;this.bold=a.bold;this.Aa=a.Aa;this.list=a.list;this.textTransform=a.textTransform;this.color=a.color;this.Bb=a.Bb||[];this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.tb=a.tb;this.wb=a.wb||[];this.If=a.If}m(Gf,Ff);
function Hf(a){Ff.call(this,{type:"IMAGE",index:a.index,origin:a.origin,na:a.na,qf:a.qf,oa:a.oa,xb:a.xb,w:a.w,backgroundColor:a.backgroundColor,ma:a.ma,filter:a.filter});this.na=a.na;this.qf=a.qf;this.oa=a.oa;this.xb=a.xb;this.w=a.w;this.backgroundColor=a.backgroundColor;this.ma=a.ma;this.filter=a.filter}m(Hf,Ff);
function zf(a){q("image"===a.type);return new Hf({index:v("index",a),origin:D(mf,"origin",a),na:y("mediaId",a),qf:y("localMediaId",a),oa:w("mediaVersion",a),xb:D(kf,"imageBox",a),w:v("flipOrientation",a),backgroundColor:y("backgroundColor",a),ma:A("mediaApproved",a),filter:D(nf,"filter",a)})}function If(a){this.width=a.width}function qf(a){return new If({width:v("width",a)})}function Jf(a){this.Wj=a.Wj;this.$h=a.$h}function rf(a){return new Jf({Wj:x("pair",a),$h:v("adjustment",a)})}
function Kf(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}Kf.prototype.Va=function(){return this.type};Kf.prototype.getChildren=function(){return this.children};function yf(a){return new Kf({type:H(Se,"type",a),width:w("width",a),height:w("height",a),children:E(yf,"children",a)})}function Lf(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}
function kf(a){return new Lf({top:v("top",a),left:v("left",a),width:v("width",a),height:v("height",a)})}function Mf(a){this.index=a.index;this.color=a.color}function of(a){return new Mf({index:v("index",a),color:x("color",a)})}function Nf(a){this.viewBox=a.viewBox;this.Hk=a.Hk||[];this.ak=a.ak||[];this.vi=a.vi;this.Jk=a.Jk}function vf(a){return new Nf({viewBox:C(kf,"viewBox",a),Hk:E(kf,"textHolderBoxes",a),ak:E(kf,"photoHolderBoxes",a),vi:D(kf,"centerBox",a),Jk:A("tile",a)})}
function Of(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.Kk=a.Kk;this.vignette=a.vignette;this.al=a.al;this.Lk=a.Lk;this.name=a.name}Of.prototype.lj=function(){return this.brightness};Of.prototype.getName=function(){return this.name};
function nf(a){return new Of({blur:w("blur",a),brightness:w("brightness",a),contrast:w("contrast",a),saturation:w("saturation",a),Kk:w("tint",a),vignette:w("vignette",a),al:w("xpro",a),Lk:w("tintAmount",a),name:y("name",a)})}function Pf(a){this.fill=a.fill;this.ej=a.ej;this.d=a.d}function Df(a){return new Pf({fill:x("fill",a),ej:H(Te,"fillRule",a),d:x("d",a)})}function Qf(a){this.name=a.name;this.cells=a.cells||[]}Qf.prototype.getName=function(){return this.name};
function Rf(a){return new Qf({name:y("name",a),cells:u.pa("cells",a)})}function Sf(a){this.Ai=a.Ai||[]}function Tf(a){return new Sf({Ai:E(Rf,"columns",a)})}function Uf(a){this.data=a.data;this.Cj=a.Cj;this.Ej=a.Ej;this.Dj=a.Dj;this.yi=a.yi;this.zj=a.zj;this.ne=a.ne;this.wi=a.wi;this.bk=a.bk;this.hi=a.hi;this.Ij=a.Ij;this.Ti=a.Ti}Uf.prototype.getData=function(){return this.data};
function Bf(a){return new Uf({data:C(Tf,"data",a),Cj:w("labelColumn",a),Ej:C(bf,"labelTextStyle",a),Dj:D(Xa,"labelFontMedia",a),yi:F(Ze,"coloringType",a),zj:D(Vf,"interpolation",a),ne:D(Wf,"palette",a),wi:F(Ve,"chartType",a),bk:D(Xf,"pie",a),hi:D(Yf,"bar",a),Ij:D(Zf,"line",a),Ti:D($f,"donut",a)})}function ag(a){this.spacing=a.spacing;this.padding=a.padding}function Yf(a){return new ag({spacing:w("spacing",a),padding:w("padding",a)})}function bg(a){this.spacing=a.spacing;this.padding=a.padding}
function Xf(a){return new bg({spacing:w("spacing",a),padding:w("padding",a)})}function cg(a){this.spacing=a.spacing;this.padding=a.padding}function Zf(a){return new cg({spacing:w("spacing",a),padding:w("padding",a)})}function dg(a){this.spacing=a.spacing;this.padding=a.padding}function $f(a){return new dg({spacing:w("spacing",a),padding:w("padding",a)})}function eg(a){this.xi=a.xi;this.from=a.from;this.to=a.to}function Vf(a){return new eg({xi:F($e,"colorSpace",a),from:x("from",a),to:x("to",a)})}
function fg(a){this.zi=a.zi||[]}function Wf(a){return new fg({zi:u.pa("colors",a)})}function gg(a){this.type=a.type}function mf(a){switch(a.type){case "CANVA":return q("CANVA"===a.type),new hg;case "FACEBOOK":return q("FACEBOOK"===a.type),new ig;case "LAYOUT":return q("LAYOUT"===a.type),new jg({id:x("id",a),version:v("version",a)});case "DOCUMENT":return q("DOCUMENT"===a.type),new kg({id:x("id",a),version:v("version",a)});default:throw Error("unknown case: "+a.type);}}
function hg(){this.type="CANVA"}m(hg,gg);function ig(){this.type="FACEBOOK"}m(ig,gg);function jg(a){this.type="LAYOUT";this.id=a.id;this.version=a.version}m(jg,gg);jg.prototype.o=function(){return this.id};jg.prototype.getVersion=function(){return this.version};function kg(a){this.type="DOCUMENT";this.id=a.id;this.version=a.version}m(kg,gg);kg.prototype.o=function(){return this.id};kg.prototype.getVersion=function(){return this.version};function lg(a){this.id=a.id;this.Eb=a.Eb;this.pb=a.pb;this.origin=a.origin;this.Pc=a.Pc;this.tags=a.tags||[];this.nb=a.nb;this.Ac=a.Ac;this.Hc=a.Hc;this.version=a.version;this.timestamp=a.timestamp;this.Dc=a.Dc||new Map}lg.prototype.o=function(){return this.id};lg.prototype.Ud=function(){return this.nb};lg.prototype.getVersion=function(){return this.version};
function mg(a){return new lg({id:x("id",a),Eb:x("owningBrand",a),pb:v("creationDate",a),origin:D(ge,"origin",a),Pc:C(Zd,"extensions",a),tags:u.pa("tags",a),nb:D(Pd,"acl",a),Ac:z("brandTemplate",a),Hc:C(ng,"draft",a),version:v("version",a),timestamp:w("timestamp",a),Dc:ya(za,Aa,"contributors",a)})}function og(a){this.pd=a.pd;this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.Dd=a.Dd;this.fd=a.fd;this.media=a.media||[];this.Wc=a.Wc;this.uc=a.uc}og.prototype.getContent=function(){return this.content};
og.prototype.getVersion=function(){return this.version};function ng(a){return new og({pd:x("schema",a),content:C(ff,"content",a),version:v("version",a),timestamp:v("timestamp",a),Dd:z("untouched",a),fd:v("pageCount",a),media:E(Xa,"media",a),Wc:C(te,"imageSets",a),uc:y("associatedMedia",a)})}function pg(a){this.document=a.document;this.rc=a.rc;this.Kd=a.Kd}pg.prototype.getDocument=function(){return this.document};pg.prototype.getSession=function(){return this.rc};
function qg(a){return new pg({document:C(mg,"document",a),rc:v("session",a),Kd:H(Kd,"conversionResult",a)})}function rg(a){this.document=a.document;this.Nj=a.Nj||[];this.rc=a.rc;this.Yh=a.Yh;this.Fi=a.Fi;this.Kd=a.Kd}rg.prototype.getDocument=function(){return this.document};rg.prototype.getSession=function(){return this.rc};
function sg(a){return new rg({document:C(mg,"document",a),Nj:E(Ce,"mediaMap",a),rc:w("session",a),Yh:F(Fd,"accessRole",a),Fi:y("conversionLoss",a),Kd:H(Kd,"conversionResult",a)})};function tg(){this.remix=this.edit=this.view=this["default"]=null}function ug(){}function vg(a){return Object.freeze(t(ug,a))}ug.prototype.getDocument=function(){return wg(this.document)};ug.prototype.getSession=function(){return this.session};function xg(){}function yg(a){return Object.freeze(t(xg,a))}xg.prototype.getDocument=function(){return wg(this.document)};function zg(){}zg.prototype.o=function(){return this.id};zg.prototype.Tc=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};
zg.prototype.getVersion=function(){var a=this.draft;return a?a.version:-1};function wg(a){var b=new zg;$.extend(b,a);a=a.extensions;var c=new tg;a&&$.extend(c,a);b.extensions=c;return b};function Ag(a){this.qe=a.qe;this.type=a.type;this.Mk=a.Mk;this.timestamp=a.timestamp;this.identifier=a.identifier;this.event=a.event}Ag.prototype.Va=function(){return this.type};function Bg(a){return new Ag({qe:x("recipient",a),type:F(Cg,"type",a),Mk:x("topic",a),timestamp:v("timestamp",a),identifier:x("identifier",a),event:C(Dg,"event",a)})}
function Cg(a,b){switch(b){case "SOCIAL":return"SOCIAL";case "COMMENT":return"COMMENT";default:throw new TypeError('expected CanvaNotificationType for property "'+a+'", found: '+JSON.stringify(b));}}function Eg(a){this.wg=a.wg;this.Ch=a.Ch}function Dg(a){return new Eg({wg:D(Fg,"comment",a),Ch:D(Gg,"social",a)})}function Hg(a){this.type=a.type;this.user=a.user;this.document=a.document}Hg.prototype.Va=function(){return this.type};Hg.prototype.ka=function(){return this.user};
Hg.prototype.getDocument=function(){return this.document};function Fg(a){return new Hg({type:F(Ig,"type",a),user:C(mb,"user",a),document:C(le,"document",a)})}function Ig(a,b){switch(b){case "COMMENT":return"COMMENT";case "REPLY":return"REPLY";case "MENTION":return"MENTION";default:throw new TypeError('expected CommentNotificationEventType for property "'+a+'", found: '+JSON.stringify(b));}}function Jg(a){this.type=a.type;this.user=a.user;this.object=a.object}Jg.prototype.Va=function(){return this.type};
Jg.prototype.ka=function(){return this.user};function Gg(a){return new Jg({type:F(Qe,"type",a),user:C(mb,"user",a),object:C(Kg,"object",a)})}function Lg(a){this.type=a.type;this.id=a.id;this.document=a.document;this.user=a.user}Lg.prototype.Va=function(){return this.type};Lg.prototype.o=function(){return this.id};Lg.prototype.getDocument=function(){return this.document};Lg.prototype.ka=function(){return this.user};
function Kg(a){return new Lg({type:F(Mg,"type",a),id:x("id",a),document:D(le,"document",a),user:D(mb,"user",a)})}function Mg(a,b){switch(b){case "DOCUMENT":return"DOCUMENT";case "USER":return"USER";default:throw new TypeError('expected ActorType for property "'+a+'", found: '+JSON.stringify(b));}}function Ng(a){this.qe=a.qe;this.Oh=a.Oh;this.limit=a.limit;this.Nb=a.Nb}Ng.prototype.Rc=function(){return this.limit};Ng.prototype.$a=function(){return this.Nb};
function Og(a){this.events=a.events||[];this.read=a.read;this.Nb=a.Nb;this.throttle=a.throttle}Og.prototype.$a=function(){return this.Nb};function Pg(a){return new Og({events:E(Bg,"events",a),read:w("read",a),Nb:y("continuation",a),throttle:A("throttle",a)})}function Qg(a){this.user=a.user;this.read=a.read}Qg.prototype.ka=function(){return this.user};function Rg(a){return{user:L("user",a.user),read:J("read",a.read)}}function Sg(){}function Tg(){return new Sg};function Ug(){}Ug.prototype.now=function(){return Date.now()};var Vg=new Ug;var Xg=new Wg;function Wg(){}e=Wg.prototype;e.setInterval=function(a,b){return window.setInterval(a,b)};e.clearInterval=function(a){window.clearInterval(a)};e.setTimeout=function(a,b){return window.setTimeout(a,b)};e.clearTimeout=function(a){window.clearTimeout(a)};e.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};e.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function Yg(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function Zg(a){this.Y=a.Y;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass($g(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.Ie=""}e=Zg.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;
function $g(a){switch(a){case ah:return"modalContentBlurAndDarken";case bh:return"modalContentDarken";case ch:return"modalContentClear";case dh:return"modalContentNone";default:throw Error();}}e.hide=function(){$("body").removeClass(this.Ie).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.Y.setTimeout(function(){this.element.detach()}.bind(this),300)};
e.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");Yg(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",$g(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.Ie+=c+" ")});$("body").addClass(this.Ie)}.bind(this))};
var ah="BLUR_AND_DARKEN",bh="DARKEN",ch="CLEAR",dh="NONE";function eh(){}eh=Backbone.View.extend();eh.prototype.initialize=function(a){a=_.defaults({},a,{vg:!0,content:$(),zh:!0,Tf:!0});this.Y=a.Y;this.vg=!!a.vg;this.content=a.content;this.cd=new Zg({style:this.nj(),Y:this.Y});this.listenTo(this.cd,"maskClick",this.blur);this.result=1;this.zh=!!a.zh;this.Ia=!!a.Ia;this.Tf=!!a.Tf;this.title=a.Tf?a.title:""};eh.bl=300;e=eh.prototype;e.blur=function(){this.vg&&(this.result=0,this.remove())};e.cancel=function(){this.result=1;this.remove()};
e.fail=function(){this.result=3;this.remove()};e.events=function(){return{"click .close":this.Qj,"click .dialogMaskCloseButton":this.Qj,"click button.done":this.ok}};e.nj=function(){return ah};e.ok=function(){this.result=2;this.remove()};e.Qj=function(a){a.preventDefault();this.cancel()};
e.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.cd.hide();this.trigger("hide",this.result);this.Y.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},eh.bl);return this};e.render=function(){this.$el.html(this.template({showCloseButton:this.zh,showDialogMaskCloseButton:this.Ia,showTitle:this.Tf,title:this.title}));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
function fh(a,b){a.$("h2").text(b);a.title=b}e.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.cd.show(this.$el);this.trigger("show",this);Yg(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};e.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');
var gh=eh;var hh={LEFT:"left",cn:"leftTop",en:"top",gn:"topLeft",dn:"rightTop"};function ih(){}ih=gh.extend();e=ih.prototype;e.initialize=function(a){gh.prototype.initialize.call(this,_.extend({Y:Xg},a));this.Si=a.Si||"Done";this.Ah=void 0!==a.Ah?a.Ah:!0;this.Fd=null;this.dk=a.position instanceof Array?a.position:[a.position||"top"];this.position=null;this.wa=_.defaults({},a.wa,{left:0,top:0});this.Df=a.Df||!1;this.on("hide",this.Li);this.keydown=this.keydown.bind(this)};
function jh(a){$(document).on("keydown",a.keydown)}e.Cm=function(){$(document).off("keydown",this.keydown)};e.nj=function(){return bh};e.getCurrentPosition=function(){return this.position};
e.render=function(){gh.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.Df?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.Ah&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.Si+"\x3c/button\x3e\x3c/p\x3e");return this};
function kh(a,b){if(!a.Fd){var c=_.debounce(a.Ae.bind(a),300);window.addEventListener("resize",c,!1);a.on("remove",function(){window.removeEventListener("resize",c,!1)})}a.show();jh(a);a.on("remove",a.Cm);lh(a,b);a.Ae()}function mh(){this.lh=this.kh=this.dialogLeft=this.dialogTop=null}
e.Ae=function(){for(var a,b,c=0;c<this.dk.length;c++){a=b=this.dk[c];var d=this.Df?5:13,f=this.Df?20:40,g=this.Fd,h=g.offset(),p=h.top-$(document).scrollTop(),k=g.outerWidth(),r=g.outerHeight(),B=this.$(".dialog").outerHeight(),G=this.$(".dialog").outerWidth(),N=this.$el.width(),g=new mh,La=Math.round(h.left+k/2-G/2);switch(a){case "top":g.dialogLeft=La+G+10>N?N-G-10:La;g.dialogLeft+=this.wa.left;g.dialogTop=Math.round(p)+r+d+this.wa.top;a=La-g.dialogLeft;g.kh="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+G+10>N?N-G-10:h.left;g.dialogLeft+=this.wa.left;g.dialogTop=Math.round(p)+r+d+this.wa.top;g.kh=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+k+this.wa.left;g.dialogTop=p-B/2+d+this.wa.top;break;case "leftTop":g.dialogLeft=h.left+k+this.wa.left+d;g.dialogTop=p+r/2-f+this.wa.top;10>g.dialogTop&&(g.lh=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-G+this.wa.left-d,g.dialogTop=p+r/2-f+this.wa.top,10>g.dialogTop&&(g.lh=g.dialogTop-10,g.dialogTop=10)}d=a=g;f=this.$(".dialog");
if(!(d.dialogLeft+f.outerWidth()>$(window).width()||d.dialogTop+f.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(hh).join(" ")).addClass(b);c.css("left",a.kh||"");c.css("margin-top",a.lh||"");return this};function lh(a,b){a.Li();a.Fd=b;b.addClass("on");b.blur()}e.Li=function(){this.Fd&&this.Fd.removeClass("on")};
e.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};var nh=ih;function oh(a,b){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+""+(b?"/"+encodeURIComponent(b):"")+""};var ph=new function(){this.cl="undefined"!==typeof window&&1<window.devicePixelRatio;"undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/)};function qh(a){soy.asserts.assertType(goog.isBoolean(a.read)||1===a.read||0===a.read,"read",a.read,"boolean");var b=!!a.read;soy.asserts.assertType(a.url instanceof soydata.SanitizedUri||a.url instanceof soydata.UnsanitizedText||goog.isString(a.url),"url",a.url,"soydata.SanitizedUri");var c=a.url;soy.asserts.assertType(a.tc instanceof soydata.SanitizedUri||a.tc instanceof soydata.UnsanitizedText||goog.isString(a.tc),"actorAvatarUrl",a.tc,"soydata.SanitizedUri");var d=a.tc;soy.asserts.assertType(a.Cc instanceof
soydata.SanitizedHtml||a.Cc instanceof soydata.UnsanitizedText||goog.isString(a.Cc),"contentHtml",a.Cc,"soydata.SanitizedHtml");var f=a.Cc;soy.asserts.assertType(goog.isNumber(a.timestamp),"timestamp",a.timestamp,"number");a=a.timestamp;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"notification '+soy.$$escapeHtmlAttribute(b?"read":"unread")+'"\x3e\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(c))+'"\x3e\x3cimg src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(d))+
'" class\x3d"avatar"\x3e'+soy.$$escapeHtml(f)+' \x3cspan class\x3d"autoformat date" data-timestamp\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e')}
function rh(a){soy.asserts.assertType(goog.isString(a.name)||a.name instanceof goog.soy.data.SanitizedContent,"name",a.name,"string|goog.soy.data.SanitizedContent");var b=a.name;soy.asserts.assertType(goog.isBoolean(a.object)||1===a.object||0===a.object,"object",a.object,"boolean");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"'+soy.$$escapeHtmlAttribute(a.object?"object":"subject")+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e")}
function sh(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Kf)||a.Kf instanceof goog.soy.data.SanitizedContent,"quip",a.Kf,"string|goog.soy.data.SanitizedContent");var c=a.Kf;soy.asserts.assertType(goog.isString(a.Hb)||a.Hb instanceof goog.soy.data.SanitizedContent,"retryButtonLabel",a.Hb,"string|goog.soy.data.SanitizedContent");
a=a.Hb;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"notification empty message"\x3e'+soy.$$escapeHtml(b)+'\x3cbr\x3e\x3cspan class\x3d"aside"\x3e'+soy.$$escapeHtml(c)+'\x3c/span\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e'+soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/li\x3e")}
function th(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Hb)||a.Hb instanceof goog.soy.data.SanitizedContent,"retryButtonLabel",a.Hb,"string|goog.soy.data.SanitizedContent");a=a.Hb;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"notification error message"\x3e'+soy.$$escapeHtml(b)+'\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/div\x3e")}function uh(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"notification loading message"\x3e'+soy.$$escapeHtml(a.message)+"\x3c/div\x3e")};var vh=new fb({version:0,sizes:new Map([["50",new kb({size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"})],["200",new kb({size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"})]]),lf:!0});function wh(){}wh=nh.extend({className:"notificationsPopover"});e=wh.prototype;e.events=function(){return{"click .button.retry":this.Tl}};e.initialize=function(a){nh.prototype.initialize.call(this,a);this.gc=a.gc;this.ua=a.ua};e.render=function(){nh.prototype.render.call(this);this.$("h2, .buttonContainer").remove();this.$(".content").append(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3col class\x3d"notifications"\x3e\x3c/ol\x3e').toString());return this};
function xh(a){yh(a).removeClass("loading");a.$(".loading.message").remove()}
function zh(a,b,c,d){function f(a){var b=moment(a);return 0<moment().diff(a,"years")?b.format("[on] ll"):b.format("[on] MMM D")}function g(a){return a.timestamp>c}function h(a){a:{var b=p,c=!g(a);switch(a.type){case "COMMENT":var d=qa(a.event.wg),f=d.user,h=wg(ie(d.document));switch(d.type){case "COMMENT":var d=Ah(f),k=Bh(b,h),d=b.ua.format("notificationPopOverCommented",d,k);break;case "REPLY":d=Ah(f);k=Bh(b,h);d=b.ua.format("notificationPopOverReplied",d,k);break;case "MENTION":d=Ah(f);k=Bh(b,h);
d=b.ua.format("notificationPopOverMentioned",d,k);break;default:throw Error("Unknown CommentNotificationEventType: "+d.type);}a=qh({tc:b.Wd(f),read:c,Cc:soydata.VERY_UNSAFE.ordainSanitizedHtml(d),timestamp:a.timestamp,url:oh(h.o(),"view")}).toString();break a;case "SOCIAL":h=qa(a.event.Ch);f=h.user;switch(h.type){case "FOLLOW":k=qa(h.object.user);k.id===b.gc?(h="/"+encodeURIComponent(f.username||""),d=Ah(f),d=b.ua.format("notificationPopOverFollowedMe",d)):(h="/"+encodeURIComponent(k.username||""),
d=Ah(f),k=Ah(k,!0),d=b.ua.format("notificationPopOverFollowed",d,k));break;case "LIKE":k=wg(ie(qa(h.object.document)));h=oh(k.o(),"view");d=Ah(f);k=Bh(b,k);d=b.ua.format("notificationPopOverLiked",d,k);break;case "PUBLICIFY":k=wg(ie(qa(h.object.document)));h=oh(k.o(),"view");d=Ah(f);k=Bh(b,k);d=b.ua.format("notificationPopOverPublished",d,k);break;default:throw Error("Unknown ActivityVerb: "+h.type);}a=qh({tc:b.Wd(f),read:c,Cc:soydata.VERY_UNSAFE.ordainSanitizedHtml(d),timestamp:a.timestamp,url:h}).toString();
break a;default:throw Error("Unknown CanvaNotificationType: "+a.type);}}return a}var p=a,k=b.filter(g).length,r=yh(a);a.$el.toggleClass("loading",d);0<b.length?(r.html(b.map(h).join("")),r.find(".autoformat.date").each(function(){var a=$(this).data("timestamp");$(this).text(f(a))})):d||r.html(sh({message:a.ua.format("notificationPopOverEmptyListMessage"),Kf:a.ua.format("notificationPopOverEmptyListQuip"),Hb:a.ua.format("notificationPopOverEmptyListButtonLabel")}).toString());d&&(0===k?0===b.length?
r.before(uh({message:a.ua.format("notificationPopOverLoading")}).toString()):r.before(uh({message:a.ua.format("notificationPopOverLoadingNewer")}).toString()):r.after(uh({message:a.ua.format("notificationPopOverLoadingOlder")}).toString()));Ch(a)}e.Ae=function(){nh.prototype.Ae.call(this);Ch(this);return this};e.Tl=function(){this.trigger("retry")};function Ch(a){var b=$(window).height(),c=parseInt(a.$(".dialog.popover").css("top"),10),b=Math.max(50,b-c-30);yh(a).css("max-height",b)}
function Ah(a,b){return rh({name:a.displayName||a.username||"",object:!!b}).toString()}e.Wd=function(a){return a.pj()||vh.sizes.get("50").url};function Bh(a,b){var c;a=b.Tc()||a.ua.cg();a=a.trim();if(60>=a.length)c=a;else{void 0===c&&(c="");b=a.substr(0,60-c.length);var d=a.substr(60-c.length).match(/^\S+/),f=b.match(/\S+$/);f&&d&&(b=b.substr(0,b.length-f[0].length));b=b.trim();""===b&&(b=a.substr(0,60-c.length));c=b=b.trim()+c}return rh({name:c,object:!0}).toString()}
function yh(a){return a.$(".notifications")}var Dh=wh;function Eh(){this.xhr=null}Eh.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};Eh.prototype.finish=function(){this.xhr=null};function Fh(a){this.bi=a&&a.analyticsContext||null;this.mg=a&&a.authToken||null;this.ng=a&&a.authzToken||null;this.li=a&&a.brandRestriction||null;this.ni=a&&a.buildName||null;this.oi=a&&a.buildSha||null;this.Fc=a&&a.csrfTokens||{};this.wh=a&&a.serverRoot||null;this.Jm=!!this.wh;this.Km=this.wh?this.wh+"/_ajax":"/_ajax"}
function Gh(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}Fh.prototype.get=function(a,b){var c=new Eh;this.send("GET",a,null,!0,null,c,b);return c};function U(a,b){var c;return(new P(function(d,f){c=a.get(b,function(a,b){200<=a&&300>a?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}Fh.prototype.post=function(a,b,c){var d=new Eh;Hh(this,"POST",a,b,!0,0,d,c);return d};
function V(a,b,c){var d;return(new P(function(f,g){d=a.post(b,c,function(a,b){200<=a&&300>a?f([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function Ih(a){var b=Array.isArray(a)&&2===a.length&&"number"===typeof a[1];if(a instanceof Error)throw a;if(b&&Array.isArray(a))throw b=l(a),a=b.next().value,b=b.next().value,a=Jh(a,b),a.Qm=b,a;throw Error("unable to parse error or response tuple. HttpServiceError or [?, statusCode] required.");}
function Hh(a,b,c,d,f,g,h,p){var k=Gh(c);if(k in a.Fc){var r=a.Fc[k];a.send(b,c,d,f,r,h,function(B,G){418==B&&1>g?(a.Fc[k]==r&&delete a.Fc[k],Hh(a,b,c,d,f,g+1,h,p)):(p&&p(B,G),h.finish())})}else a.send("GET","/csrf"+k,null,f,null,h,function(r,G){200==r?(k in a.Fc||(a.Fc[k]=String(G)),Hh(a,b,c,d,f,g,h,p)):(p(r,null),h.finish())})}
Fh.prototype.send=function(a,b,c,d,f,g,h){function p(){4==r.readyState&&k()}function k(){var a,b,c;try{a=r.status;var d,f;try{d=r.getResponseHeader("X-Canva-Auth")}catch(k){}try{f=r.getResponseHeader("X-Canva-Authz")}catch(k){}d&&(B.mg="!"!=d?d:null);f&&(B.ng="!"!=f?f:null);b=r.responseText}catch(k){if(k.message&&k.message.match(/c00c023f/))a=0,b="";else throw g.finish(),k;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(k){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.Km+b;var r=g.xhr=new XMLHttpRequest,B=this;r.open(a,b,d);this.Jm&&(r.withCredentials=!0);"GET"!=a&&f&&r.setRequestHeader("X-Csrf-Token",f);this.bi&&r.setRequestHeader("X-Canva-Analytics",this.bi);this.mg&&r.setRequestHeader("X-Canva-Auth",this.mg);this.ng&&r.setRequestHeader("X-Canva-Authz",this.ng);this.li&&r.setRequestHeader("X-Canva-Brand",this.li);this.ni&&r.setRequestHeader("X-Canva-Build-Name",
this.ni);this.oi&&r.setRequestHeader("X-Canva-Build-Sha",this.oi);null===c||void 0===c?a=null:(r.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(r.onreadystatechange=p,r.send(a)):(r.send(a),k())};function Kh(a){this.message=a||"HTTP error encountered";this.response=a;this.Qm=null}m(Kh,Error);
function Jh(a,b){switch(b){case 400:return new Lh(a);case 403:return new Mh(a);case 404:return new Nh(a);case 409:return new Oh(a);case 418:return new Ph;case 429:return new Qh(a);case 500:return new Rh(a);default:return new Sh(a)}}function W(a){Kh.apply(this,arguments)}m(W,Kh);function Th(a){Kh.apply(this,arguments)}m(Th,Kh);function Lh(a){W.apply(this,arguments)}m(Lh,W);function Mh(a){W.apply(this,arguments)}m(Mh,W);function Nh(a){W.apply(this,arguments)}m(Nh,W);
function Oh(a){W.apply(this,arguments)}m(Oh,W);function Qh(a){W.apply(this,arguments)}m(Qh,W);function Rh(a){Th.apply(this,arguments)}m(Rh,Th);function Ph(){W.call(this,"CSRF token expired")}m(Ph,W);function Sh(a){Kh.apply(this,arguments)}m(Sh,Kh);function Uh(a){this.u=a;this.path="/notifications"}function Vh(a,b){var c=b.Nb;return U(a.u,a.path+"/user?limit\x3d"+encodeURIComponent(String(b.limit))+(b.Oh?"\x26unreadOnly\x3dtrue":"")+(c?"\x26continuation\x3d"+encodeURIComponent(c):"")).get(0).then(xa).then(Pg)}function Wh(a,b){return V(a.u,a.path+"/user",Rg(b)).get(0).then(xa).then(Tg)};function Xh(a){this.gc=a.gc;this.j=a.j;this.gb=[];this.zg=a.zg;this.tf=a.tf;this.button=a.fl;this.Gf=this.Wb=null;this.Hf=a.Hf;this.Zd=this.fe=this.de=this.Jh=null}e=Xh.prototype;e.trigger=Backbone.Events.trigger;e.on=Backbone.Events.on;e.off=Backbone.Events.off;function Yh(a){a.button.on("click",function(b){b.preventDefault();a.show();Gc(a.j,"notification_bell","homepage","sidebar","sidebar")})}
e.update=function(a){var b=this,c=new Ng({qe:b.gc,limit:10,Oh:!a});this.Zd&&this.Zd.isPending()&&this.Zd.cancel();return this.Zd=Vh(this.tf,c).then(function(c){Zh(b,c.events);b.de=c.read||null;var f=$h(b),g=10===f;b.fe=0===b.gb.length?null:b.gb[0].timestamp;c=c.throttle;var h=b.Wb;!0===c?h=Math.min(2*b.Wb,216E5):!1===c&&(h=Math.max(b.Wb-1E3,6E4));null!==h&&h!=b.Wb&&ai(b,h);b.trigger("updateUnreadCount",f,g);a&&(b.Jh=Date.now())}).catch(function(a){return 403===a[1]},function(){window.clearInterval(b.Gf)}).catch(P.CancellationError,
$.noop)};
e.show=function(){function a(){h.$(".button.retry").prop("disabled",!0);g.update(!0).then(d).catch(c)}function b(){a();Gc(g.j,"check_notifications","homepage","sidebar","notifications_popover")}function c(){if(h){var a=h;yh(a).html(th({message:a.ua.format("notificationPopOverErrorMessage"),Hb:a.ua.format("notificationPopOverRetryAfterErrorButtonLabel")}).toString());xh(a)}}function d(a){h&&(xh(h),zh(h,g.gb,g.de,!!a),bi(g))}function f(){h=null;g.trigger("updateUnreadCount",0,!1);ci(g)}var g=this,h=
function(){var a=g.zg();a.once("remove",f);a.on("retry",b);kh(a,g.Hf?g.Hf:g.button);return a}(),p=function(){var a=$h(g);if(a=!(0<a&&0<g.gb.length-a))a=g,a=6E4<(null==a.Jh?Infinity:Date.now()-a.Jh);return a}();d(p);p&&a();window.clearInterval(g.Gf)};function ci(a){function b(){c.update(!1).catch($.noop)}var c=a;a.Wb&&(a.Gf=window.setInterval(b,a.Wb))}function ai(a,b){b!==a.Wb&&(window.clearInterval(a.Gf),a.Wb=b,ci(a))}
function $h(a){return a.gb.filter(function(b){return b.timestamp>a.de}).length}function bi(a){null!=a.fe&&a.fe!=a.de&&Wh(a.tf,new Qg({read:a.fe})).then(function(){a.de=a.fe})}function Zh(a,b){a.gb=_.uniq(a.gb.concat(b),!1,function(a){return a.identifier+a.type});a.gb.sort(function(a,b){return b.timestamp-a.timestamp});10<a.gb.length&&(a.gb.length=10)};function di(a){this.u=a;this.path="/profile"}di.prototype.ka=P.method(function(a){return U(this.u,this.path+"/users/"+encodeURIComponent(a)).get(0).then(ec)});function ei(a){return U(a.u,a.path+"/user/brands").spread(function(a){return a.brands.map(cc)})}function fi(a,b){return V(a.u,a.path+"/users/"+encodeURIComponent(b.user),b).get(0).then(lc)}di.prototype.X=function(a){return U(this.u,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(cc)};
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.X())+"/invitations?create\x3dtrue";return V(this.u,b,ub(a)).spread(wb)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.X())+"/invitations";return V(this.u,b,a).spread(nc)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.X())+"/invitations?"+(null!=a.$a()?"\x26continuation\x3d"+encodeURIComponent(a.$a()):"")+(null!=a.Rc()?"\x26limit\x3d"+encodeURIComponent(a.Rc()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(a.Dl()?"\x26includeLinkInvitations\x3d"+encodeURIComponent(a.Dl()):"");return U(this.u,a).spread(pc)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.X())+"/invitations?update\x3dtrue";return V(this.u,b,xb(a)).spread(zb)});
di.prototype.Al=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.X())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.$a()?"\x26continuation\x3d"+encodeURIComponent(a.$a()):"")+(null!=a.Rc()?"\x26limit\x3d"+encodeURIComponent(a.Rc()):"")+(null!=a.users?"\x26users\x3d"+encodeURIComponent(a.users.join(",")):
"");return U(this.u,a).spread(vc)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.X())+"/members";return V(this.u,b,Fb(a)).spread(Hb)});function gi(a,b){return V(a.u,a.path+"/users/"+encodeURIComponent(b.user)+"/attribute",Wb(b)).get(0).then(xa).then(Yb)}function hi(a,b){b=a.path+"/users/"+encodeURIComponent(b.user)+"/find/attributes?"+b.attributes.map(function(a){return"attributes\x3d"+Nb("attributes",a)}).join("\x26");return U(a.u,b).get(0).then(xa).then(ac)};function ii(a){this.Rg=a.Rg;this.D=a.D;this.$i=a.$i}ii.prototype.create=function(a){return V(this.Rg,"/teams",{displayName:a}).spread(function(a){return cc(a.brand)})};function ji(a){this.id=a.id;this.Eb=a.Eb;this.si=a.si;this.nf=a.nf;this.Na=a.Na;this.aj=a.aj;this.bj=a.bj;this.Da=a.Da;this.Gd=a.Gd}ji.prototype.o=function(){return this.id};ji.prototype.mj=function(){return this.Na};function ki(a){return new ji({id:y("id",a),Eb:y("owningBrand",a),si:x("cardBrand",a),nf:x("last4",a),Na:y("country",a),aj:v("expMonth",a),bj:v("expYear",a),Da:D(li,"billingAddress",a),Gd:w("addedDate",a)})}function mi(a){this.fa=a.fa;this.Gd=a.Gd;this.Ni=a.Ni}
function ni(a){return new mi({fa:C(ki,"card",a),Gd:w("addedDate",a),Ni:w("deletedDate",a)})}function oi(a){this.Vg=a.Vg;this.Wg=a.Wg;this.Xg=a.Xg;this.ec=a.ec;this.Ad=a.Ad;this.R=a.R;this.jd=a.jd}function pi(a){return{line1:L("line1",a.Vg),line2:L("line2",a.Wg),line3:L("line3",a.Xg),city:L("city",a.ec),subdivision:L("subdivision",a.Ad),countryCode:K("countryCode",a.R),postcode:L("postcode",a.jd)}}
function li(a){return new oi({Vg:y("line1",a),Wg:y("line2",a),Xg:y("line3",a),ec:y("city",a),Ad:y("subdivision",a),R:x("countryCode",a),jd:y("postcode",a)})}function qi(a){this.id=a.id;this.g=a.g;this.Ja=a.Ja;this.Dk=a.Dk;this.Mj=a.Mj;this.Pd=a.Pd;this.Oi=a.Oi;this.ei=a.ei||[];this.gk=a.gk||[];this.Xj=a.Xj;this.Yj=a.Yj}qi.prototype.o=function(){return this.id};qi.prototype.X=function(){return this.g};
function ri(a){var b=x("id",a),c=x("brand",a),d=z("stripe",a),f=y("stripeKey",a),g=v("marketplaceCreditBalance",a),h=D(ki,"defaultCreditCard",a),p=z("delinquent",a),k=E(ni,"archivedCards",a),r;r=u.pa("purchaseRoles",a);r=null!=r?r.map(cb.bind(null,"purchaseRoles")):r;return new qi({id:b,g:c,Ja:d,Dk:f,Mj:g,Pd:h,Oi:p,ei:k,gk:r,Xj:y("paymentGateway",a),Yj:y("paymentGatewayCustomerId",a)})}
function si(a){this.g=a.g;this.Da=a.Da;this.Dh=a.Dh;this.ve=a.ve;this.Ck=a.Ck;this.ai=a.ai;this.uk=a.uk;this.currency=a.currency;this.qh=a.qh}si.prototype.X=function(){return this.g};
function ti(a){return{brand:L("brand",a.g),billingAddress:M(pi,"billingAddress",a.Da),stripeToken:L("stripeToken",a.Dh),stripeCardId:L("stripeCardId",a.ve),stripeCustomerId:L("stripeCustomerId",a.Ck),adyenToken:M(ui,"adyenToken",a.ai),socialSecurityNumber:L("socialSecurityNumber",a.uk),currency:L("currency",a.currency),replaceDefault:Ha("replaceDefault",a.qh)}}
function ui(a){return{encryptedCardNumber:K("encryptedCardNumber",a.rn),encryptedExpiryMonth:K("encryptedExpiryMonth",a.sn),encryptedExpiryYear:K("encryptedExpiryYear",a.tn),encryptedSecurityCode:K("encryptedSecurityCode",a.un)}}function vi(a){this.Ld=a.Ld;this.di=a.di;this.Bi=a.Bi;this.Ci=a.Ci;this.Da=a.Da;this.ve=a.ve;this.ti=a.ti;this.cj=a.cj}vi.prototype.cf=function(){return this.Ld};
function wi(a){return{creditCard:K("creditCard",a.Ld),archiveCard:Fa.optional("archiveCard",a.di),confirmAddition:Fa.optional("confirmAddition",a.Bi),confirmRemoval:Fa.optional("confirmRemoval",a.Ci),billingAddress:M(pi,"billingAddress",a.Da),stripeCardId:L("stripeCardId",a.ve),cardIssuerUpdate:M(xi,"cardIssuerUpdate",a.ti),externalOrigin:Ja(yi,"externalOrigin",a.cj)}}
function yi(a,b){switch(b){case "PENDING":return"PENDING";case "PROFITWELL_RETAIN":return"PROFITWELL_RETAIN";default:throw new TypeError('expected ExternalOrigin for property "'+a+'", found: '+JSON.stringify(b));}}function xi(a){return{last4:L("last4",a.nf),fingerprint:L("fingerprint",a.wn),expiryMonth:Ga.optional("expiryMonth",a.Nc),expiryYear:Ga.optional("expiryYear",a.Oc),brand:L("brand",a.g),date:J("date",a.date)}}
function zi(a){this.media=a.media;this.version=a.version;this.title=a.title;this.g=a.g;this.nc=a.nc;this.Il=a.Il;this.sl=a.sl;this.Um=a.Um;this.Gb=a.Gb;this.Kl=a.Kl;this.Lm=a.Lm;this.Jl=a.Jl;this.document=a.document;this.wl=a.wl;this.user=a.user}e=zi.prototype;e.getVersion=function(){return this.version};e.Tc=function(){return this.title};e.X=function(){return this.g};e.getDocument=function(){return this.document};e.ka=function(){return this.user};
function Ai(a){this.id=a.id;this.Vb=a.Vb;this.g=a.g;this.status=a.status;this.pe=a.pe;this.Nk=a.Nk;this.me=a.me;this.$j=a.$j;this.Zj=a.Zj;this.ii=a.ii;this.Zi=a.Zi}Ai.prototype.o=function(){return this.id};Ai.prototype.X=function(){return this.g};
function Bi(a){return new Ai({id:x("id",a),Vb:C(Ci,"plan",a),g:x("brand",a),status:F(Di,"status",a),pe:v("quantity",a),Nk:w("trialEnd",a),me:w("paidUntil",a),$j:w("periodStart",a),Zj:w("periodEnd",a),ii:z("billed",a),Zi:z("eligibleForMediaDiscounts",a)})}
function Ei(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Di(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Fi(a){this.id=a.id;this.displayName=a.displayName;this.Hj=a.Hj;this.Vk=a.Vk;this.eb=a.eb;this.dj=a.dj;this.Ba=a.Ba;this.Xa=a.Xa;this.Gb=a.Gb}Fi.prototype.o=function(){return this.id};Fi.prototype.Oa=function(){return this.displayName};
function Ci(a){return new Fi({id:x("id",a),displayName:x("displayName",a),Hj:z("legacy",a),Vk:z("userLocked",a),eb:F(Gi,"tier",a),dj:y("featureBundle",a),Ba:v("trialPeriodDays",a),Xa:F(Hi,"billingInterval",a),Gb:v("price",a)})}function Hi(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function Gi(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}}function Ii(a){this.g=a.g;this.Ki=a.Ki;this.Vb=a.Vb;this.Ba=a.Ba;this.Hi=a.Hi;this.Pk=a.Pk;this.me=a.me;this.status=a.status;this.pe=a.pe;this.fk=a.fk;this.tk=a.tk}Ii.prototype.X=function(){return this.g};
function Ji(a){return{brand:K("brand",a.g),currentVersion:Ga.optional("currentVersion",a.Ki),plan:L("plan",a.Vb),trialPeriodDays:Ga.optional("trialPeriodDays",a.Ba),coupon:L("coupon",a.Hi),unbilled:Fa.optional("unbilled",a.Pk),paidUntil:Ga.optional("paidUntil",a.me),status:Ja(Ei,"status",a.status),quantity:Ga.optional("quantity",a.pe),prorate:Fa.optional("prorate",a.fk),silent:Fa.optional("silent",a.tk)}}function Ki(a){this.sc=a.sc}Ki.prototype.getSubscription=function(){return this.sc};
function Li(a){return new Ki({sc:C(Bi,"subscription",a)})}function Mi(a){this.sc=a.sc}Mi.prototype.getSubscription=function(){return this.sc};function Ni(a){return new Mi({sc:C(Bi,"subscription",a)})};function Oi(a){soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var b=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var c=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var d=a.disabled;soy.asserts.assertType(null==
a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var f=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");var g=a.name;a=goog.asserts.assertArray(a.options,"expected parameter 'options' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");d='\x3cspan class\x3d"select'+(b?" selectBlock":"")+(c?
" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cselect '+(d?" disabled":"")+(f?' id\x3d"'+soy.$$escapeHtmlAttribute(f)+'"':"")+(g?' name\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+"\x3e";b=a.length;for(c=0;c<b;c++){var h=a[c];soy.asserts.assertType(null==h.disabled||goog.isBoolean(h.disabled)||1===h.disabled||0===h.disabled,"disabled",h.disabled,"boolean|null|undefined");f=h.disabled;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,
"boolean|null|undefined");g=h.selected;soy.asserts.assertType(goog.isString(h.text)||h.text instanceof goog.soy.data.SanitizedContent,"text",h.text,"string|goog.soy.data.SanitizedContent");var p=h.text;soy.asserts.assertType(null==h.value||h.value instanceof goog.soy.data.SanitizedContent||goog.isString(h.value),"value",h.value,"null|string|undefined");h=h.value;f=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3coption "+(f?" disabled":"")+(g?" selected":"")+(h||""==h?' value\x3d"'+soy.$$escapeHtmlAttribute(h)+
'"':"")+"\x3e"+soy.$$escapeHtml(p)+"\x3c/option\x3e");d+=f}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/select\x3e\x3c/span\x3e")};function Pi(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),
"classes",a.v,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+Qi(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+Qi(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function Qi(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||
goog.isString(a.v),"classes",a.v,"null|string|undefined");var d=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var f=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var p=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var k=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var r=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var B=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(B?" textInputSmall":"")+'"'+(f?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(p?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(p)+'"':"")+("textarea"!=k?' type\x3d"'+soy.$$escapeHtmlAttribute(null==r?"text":r)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};function Ri(a){soy.asserts.assertType(goog.isString(a.hb)||a.hb instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.hb,"string|goog.soy.data.SanitizedContent");var b=a.hb;soy.asserts.assertType(goog.isString(a.ib)||a.ib instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.ib,"string|goog.soy.data.SanitizedContent");var c=a.ib;soy.asserts.assertType(goog.isString(a.lb)||a.lb instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",a.lb,"string|goog.soy.data.SanitizedContent");
var d=a.lb;soy.asserts.assertType(goog.isString(a.mb)||a.mb instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.mb,"string|goog.soy.data.SanitizedContent");a=a.mb;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Pi({id:"ccNumber",name:"ccNumber",type:"text",placeholder:b,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{4}([ -]+[0-9]{1,4}){3,5} ?" maxlength\x3d"23" autocomplete\x3d"cc-number" required')})+"\x3cspan class\x3d'creditCardExpiry'\x3e"+
Pi({id:"expMonth",name:"expMonth",type:"text",placeholder:d,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-month" required')})+Pi({id:"expYear",name:"expYear",type:"text",placeholder:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-year" required')})+"\x3c/span\x3e"+Pi({id:"cvc",name:"cvc",type:"text",placeholder:c,
attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"cc-csc" required')}))}
function Si(a){soy.asserts.assertType(goog.isString(a.Lb)||a.Lb instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Lb,"string|goog.soy.data.SanitizedContent");var b=a.Lb,c=goog.asserts.assertArray(a.Gi,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");a=goog.asserts.assertArray(a.Ek,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"creditCardAddressLine1"\x3e'+Oi({id:"country",options:c,disabled:1>=c.length})+'\x3c/div\x3e\x3cdiv class\x3d"creditCardAddressLine2 hidden"\x3e'+(a?Oi({id:"region",options:a}):"")+Pi({id:"zipcode",name:"zipcode",type:"text",placeholder:b})+"\x3c/div\x3e")};function Ti(a){switch(a){case "US":return new Map(Ui);case "AU":return new Map(Vi);case "MX":return new Map(Wi);case "CA":return new Map(Xi);case "BR":return new Map(Yi);case "IN":return new Map(Zi);default:return new Map}}
var Ui=new Map([["US-AK","Alaska"],["US-AL","Alabama"],["US-AR","Arkansas"],["US-AS","American Samoa"],["US-AZ","Arizona"],["US-CA","California"],["US-CO","Colorado"],["US-CT","Connecticut"],["US-DC","District of Columbia"],["US-DE","Delaware"],["US-FL","Florida"],["US-GA","Georgia"],["US-GU","Guam"],["US-HI","Hawaii"],["US-IA","Iowa"],["US-ID","Idaho"],["US-IL","Illinois"],["US-IN","Indiana"],["US-KS","Kansas"],["US-KY","Kentucky"],["US-LA","Louisiana"],["US-MA","Massachusetts"],["US-MD","Maryland"],
["US-ME","Maine"],["US-MI","Michigan"],["US-MN","Minnesota"],["US-MO","Missouri"],["US-MP","Northern Mariana Islands"],["US-MS","Mississippi"],["US-MT","Montana"],["US-NC","North Carolina"],["US-ND","North Dakota"],["US-NE","Nebraska"],["US-NH","New Hampshire"],["US-NJ","New Jersey"],["US-NM","New Mexico"],["US-NV","Nevada"],["US-NY","New York"],["US-OH","Ohio"],["US-OK","Oklahoma"],["US-OR","Oregon"],["US-PA","Pennsylvania"],["US-PR","Puerto Rico"],["US-RI","Rhode Island"],["US-SC","South Carolina"],
["US-SD","South Dakota"],["US-TN","Tennessee"],["US-TX","Texas"],["US-UM","United States Minor Outlying Islands"],["US-UT","Utah"],["US-VA","Virginia"],["US-VI","Virgin Islands, U.S."],["US-VT","Vermont"],["US-WA","Washington"],["US-WI","Wisconsin"],["US-WV","West Virginia"],["US-WY","Wyoming"]]),Vi=new Map([["AU-NSW","New South Wales"],["AU-QLD","Queensland"],["AU-SA","South Australia"],["AU-TAS","Tasmania"],["AU-VIC","Victoria"],["AU-WA","Western Australia"],["AU-ACT","Australian Capital Territory"],
["AU-NT","Northern Territory"]]),Wi=new Map([["MX-CMX","Ciudad de Mxico"],["MX-AGU","Aguascalientes"],["MX-BCN","Baja California"],["MX-BCS","Baja California Sur"],["MX-CAM","Campeche"],["MX-COA","Coahuila"],["MX-COL","Colima"],["MX-CHP","Chiapas"],["MX-CHH","Chihuahua"],["MX-DUR","Durango"],["MX-GUA","Guanajuato"],["MX-GRO","Guerrero"],["MX-HID","Hidalgo"],["MX-JAL","Jalisco"],["MX-MEX","Estado de Mxico"],["MX-MIC","Michoacn"],["MX-MOR","Morelos"],["MX-NAY","Nayarit"],["MX-NLE","Nuevo Len"],
["MX-OAX","Oaxaca"],["MX-PUE","Puebla"],["MX-QUE","Quertaro"],["MX-ROO","Quintana Roo"],["MX-SLP","San Luis Potos"],["MX-SIN","Sinaloa"],["MX-SON","Sonora"],["MX-TAB","Tabasco"],["MX-TAM","Tamaulipas"],["MX-TLA","Tlaxcala"],["MX-VER","Veracruz"],["MX-YUC","Yucatn"],["MX-ZAC","Zacatecas"]]),Xi=new Map([["CA-AB","Alberta"],["CA-BC","British Columbia"],["CA-MB","Manitoba"],["CA-NB","New Brunswick"],["CA-NL","Newfoundland and Labrador"],["CA-NT","Northwest Territories"],["CA-NS","Nova Scotia"],["CA-NU",
"Nunavut"],["CA-ON","Ontario"],["CA-PE","Prince Edward Island"],["CA-QC","Quebec"],["CA-SK","Saskatchewan"],["CA-YT","Yukon"]]),Yi=new Map([["BR-AC","Acre"],["BR-AL","Alagoas"],["BR-AP","Amap"],["BR-AM","Amazonas"],["BR-BA","Bahia"],["BR-CE","Cear"],["BR-DF","Distrito Federal"],["BR-ES","Esprito Santo"],["BR-GO","Gois"],["BR-MA","Maranho"],["BR-MT","Mato Grosso"],["BR-MS","Mato Grosso do Sul"],["BR-MG","Minas Gerais"],["BR-PR","Paran"],["BR-PB","Paraba"],["BR-PA","Par"],["BR-PE","Pernambuco"],
["BR-PI","Piau"],["BR-RN","Rio Grande do Norte"],["BR-RS","Rio Grande do Sul"],["BR-RJ","Rio de Janeiro"],["BR-RO","Rondnia"],["BR-RR","Roraima"],["BR-SC","Santa Catarina"],["BR-SE","Sergipe"],["BR-SP","So Paulo"],["BR-TO","Tocantins"]]),Zi=new Map([["IN-AP","Andhra Pradesh"],["IN-AR","Arunachal Pradesh"],["IN-AS","Assam"],["IN-BR","Bihar"],["IN-CT","Chhattisgarh"],["IN-GA","Goa"],["IN-GJ","Gujarat"],["IN-HR","Haryana"],["IN-HP","Himachal Pradesh"],["IN-JK","Jammu and Kashmir"],["IN-JH","Jharkhand"],
["IN-KA","Karnataka"],["IN-KL","Kerala"],["IN-MP","Madhya Pradesh"],["IN-MH","Maharashtra"],["IN-MN","Manipur"],["IN-ML","Meghalaya"],["IN-MZ","Mizoram"],["IN-NL","Nagaland"],["IN-OR","Odisha"],["IN-PB","Punjab"],["IN-RJ","Rajasthan"],["IN-SK","Sikkim"],["IN-TN","Tamil Nadu"],["IN-TG","Telangana"],["IN-TR","Tripura"],["IN-UP","Uttar Pradesh"],["IN-UT","Uttarakhand"],["IN-WB","West Bengal"],["IN-AN","Andaman and Nicobar Islands"],["IN-CH","Chandigarh"],["IN-DN","Dadra and Nagar Haveli"],["IN-DD","Daman and Diu"],
["IN-DL","Delhi"],["IN-LD","Lakshadweep"],["IN-PY","Puducherr"]]);function $i(a,b){a=[].concat(ja(a.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).map(function(a){return{selected:a[0]===b.vh,text:a[1],value:a[0]}});return null!=b.Ha?[].concat([{selected:!b.vh,text:b.Ha,value:b.jh}],ja(a)):a}
function aj(a){var b=new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","land Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI",
"Burundi"],["BJ","Benin"],["BL","Saint Barthlemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Cte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],
["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],
["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],
["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],
["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],
["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],
["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Runion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],
["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],
["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]]);a.tl&&(b=Array.from(b.entries()).filter(function(b){b=
l(b).next().value;return a.tl.has(b)}),b=new Map(b));return $i(b,{Ha:a.Ha,jh:"ZZ",vh:a.In})}function bj(a){var b=Ti(a.R);q(!a.uh||b.has(a.uh),'"{}" is not a valid subdivision code of the country "{}".',a.uh,a.R);return $i(b,{Ha:a.Ha,jh:a.jh,vh:a.uh})};var cj=new Q("jv",!1),dj=new Q("Mr",!1);function ej(a){Backbone.View.call(this,{className:"creditCardEditor"});this.Kc=this.Jc=!1;this.G=a.G;this.Je=a.Je;this.Ii=a.Ii||"DOWNLOAD";this.F=a.F?a.F:Kc();this.j=a.j}m(ej,Backbone.View);e=ej.prototype;e.events=function(){return{"input #ccNumber":this.Nl,"keydown #expMonth":this.mm,"input #expMonth":this.lm,input:this.le,"keydown input":this.km,"focus input:not([readonly])":this.im,"blur input":this.Ll,"change #country":this.Vl,"change #region":this.pm,"change #zipcode":this.wm}};
e.cf=function(){var a={id:this.$("#creditCardId").val()?this.$("#creditCardId").val().trim():"",qb:this.$("#cvc").val().trim(),Nc:this.$("#expMonth").val().trim(),Oc:this.$("#expYear").val().trim(),Db:this.$("#ccNumber").val().trim(),Na:this.$("#country").val()?this.$("#country").val().trim():void 0,md:this.$("#region").val()?this.$("#region").val().trim():void 0,Ge:this.$("#zipcode").val()?this.$("#zipcode").val().trim():void 0};return a.qb.length||a.Nc.length||a.Oc.length||a.Db.length||a.Na.length||
a.md.length||a.Ge.length?a:null};
e.$b=function(a){this.$el.addClass("prefilled");this.$("#creditCardId").val(a.id);this.$("#ccNumber").val("").attr("placeholder",""+a.nf);this.$("#expMonth").val("").attr("placeholder","");this.$("#expYear").val("").attr("placeholder","");this.$("#cvc").val("").attr("placeholder","");a.Da&&(this.$("#country").val(a.Da.R).change(),this.$("#region").val(a.Da.Ad),this.$("#zipcode").val(a.Da.jd));this.Kc=this.Jc=!1;this.$("#ccNumber").removeAttr("autofocus");this.F.get(dj)||this.$(".creditCardDialog__unsupportedPaymentWarning").hide()};
e.Qf=function(a){this.$("input").prop("readonly",!a);this.$("select").attr("disabled",!a)};
e.render=function(){var a;if(this.F.get(dj)){a={Ec:this.G.Ec(),yc:this.G.yc(),hb:this.G.hb(),lb:this.G.lb(),mb:this.G.mb(),ib:this.G.ib(),Lb:this.G.Lb(),Gi:aj({Ha:this.G.format("creditCardCountryPlaceholder")}),Ek:bj({Ha:nd(this.G),R:"ZZ"}),se:this.F.get(cj)};soy.asserts.assertType(goog.isString(a.Ec)||a.Ec instanceof goog.soy.data.SanitizedContent,"creditCardLabel",a.Ec,"string|goog.soy.data.SanitizedContent");var b=a.Ec;soy.asserts.assertType(goog.isString(a.yc)||a.yc instanceof goog.soy.data.SanitizedContent,
"billingAddressLabel",a.yc,"string|goog.soy.data.SanitizedContent");var c=a.yc;soy.asserts.assertType(goog.isString(a.hb)||a.hb instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a.hb,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ib)||a.ib instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",a.ib,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.lb)||a.lb instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",
a.lb,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.mb)||a.mb instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",a.mb,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Lb)||a.Lb instanceof goog.soy.data.SanitizedContent,"zipCodePlaceholder",a.Lb,"string|goog.soy.data.SanitizedContent");goog.asserts.assertArray(a.Gi,"expected parameter 'countryOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");
goog.asserts.assertArray(a.Ek,"expected parameter 'subdivisionOptions' of type list\x3c[disabled: bool|null, selected: bool|null, text: string, value: null|string]\x3e.");soy.asserts.assertType(goog.isBoolean(a.se)||1===a.se||0===a.se,"showBillingAddressFields",a.se,"boolean");var d=!!a.se;soy.asserts.assertType(null==a.Ue||a.Ue instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ue),"creditCardId",a.Ue,"null|string|undefined");var f=a.Ue;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ch3 class\x3d"creditCardLabel"\x3e'+
soy.$$escapeHtml(b)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardEditView creditCardInput"\x3e\x3cinput type\x3d"hidden" id\x3d"creditCardId" value\x3d"'+soy.$$escapeHtmlAttribute(f)+'"/\x3e'+Ri(a)+"\x3c/div\x3e"+(d?'\x3ch3 class\x3d"billingAddressLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/h3\x3e\x3cdiv class\x3d"creditCardAddress"\x3e'+Si(a)+"\x3c/div\x3e":""))}else a="PRINT"===this.Ii?this.G.Fa("creditCardUnsupportedPrintPaymentWarningHtml","https://support.canva.com/navigate-your-homepage/your-canva-homepage/convert-designs-to-canva2/"):
this.G.Fa("creditCardUnsupportedPaymentWarningHtml","https://support.canva.com/navigate-your-homepage/your-canva-homepage/convert-designs-to-canva2/"),soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"warningMessage",a,"soydata.SanitizedHtml"),a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"creditCardDialog__unsupportedPaymentWarning"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e\x3c/div\x3e");this.$el.html(a.toString());
fj(this);return this};function fj(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.Je&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}e.le=function(a){var b;b=$(a.target);var c=b.data("oldValue"),d=b.val();c!==d?(b.data("oldValue",d),b=!0):b=!1;b&&"country"!==a.target.id&&"region"!==a.target.id&&"zipcode"!==a.target.id&&(this.$el.removeClass("prefilled"),this.Jc=!0,this.trigger("input"))};
e.km=function(a){13===a.keyCode&&(this.trigger("requestSubmit"),a.preventDefault())};e.im=function(a){this.$el.addClass("focused");"zipcode"!=a.target.id&&(this.$("#ccNumber").attr("placeholder",this.G.hb()),this.$("#expMonth").attr("placeholder",this.G.lb()),this.$("#expYear").attr("placeholder",this.G.mb()),this.$("#cvc").attr("placeholder",this.G.ib()))};e.Ll=function(){this.$el.removeClass("focused")};
e.Nl=function(a){if("IE"!=UAParser().browser.name){a=a.target;var b=a.selectionEnd,c=a.value.length;a.value=a.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim();var d=c!==a.value.length,c=" "===a.value.charAt(c-1);a.selectionEnd=b+(" "===a.value.charAt(b-1)&&c&&d?1:0)}};
e.Vl=function(a){a=bj({Ha:nd(this.G),R:a.target.value});1===a.length?(this.$el.find(".creditCardAddressLine2").hide(),this.$el.find("#country").removeClass("countrySharpBottomCorners"),this.$el.find("#country").addClass("countryRoundBottomCorners"),this.$el.find(".creditCardAddressLine2 select").removeAttr("value")):(this.$el.find(".creditCardAddressLine2").show(),this.$el.find("#country").removeClass("countryRoundBottomCorners"),this.$el.find("#country").addClass("countrySharpBottomCorners"),a=$(Oi({options:a,
id:"region"}).toString()),this.$el.find(".creditCardAddressLine2 select").replaceWith(a.children()[0]));this.$el.find(".creditCardAddressLine2 input").removeAttr("value");this.Kc=!0;Hc(this.j,O(new Ic("credit_card_country_changed"),"location","billing_admin_card_dialog"))};e.pm=function(){this.Kc=!0};e.wm=function(){this.Kc=!0};
e.mm=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),f=String.fromCharCode(a.which);""===c&&f.match(/[2-9]/)?(a.preventDefault(),b.val("0"+f),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};e.lm=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};function X(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}X.prototype=Object.create(Error.prototype);X.prototype.constructor=X;
function gj(a){switch(a){case "card_declined":return new hj;case "expired_card":return new ij;case "incorrect_cvc":return new jj;case "incorrect_number":return new kj;case "invalid_cvc":return new lj;case "invalid_expiry_month":return new mj;case "invalid_expiry_year":return new nj;case "invalid_number":return new oj;case "missing":return new pj;case "processing_error":return new qj;default:return new rj(a)}}function hj(){X.call(this,"credit card declined")}hj.prototype=Object.create(X.prototype);
hj.prototype.constructor=hj;function ij(){X.call(this,"credit card expired")}ij.prototype=Object.create(X.prototype);ij.prototype.constructor=ij;function jj(){X.call(this,"credit card cvc incorrect")}jj.prototype=Object.create(X.prototype);jj.prototype.constructor=jj;function kj(){X.call(this,"credit card number incorrect")}kj.prototype=Object.create(X.prototype);kj.prototype.constructor=kj;function lj(){X.call(this,"credit card cvc invalid")}lj.prototype=Object.create(X.prototype);
lj.prototype.constructor=lj;function mj(){X.call(this,"credit card expiry month invalid")}mj.prototype=Object.create(X.prototype);mj.prototype.constructor=mj;function nj(){X.call(this,"credit card expiry year invalid")}nj.prototype=Object.create(X.prototype);nj.prototype.constructor=nj;function oj(){X.call(this,"credit card number invalid")}oj.prototype=Object.create(X.prototype);oj.prototype.constructor=oj;function sj(){X.call(this,"credit card country invalid")}sj.prototype=Object.create(X.prototype);
sj.prototype.constructor=sj;function tj(){X.call(this,"credit card region invalid")}tj.prototype=Object.create(X.prototype);tj.prototype.constructor=tj;function uj(){X.call(this,"credit card zipcode invalid")}uj.prototype=Object.create(X.prototype);uj.prototype.constructor=uj;function pj(){X.call(this,"credit card missing but required")}pj.prototype=Object.create(X.prototype);pj.prototype.constructor=pj;function qj(){X.call(this,"credit card processing error")}qj.prototype=Object.create(X.prototype);
qj.prototype.constructor=qj;function rj(a){X.call(this,"unknown credit card processing error "+a);this.errorCode=a}rj.prototype=Object.create(X.prototype);rj.prototype.constructor=rj;function vj(){X.call(this,"no credit card entered")}vj.prototype=Object.create(X.prototype);vj.prototype.constructor=vj;function wj(a){zi.call(this,a)}wj.prototype=Object.create(zi.prototype);wj.prototype.constructor=wj;function xj(a){this.u=a}e=xj.prototype;e.ff=function(a){throw gj(a.response.errorKey);};e.sj=function(a){if(a.error)throw new X(a.error.message);return a};e.jf=function(a){return a instanceof Kh&&"CreditCardInvalid"===a.response.errorType};e.Ph=function(a){return V(this.u,"/billing/creditcards/"+a.Ld,wi(a)).catch(Ih).get(0).then(this.sj).catch(this.jf,this.ff)};
e.getSubscription=function(a){return U(this.u,a.g?"/billing/brands/"+a.g+"/subscription?excludeStandard\x3d"+(a.vn?"true":"false"):"/billing/subscriptions/"+a.id).catch(Ih).get(0).then(Ni)};function yj(){var a=window.stripeConfig;switch(a.impl){case "local":return new zj;case "stripe":return new Aj(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function zj(){}zj.prototype.createToken=P.method(function(a){return JSON.stringify({stripeId:"card_ "+Math.random(),brand:"Visa",expMonth:a.Kg,expYear:a.Lg,last4:a.Db.slice(-4)})});function Aj(a,b){(this.Ja=b)&&this.Ja.setPublishableKey(a)}
Aj.prototype.createToken=function(a){return new P(function(b,c){if(!this.Ja)throw Error("Stripe API is unavailable");a={cvc:a.qb,exp_month:a.Kg,exp_year:a.Lg,number:a.Db};this.Ja.createToken(a,function(a,f){if(f.error){var g;try{g=f.error.code||""}catch(h){g=""}c(gj(g))}else b(f.id)})}.bind(this))};var Bj=new Q("jv",!1),Cj=["BR","CA","US"];function Dj(a){this.bc=a.bc;this.g=a.g;this.fa=a.fa||void 0;this.Ic=a.Ic;this.Ja=a.Ja;this.view=a.view;this.listenTo(this.view,"input",this.le);this.listenTo(this.view,"requestSubmit",function(){this.trigger("requestSubmit")});this.F=a.F?a.F:Kc();this.G=a.G}e=Dj.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
e.refresh=function(){this.view.render();this.view.Qf(this.Ic);this.fa&&this.view.$b(this.fa);return this};e.remove=function(){this.stopListening();this.view.remove()};e.$b=function(a){this.fa=a;this.view.$b(a);return this};e.Qf=function(a){this.Ic=a;this.view.Qf(a);return this};P.method(function(a){function b(a){return a.Pd}return!this.fa||this.view.Jc||a?(a=this.view.cf(),Ej(a),this.Xm(a).then(b).tap(this.$b.bind(this))):this.fa});e=Dj.prototype;
e.El=P.method(function(a){if(this.fa&&!this.view.Jc&&!a&&!this.view.Kc)return this.fa;a=this.view.cf();if(this.view.Kc&&!this.view.Jc)return Fj(this,a),this.Wm(a);Ej(a);Fj(this,a);return this.Ph(a).tap(this.$b.bind(this))});e.le=function(){this.fa&&!this.view.cf()&&this.$b(this.fa);this.trigger("input",this.view.Jc)};
e.Xm=P.method(function(a){var b=this;return this.Ja.createToken({qb:a.qb,Kg:a.Nc,Lg:a.Oc,Db:a.Db}).then(function(a){var d=b.bc,f=b.g;return V(d.u,"/billing/brands/"+encodeURIComponent(f)+"/account",{brand:f,stripeToken:a}).catch(Ih).get(0).get("account").then(ri).catch(d.jf,d.ff)})});
e.Ph=P.method(function(a){var b=this;return this.Ja.createToken({qb:a.qb,Kg:a.Nc,Lg:a.Oc,Db:a.Db,kn:a.Na,ln:a.md,mn:a.Ge}).then(function(c){var d=b.bc;return V(d.u,"/billing/creditcards",ti(new si({g:b.g,Dh:c,Da:a.Na?new oi({Ad:a.md,R:a.Na,jd:a.Ge}):void 0,qh:!0}))).catch(Ih).get(0).then(d.sj).get("creditCard").then(ki).catch(d.jf,d.ff)})});e.Wm=P.method(function(a){return this.bc.Ph(new vi({Ld:a.id,Da:new oi({Ad:a.md,R:a.Na,jd:a.Ge})}))});
function Ej(a){if(!a)throw new vj;if(!(a.qb&&3<=a.qb.length&&4>=a.qb.length))throw new lj;if(!function(){var b=a.Nc&&parseInt(a.Nc,10);return b&&1<=b&&12>=b}())throw new mj;if(!a.Oc||!parseInt(a.Oc,10))throw new nj;if(!function(){var b=a.Db&&a.Db.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new oj;}
function Fj(a,b){if(a.F.get(Bj)&&(!b.Na||"ZZ"==b.Na))throw new sj;var c;if(c=a.F.get(Bj))c=nd(a.G),c=!(-1<Cj.indexOf(b.Na)?b.md&&b.md!=c:1);if(c)throw new tj;if(a.F.get(Bj)&&-1<Cj.indexOf(b.Na)&&!b.Ge)throw new uj;};function Gj(a,b){if(b instanceof hj)return a.format("creditCardDeclined");if(b instanceof ij)return a.format("creditCardExpired");if(b instanceof jj)return a.format("creditCardCvcIncorrect");if(b instanceof kj)return a.format("creditCardNumberIncorrect");if(b instanceof lj)return a.format("creditCardCvcIncorrect");if(b instanceof mj)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof nj)return a.format("creditCardExpiryYearIncorrect");if(b instanceof oj)return a.format("creditCardNumberIncorrect");
if(b instanceof pj)return a.format("creditCardMissingButRequired");if(b instanceof qj)return a.format("creditCardProcessingError");if(b instanceof rj)return a.format("creditCardUnknownProcessingError",b.errorCode);if(b instanceof vj)return a.format("creditCardNoCardEntered");if(b instanceof sj)return a.format("creditCardNoCountryEntered");if(b instanceof tj)return a.format("creditCardNoRegionEntered");if(b instanceof uj)return a.format("creditCardNoZipcodeEntered");if(b instanceof X&&b.message)return b.message;
throw Error("unrecognized CreditCardError");};function Hj(a){return("YEARLY"===a.Xa?1:12)*a.Gb}function Ij(){this.Jf=window.pricingPlans};function Jj(a){this.plan=a.Vb;this.title=a.title;this.pricePerMonthText=a.ym;this.summaryText=a.Sm;this.billingCycleText=a.ll}
function Kj(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthlyPerUser",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearlyPerUser",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return Hj(b)-Hj(a)})[0];return a.map(function(a){var g;if("MONTHLY"===a.Xa)g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===a.Xa)g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(Math.round(a.Gb/("YEARLY"===a.Xa?12:1)*100)/100,"MONTHLY"),p;p="YEARLY"===a.Xa?b.format("canvaForWorkUpgradePlanPercentSaving",((Hj(d)-Hj(a))/Hj(d)*100).toFixed(0)/100):c(Hj(a),"YEARLY");return new Jj({Vb:a,title:g,ym:h,Sm:p,ll:"YEARLY"===a.Xa?b.format("canvaForWorkUpgradePlanBilledYearly",a.Gb):""})})};function Lj(){}Lj=Backbone.View.extend({className:"priceOptions",tagName:"ul"});e=Lj.prototype;e.initialize=function(a){this.Xb=a.Xb};e.events=function(){return{click:this.ql}};e.render=function(){this.$el.html(this.Xb.map(this.zm).join(""));return this};e.ql=function(a){a=$(a.target).closest("li");Mj(this,a.index())};
function Mj(a,b){a.$(".priceOption--selected").removeClass("priceOption--selected");0<=b&&b<a.Xb.length&&(a.$("li").eq(b).addClass("priceOption--selected"),a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.Xb[b].plan))}e.Pf=function(){function a(a){switch(a.Xa){case "MONTHLY":return a.Gb;case "YEARLY":return Hj(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.Xb).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.Xb.indexOf(b[0]);Mj(this,b)};
e.yh=function(a){this.Xb=a;this.render();this.Pf()};e.zm=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerMonth"\x3e\x3c%- pricePerMonthText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionBillingCycle"\x3e\x3c%- billingCycleText %\x3e\x3c/span\x3e\x3c/li\x3e');
var Nj=Lj;function Oj(a){soy.asserts.assertType(goog.isString(a.zc)||a.zc instanceof goog.soy.data.SanitizedContent,"billingError",a.zc,"string|goog.soy.data.SanitizedContent");var b=a.zc;soy.asserts.assertType(goog.isString(a.Cd)||a.Cd instanceof goog.soy.data.SanitizedContent,"tryAgain",a.Cd,"string|goog.soy.data.SanitizedContent");a=a.Cd;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"teamBillingRetry"\x3e'+soy.$$escapeHtml(b)+'\x3cbr/\x3e\x3cbutton type\x3d"button" class\x3d"button teamBillingRetryButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/p\x3e")}
function Pj(a){soy.asserts.assertType(goog.isString(a.claim)||a.claim instanceof goog.soy.data.SanitizedContent,"claim",a.claim,"string|goog.soy.data.SanitizedContent");var b=a.claim;soy.asserts.assertType(goog.isString(a.Qe)||a.Qe instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint1",a.Qe,"string|goog.soy.data.SanitizedContent");var c=a.Qe;soy.asserts.assertType(goog.isString(a.Re)||a.Re instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint2",a.Re,"string|goog.soy.data.SanitizedContent");
var d=a.Re;soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof goog.soy.data.SanitizedContent,"createTrialPeriodPoint3",a.Se,"string|goog.soy.data.SanitizedContent");var f=a.Se;soy.asserts.assertType(goog.isString(a.zd)||a.zd instanceof goog.soy.data.SanitizedContent,"startTrial",a.zd,"string|goog.soy.data.SanitizedContent");var g=a.zd;soy.asserts.assertType(goog.isString(a.od)||a.od instanceof goog.soy.data.SanitizedContent,"revertCard",a.od,"string|goog.soy.data.SanitizedContent");var h=
a.od;soy.asserts.assertType(goog.isString(a.Lc)||a.Lc instanceof goog.soy.data.SanitizedContent,"encryption",a.Lc,"string|goog.soy.data.SanitizedContent");var p=a.Lc;soy.asserts.assertType(goog.isBoolean(a.compact)||1===a.compact||0===a.compact,"compact",a.compact,"boolean");var k=!!a.compact;soy.asserts.assertType(goog.isString(a.Xc)||a.Xc instanceof goog.soy.data.SanitizedContent,"itemsTitle",a.Xc,"string|goog.soy.data.SanitizedContent");a=a.Xc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2 class\x3d"teamBillingClaim"\x3e'+
soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3cul\x3e\x3cli\x3e"+soy.$$escapeHtml(c)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(d)+"\x3c/li\x3e\x3cli\x3e"+soy.$$escapeHtml(f)+'\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cform class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cdiv class\x3d"teamBillingTotalText"\x3e\x3c/div\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'+
soy.$$escapeHtml(g)+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e'+soy.$$escapeHtml(h)+'\x3c/button\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e'+soy.$$escapeHtml(p)+"\x3c/p\x3e\x3c/div\x3e"+(k?"":'\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e'+soy.$$escapeHtml(a)+"\x3c/h4\x3e\x3c/div\x3e"))};function Qj(){}Qj=Backbone.View.extend({tagName:"ul",className:"textIconList"});Qj.prototype.initialize=function(a){this.items=a.items};
Qj.prototype.render=function(){this.$el.html(this.items.map(function(a){soy.asserts.assertType(goog.isString(a.icon)||a.icon instanceof goog.soy.data.SanitizedContent,"icon",a.icon,"string|goog.soy.data.SanitizedContent");var b=a.icon;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title;soy.asserts.assertType(goog.isBoolean(a.Sb)||1===a.Sb||0===a.Sb,"isHtml",a.Sb,"boolean");var d=!!a.Sb;
soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");a=a.content;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"textIconItem" '+(b?'data-icon\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+"\x3e\x3ch3\x3e"+soy.$$escapeHtml(c)+"\x3c/h3\x3e"+(d?soy.$$escapeHtml(a):"\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e")).toString()}).join(""));return this};
Qj.ul=function(a){return new Qj({items:[{title:a.format("canvaForWorkUpgradeTeamBrandKitsTitle"),content:a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),icon:"teamBrandKits",Sb:!1},{title:a.format("canvaForWorkUpgradeMagicallyResizeTitle"),content:a.format("canvaForWorkUpgradeMagicallyResizeDescription"),icon:"magicResize",Sb:!1},{title:a.format("canvaForWorkUpgradeLayoutCreatorsTitle"),content:a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),icon:"layoutCreators",Sb:!1},{title:a.format("canvaForWorkUpgradePhotoFoldersTitle"),
content:a.format("canvaForWorkUpgradePhotoFoldersDescription"),icon:"photoFolders",Sb:!1}]})};var Rj=Qj;function Sj(){}Sj=Backbone.View.extend({className:"teamBillingSignup"});e=Sj.prototype;e.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
e.initialize=function(a){this.compact=a.compact;this.Te=a.Te;this.ld=a.ld;this.listenTo(this.ld,"selectPlan",this.trigger.bind(this,"selectPlan"));this.Am=Rj.ul(bd(a.l));this.Ba=a.Ba;this.Qd=a.Qd;this.l=a.l;this.ya=jd(a.l)};
e.render=function(){var a=moment().add(this.Ba,"days").format("LL"),b;b=this.l;b.Fh||(b.Fh=new yd(b.config));b=b.Fh;if(this.Qd)return this.$el.html(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ciframe class\x3d"subscription2IFrame" src\x3d"/_subscription2" frameborder\x3d"0" scrolling\x3d"no" marginheight\x3d"0" marginwidth\x3d"0" \x3e\x3c/iframe\x3e').toString()),Tj(this),this;this.$el.html(Pj({compact:this.compact,claim:this.ya.Th(this.Ba),Qe:b.format("teamUpgradeCreateTrialPeriodPoint1V"),Re:b.format("teamUpgradeCreateTrialPeriodPoint2V",
a),Se:b.format("teamUpgradeCreateTrialPeriodPoint3V"),Lc:this.ya.Lc(),Xc:this.ya.Xc(),od:this.ya.od(),zd:this.ya.zd()}).toString());this.compact||this.Am.render().$el.appendTo(this.$(".teamBillingPromoItems"));this.ld.render().$el.appendTo(this.$(".teamBillingPriceOptions"));this.Te.render();this.$(".teamBillingCreditCardContainer").prepend(this.Te.$el);return this};e.Pf=function(){this.ld.Pf()};function Uj(a,b){a.$(".teamBillingCreditCardSubmit").removeClass("buttonSpinner");alert(b)}
e.vd=function(a){a=void 0===a?"":a;this.$(".teamBillingTotalText").html(a)};function Vj(a,b){a=a.$(".teamBillingCreditCardRevert");b?a.show():a.hide()}e.td=function(a){this.$el.toggleClass("enabled",a)};e.yh=function(a){this.ld.yh(a)};e.xh=function(a){this.$(".teamBillingClaim").text(a)};function Tj(a){a.$(".subscription2IFrame")[0].onload=function(){return Wj()};a.Cf=a.Cf.bind(a);window.addEventListener("message",a.Cf,!1)}
function Wj(){var a=document.getElementsByClassName("subscription2IFrame")[0];if(null!=a.contentWindow){var b=a.contentWindow.document.getElementsByClassName("canvaSubscription2IFrameContent")[0];setTimeout(function(){return a.style.height=b.scrollHeight+"px"},0)}}e.Cf=function(a){a.origin===window.location.origin&&("canva_subscription2-onInteraction"===a.data||"canva_subscription2-onError"===a.data?Wj():"canva_subscription2-onComplete"===a.data&&window.parent.location.reload())};
e.remove=function(){Backbone.View.prototype.remove.call(this);this.Qd&&window.removeEventListener("message",this.Cf)};var Xj=Sj;function Yj(a){this.j=a.j;this.cc=a.cc;this.D=a.D;this.g=a.g;this.ee=null;this.Oj=!1;this.fa=null;this.Pb=a.Pb;this.listenTo(this.Pb,{input:this.$l,requestSubmit:this.Uj});this.Md=a.Md;this.qd=null;this.ue=a.ue;this.ig=a.ig||null;this.l=a.l;this.view=a.view;this.listenTo(this.view,{selectPlan:this.Ym,retry:this.qm,revert:this.rm,submit:this.Uj})}e=Yj.prototype;e.listenTo=Backbone.Events.listenTo;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.stopListening=Backbone.Events.stopListening;
e.trigger=Backbone.Events.trigger;function Zj(a,b){return Hj(b)-Hj(a)}e.appendTo=function(a){this.view.render();a.append(this.view.$el);this.view.Pf();Vj(this.view,!1);this.Pb.refresh()};e.remove=function(){this.stopListening();this.Pb.remove();this.view.remove()};e.td=function(a){this.view.td(a)};e.xh=function(a){this.view.xh(a)};
function ak(a){var b=a.g.o();a.td(!1);(function(){return a.ig?P.resolve(a.ig):U(a.cc.u,"/billing/brands/"+encodeURIComponent(b)+"/account").catch(Ih).get(0).then(xa).then(ri).catch(Nh,function(){return null})})().bind(a).then(function(a){a&&a.Pd&&(this.fa=a.Pd,this.Pb.Qf(this.Md).$b(this.fa))}).catch(function(){var a=this.view;a.$el.html(Oj({zc:a.ya.zc(),Cd:a.ya.Cd()}).toString())}).finally(function(){this.td(!0)})}
function bk(a){var b=tc().Vh(a.g.o());a.D.Al(b).bind(a).then(function(a){this.ee=a.getCount();this.vd()}).catch(function(){this.Oj=!0;this.vd()})}
e.vd=function(){pa(null!=this.qd,"A plan must be selected");var a=jd(this.l);if(this.Oj)a=this.view,a.$(".teamBillingTotalText").text(a.ya.format("teamBillingSignupTotalPriceError"));else if(null!==this.ee)if(1===this.ee)this.view.vd();else{var b=this.qd.Gb*this.ee;if("YEARLY"===this.qd.Xa)b=a.format("teamBillingSignupPerYear",b);else if("MONTHLY"===this.qd.Xa)b=a.format("teamBillingSignupPerMonth",b);else throw Error("unrecognised billing interval");a=a.format("teamBillingSignupTotalPrice",this.ee,
b);this.view.vd(a)}};e.$l=function(a){this.fa&&Vj(this.view,a)};e.qm=function(){ak(this)};e.rm=function(){this.fa&&(this.Pb.$b(this.fa),Vj(this.view,!1))};
e.Uj=function(){this.td(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.Pb.El().bind(this).then(function(){this.j.track("credit_card_submitted",{location:"upgrade_dialog"})}).then(function(){if(!this.ue){var a=this.cc,b=new Ii({g:this.g.o(),Vb:this.qd.id});qa(b.g,"brand required");return V(a.u,"/billing/brands/"+b.g+"/subscription",Ji(b)).catch(Ih).get(0).then(Li).catch(a.jf,a.ff)}}).then(function(a){this.trigger("signup",a)}).catch(X,function(a){this.j.track("upgrade_onboarding_card_error",
{message:a.message});a=Gj(dd(this.l),a);Uj(this.view,a)}).catch(function(){Uj(this.view,"An error occured while trying to subscribe")}).finally(function(){this.td(!0)});this.j.track("upgrade_onboarding_card_submit")};e.Ym=function(a){this.qd=a;this.vd()};function ck(){}ck=Backbone.View.extend({className:"multipageDialog"});e=ck.prototype;e.initialize=function(a){this.Y=Xg;this.Ve=0;this.Ye=a.Ye||[];this.Ma=void 0===a.Ma||a.Ma;this.Ia=!!a.Ia;this.cd=new Zg({Y:this.Y,style:ah});this.bb=a.bb;this.bb.forEach(function(a){this.listenTo(a,"next",this.Om);this.listenTo(a,"back",this.Pm)},this)};e.events=function(){return{click:this.fh,"click .dialogMaskCloseButton":this.hide}};
e.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.cd.hide();this.Y.setTimeout(function(){this.trigger("hide")}.bind(this),300)};e.fh=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.Ma&&this.hide()};
e.render=function(){var a=this;(function(){a.Ye.forEach(function(b){a.$el.addClass(b)})})();(function(){a.bb.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.Ia&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.bb.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();dk(this,this.Ve);return this};
e.show=function(){this.$el.addClass("multipageDialogAppearing");this.cd.show(this.render().$el);this.Y.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};e.Om=function(){var a=this.Ve+1;a>=this.bb.length?this.hide():dk(this,a)};e.Pm=function(){var a=this.Ve-1;0>a?this.hide():dk(this,a)};
function dk(a,b){a.trigger("pageChange",a.bb[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.Ve=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")}var ek=ck;function fk(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var f=a.type;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var g=a.v;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var p=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var k=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var r=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var B=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var G=null==(b=B)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(G)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=f)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==B?" disabled":"")+(r?" buttonSmall":"")+'"'+(p?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(p))+'"':"")+(k?' id\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+(h&&"a"!=B?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(G)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function gk(a){a=a||{};soy.asserts.assertType(null==a.W||a.W instanceof goog.soy.data.SanitizedContent||goog.isString(a.W),"cssClass",a.W,"null|string|undefined");var b=a.W;soy.asserts.assertType(null==a.Sa||goog.isBoolean(a.Sa)||1===a.Sa||0===a.Sa,"withStar",a.Sa,"boolean|null|undefined");a=a.Sa;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+'  width\x3d"20" height\x3d"15" viewBox\x3d"0 0 20 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" fill\x3d"#FFF" d\x3d"M15.5 3H0v8.5c0 .828.672 1.5 1.5 1.5h14c.828 0 1.5-.672 1.5-1.5v-7c0-.828-.672-1.5-1.5-1.5M2 2h7L7 0H0v2h1"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M17.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function hk(a){a=a||{};soy.asserts.assertType(null==a.W||a.W instanceof goog.soy.data.SanitizedContent||goog.isString(a.W),"cssClass",a.W,"null|string|undefined");var b=a.W;soy.asserts.assertType(null==a.Sa||goog.isBoolean(a.Sa)||1===a.Sa||0===a.Sa,"withStar",a.Sa,"boolean|null|undefined");a=a.Sa;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+' width\x3d"18" height\x3d"15" viewBox\x3d"0 0 18 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" d\x3d"M10.32 8.842c.127-.214.2-.466.2-.736V7.64c-.267-.33-.48-.713-.606-1.127-.027-.083-.04-.18-.115-.233-.742-.998-.093-1.186-.102-1.27 0-.418-.003-.837.002-1.254.016-.387.278-1.937 2.163-1.943h.01c1.885.006 2.147 1.556 2.163 1.943.006.417 0 .836.002 1.254-.01.084.64.272-.1 1.27-.076.053-.09.15-.117.233-.127.414-.34.796-.607 1.128v.466c0 .605.37 1.12.89 1.315.142.055 1.31.27 1.762.634.303.245.69.525 1.004 1.057.088.15.23 1.19.23 1.19 0 .387-.276.7-.65.7h-3.846l.092-.336s-.006-.782-.134-1.197c-.085-.33-.254-1.277-.674-1.614-.53-.422-.76-.68-1.57-1.01zm.408.735c-.523-.424-1.883-.674-2.05-.736-.6-.226-1.032-.825-1.032-1.528v-.54c.312-.386.558-.83.706-1.31.032-.097.048-.21.134-.272.86-1.16.106-1.378.117-1.475-.002-.486.004-.972-.003-1.457C8.582 1.808 8.277.008 6.087 0 3.883.007 3.58 1.807 3.56 2.258c-.006.485 0 .97-.002 1.457.01.097-.744.316.117 1.475.086.062.102.175.134.272.147.48.393.924.704 1.31v.54c0 .703-.43 1.302-1.032 1.53-.167.06-1.526.31-2.05.735-.35.284-.802.61-1.166 1.228C.163 10.98 0 12.187 0 12.187c0 .45.32.813.752.813h10.656c.433 0 .753-.363.753-.813 0 0-.163-1.208-.265-1.382-.172-.666-.815-.944-1.167-1.228z" fill\x3d"#FFF"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M15.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")};function ik(a){soy.asserts.assertType(a.ye instanceof soydata.SanitizedHtml||a.ye instanceof soydata.UnsanitizedText||goog.isString(a.ye),"titleHtml",a.ye,"soydata.SanitizedHtml");var b=a.ye;soy.asserts.assertType(goog.isString(a.bd)||a.bd instanceof goog.soy.data.SanitizedContent,"memberLabel",a.bd,"string|goog.soy.data.SanitizedContent");var c=a.bd;soy.asserts.assertType(goog.isString(a.uf)||a.uf instanceof goog.soy.data.SanitizedContent,"okButton",a.uf,"string|goog.soy.data.SanitizedContent");
a=a.uf;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2\x3e"+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cp class\x3d"upgradeDialogMember__label"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"+fk({v:"upgradeDialogMember__button",text:a}))}
function jk(a){a=goog.asserts.assertArray(a.Ca,"expected parameter 'benefitList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"upgradeDialogFeaturePromo__benefitList"\x3e',c=a.length,d=0;d<c;d++){var f=a[d],g;g=g={W:"upgradeDialogFeaturePromoBenefit__icon"};soy.asserts.assertType(null==g.W||g.W instanceof goog.soy.data.SanitizedContent||goog.isString(g.W),"cssClass",g.W,"null|string|undefined");g=g.W;g=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(g?'class\x3d"'+
soy.$$escapeHtmlAttribute(g)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 100"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"50"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M69.5 25.8l-26 35.4L30.1 54c-3.3-2.1-5.6 2.9-3.8 4.6 1.8 1.7 18.2 16.6 18.2 16.6.5.4 1.2.4 1.7.1.2-.1.4-.3.5-.5 0 0 24.7-40.9 26.9-44.6 2.3-3.8-1.6-7.8-4.1-4.4z"/\x3e\x3c/svg\x3e');b+='\x3cli class\x3d"upgradeDialogFeaturePromoBenefit"\x3e'+g+'\x3cspan class\x3d"upgradeDialogFeaturePromoBenefit__text"\x3e'+
soy.$$escapeHtml(f)+"\x3c/span\x3e\x3c/li\x3e"}b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function kk(a){soy.asserts.assertType(goog.isString(a.sf)||a.sf instanceof goog.soy.data.SanitizedContent,"meganKelleyQuote",a.sf,"string|goog.soy.data.SanitizedContent");var b=a.sf;soy.asserts.assertType(goog.isString(a.rf)||a.rf instanceof goog.soy.data.SanitizedContent,"meganKelleyCite",a.rf,"string|goog.soy.data.SanitizedContent");var c=a.rf;soy.asserts.assertType(goog.isString(a.Xe)||a.Xe instanceof goog.soy.data.SanitizedContent,"donnaMoritzQuote",a.Xe,"string|goog.soy.data.SanitizedContent");
var d=a.Xe;soy.asserts.assertType(goog.isString(a.We)||a.We instanceof goog.soy.data.SanitizedContent,"donnaMoritzCite",a.We,"string|goog.soy.data.SanitizedContent");var f=a.We;soy.asserts.assertType(goog.isString(a.bg)||a.bg instanceof goog.soy.data.SanitizedContent,"travisBernardQuote",a.bg,"string|goog.soy.data.SanitizedContent");var g=a.bg;soy.asserts.assertType(goog.isString(a.ag)||a.ag instanceof goog.soy.data.SanitizedContent,"travisBernardCite",a.ag,"string|goog.soy.data.SanitizedContent");
a=a.ag;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e'+soy.$$escapeHtml(b)+"\x3ccite\x3e"+soy.$$escapeHtml(c)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(d)+"\x3ccite\x3e"+soy.$$escapeHtml(f)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e"+soy.$$escapeHtml(g)+"\x3ccite\x3e"+soy.$$escapeHtml(a)+"\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e")};function lk(){}lk=Backbone.View.extend({className:"promotion"});lk.prototype.initialize=function(a){this.model=a.model};lk.prototype.events=function(){var a=this;return{"click .upgradeDialogFeaturePromo__button":function(){a.trigger("next",a.model.cb)},"click .upgradeDialogFeaturePromo__footerLink":function(){a.trigger("footerLinkClicked")}}};
lk.prototype.render=function(){var a=this.model;soy.asserts.assertType(a.Ga instanceof soydata.SanitizedHtml||a.Ga instanceof soydata.UnsanitizedText||goog.isString(a.Ga),"headingHtml",a.Ga,"soydata.SanitizedHtml");var b=a.Ga;soy.asserts.assertType(goog.isString(a.Qa)||a.Qa instanceof goog.soy.data.SanitizedContent,"imageUrl",a.Qa,"string|goog.soy.data.SanitizedContent");var c=a.Qa;soy.asserts.assertType(goog.isString(a.La)||a.La instanceof goog.soy.data.SanitizedContent,"buttonLabel",a.La,"string|goog.soy.data.SanitizedContent");
var d=a.La;soy.asserts.assertType(null==a.body||a.body instanceof goog.soy.data.SanitizedContent||goog.isString(a.body),"body",a.body,"null|string|undefined");var f=a.body;soy.asserts.assertType(null==a.hf||a.hf instanceof goog.soy.data.SanitizedContent||goog.isString(a.hf),"imageAlt",a.hf,"null|string|undefined");var g=a.hf;soy.asserts.assertType(null==a.Ca||goog.isArray(a.Ca),"benefitList",a.Ca,"?Array\x3cstring\x3e|undefined");var h=a.Ca;soy.asserts.assertType(null==a.Td||a.Td instanceof goog.soy.data.SanitizedContent||
goog.isString(a.Td),"footerLink",a.Td,"null|string|undefined");var p=a.Td,a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"upgradeDialogFeaturePromo promoBody"\x3e\x3cdiv class\x3d"upgradeDialogFeaturePromo__content"\x3e\x3ch2 class\x3d"upgradeDialogFeaturePromo__heading"\x3e'+soy.$$escapeHtml(b)+"\x3c/h2\x3e"+(f?'\x3cp class\x3d"upgradeDialogFeaturePromo__body"\x3e'+soy.$$escapeHtml(f)+"\x3c/p\x3e":"")+(h?jk(a):"")+'\x3cdiv class\x3d"upgradeDialogFeaturePromo__footer"\x3e'+fk({v:"upgradeDialogFeaturePromo__button",
text:d})+(p?'\x3cdiv\x3e\x3ca href\x3d"#" class\x3d"upgradeDialogFeaturePromo__footerLink"\x3e'+soy.$$escapeHtml(p)+"\x3c/a\x3e\x3c/div\x3e":"")+'\x3c/div\x3e\x3c/div\x3e\x3cimg class\x3d"upgradeDialogFeaturePromo__image" src\x3d'+soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeMediaUri(c))+" "+(g?"alt\x3d"+soy.$$escapeHtmlAttributeNospace(g):"")+" /\x3e\x3c/div\x3e").toString();this.$el.html(a);return this};var mk=lk;function nk(a){Backbone.View.call(this,{className:"upgradeDialogMember"});this.i=a.i}m(nk,Backbone.View);nk.prototype.events=function(){return{"click .upgradeDialogMember__button":this.trigger.bind(this,"next")}};nk.prototype.render=function(){this.$el.html(ik({ye:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.i.format("canvaForWorkUpgradeMemberTitleHtml")),bd:this.i.bd(),uf:this.i.format("canvaForWorkUpgradeMemberOkButton")}).toString());return this};function ok(a,b){return O(O(O(new Ic("upgrade_cta_clicked"),"section","homepage"),"subsection",a),"location",b)}function pk(a,b,c){return O(O(O(O(O(new Ic("upgrade_dialog_cta_clicked"),"section",a),"subsection","upgrade_dialog"),"location","bottom"),"feature",b),"planType",c)}function qk(a,b,c){return O(O(O(O(new Ic("upgrade_dialog_loaded"),"section",a),"subsection","upgrade_dialog"),"can_upgrade",b),"feature",c)};function rk(){}function sk(){var a=t(rk,window.clientInfo),b;b=t(tk,a.brandInfo);b.brand=cc(b.brand);b.subscription&&(b.subscription=Bi(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=t(uk,a.user);b.avatar&&(b.avatar=ib(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}function tk(){}tk.prototype.X=function(){return this.brand};tk.prototype.getSubscription=function(){return this.subscription||null};function uk(){}e=uk.prototype;e.o=function(){return this.id};e.jj=function(){return this.avatar};
e.Uc=function(){return this.username};e.Oa=function(){return this.displayName};e.Pg=function(){return this.roles};e.df=function(){return this.personalBrand};e.Yd=function(){return this.locale};e.mj=function(){return this.country};e.oj=function(){return this.preferredHomepage};e.Lh=function(){return ec({id:this.o(),username:this.Uc(),personalBrand:this.df(),displayName:this.Oa(),avatar:gb(this.jj()),roles:this.Pg(),countryCode:this.mj(),locale:this.Yd()})};function vk(a){this.ha=a.ha;this.xd=void 0;this.H=null;this.Ba=a.Ba||0;this.Ma=void 0===a.Ma||a.Ma;this.Bc=void 0===a.Bc||a.Bc;this.Ia=void 0===a.Ia||a.Ia;this.j=a.j;this.yl=_.once(function(){ak(a.ha);bk(a.ha)});this.ha.once("signup",this.vm.bind(this));this.i=a.Jd;this.ya=a.ya;this.ob=a.ob;this.oe=a.oe;this.hd=a.hd;this.cb=a.mc}e=vk.prototype;e.listenTo=Backbone.Events.listenTo;e.listenToOnce=Backbone.Events.listenToOnce;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;
e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.remove=function(){this.H&&this.H.remove()};
e.show=function(a){var b=this;if(this.ob){var c=wk(this,this.ha,a||7);c.on("next",function(c){var f=/\/design\//.test(location.pathname)?pk("editor",a,c):pk("homepage",a,c),g=b.ha,h=b.hd.get(c),h=Kj(h.sort(Zj),bd(g.l));g.view.yh(h);b.xd&&1===c&&(b.xd.$el.addClass("upgradeDialogSignup--imagesPro"),b.ha.xh(b.ya.format("teamBillingSignupUpgradeImagesPro",b.Ba)));Hc(b.j,f)});c.on("footerLinkClicked",function(){return xk(b)});this.xd=new Backbone.View({className:"upgradeDialogSignup"});this.H=new ek({Ye:["upgradeDialog"],
Ma:this.Ma,Ia:this.Ia,bb:[c,this.xd]});this.H.on("hide",function(){b.H.remove();b.H=null;b.ha.remove();b.trigger("hide")});this.yl();this.H.show();yk(this);this.ha.appendTo(this.xd.$el);this.xd.$el.append(kk({sf:this.i.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),rf:this.i.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),Xe:this.i.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),We:this.i.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),bg:this.i.format("canvaForWorkUpgradeQuoteTravisBernardContent"),
ag:this.i.format("canvaForWorkUpgradeQuoteTravisBernardCite")}).toString())}else zk(this)};function zk(a){var b=new nk({i:a.i});a.H=new ek({Ye:["upgradeDialog"],Ma:a.Ma,Ia:a.Ia,bb:[b]});a.H.on("hide",function(){a.H.remove();a.H=null;a.trigger("hide")});a.H.show();yk(a)}function xk(a){a.once("hide",function(){return a.show(7)});a.H.hide()}e.vm=function(){this.Bc&&this.H&&this.H.remove();this.trigger("signup")};
function yk(a){if(/\/design\//.test(location.pathname)){if(a.j){var b=a.j;a=a.ob;a=qk("editor",a.ob,a.feature);Hc(b,a)}}else a.j&&(b=a.j,a=a.ob,a=qk("homepage",a.ob,a.feature),Hc(b,a))}
function wk(a,b,c){var d=a.i.format("canvaForWorkFeatureUpgradeButtonLabel");switch(c){case 5:return new mk({ha:b,model:{La:d,Ga:a.i.Fa("canvaForWorkFeatureUpgradeUnlimitedFoldersHeadingHtml"),body:pd(a.i),Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_folders.png",Ca:[ud(a.i),td(a.i),rd(a.i),sd(a.i)],cb:0}});case 2:return new mk({ha:b,model:{La:d,Ga:a.i.Fa("canvaForWorkFeatureUpgradeResizeHeadingHtml"),body:pd(a.i),Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_resize.png",Ca:[ud(a.i),td(a.i),qd(a.i),sd(a.i)],
cb:0}});case 4:return new mk({ha:b,model:{La:d,Ga:a.i.Fa("canvaForWorkFeatureUpgradeTemplatesHeadingHtml"),body:pd(a.i),Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_templates.png",Ca:[ud(a.i),td(a.i),rd(a.i),sd(a.i)],cb:0}});case 3:return new mk({ha:b,model:{La:d,Ga:a.i.Fa("canvaForWorkFeatureUpgradeTransparentBackgroundsHeadingHtml"),body:pd(a.i),Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_transparent_bg.png",Ca:[ud(a.i),td(a.i),rd(a.i),sd(a.i)],cb:0}});case 6:return new mk({ha:b,model:{La:d,Ga:a.i.Fa("canvaForWorkFeatureUpgradeCollaborateHeadingHtml"),
body:pd(a.i),Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_teams.png",Ca:[ud(a.i),td(a.i),rd(a.i),sd(a.i)],cb:0}});case 8:return new mk({ha:b,model:{La:d,Ga:a.i.Fa("canvaForWorkFeatureUpgradeExclusiveMediaHeadingHtml"),body:pd(a.i),Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Ca:[ud(a.i),td(a.i),rd(a.i),sd(a.i)],cb:0}});case 9:return new mk({ha:b,model:{La:d,Ga:ud(a.i),body:pd(a.i),Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Ca:[td(a.i),qd(a.i),rd(a.i),sd(a.i)],cb:0}});
case 12:return new mk({ha:b,model:{La:d,Ga:a.i.Fa("canvaForWorkFeatureUpgradeAnimatorHeadingHtml"),body:a.i.format("canvaForWorkFeatureUpgradeAnimatorBody"),Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_animator.png",Ca:[a.i.format("canvaForWorkFeatureUpgradeAnimatorBenefit1"),a.i.format("canvaForWorkFeatureUpgradeAnimatorBenefit2"),a.i.format("canvaForWorkFeatureUpgradeAnimatorBenefit3"),a.i.format("canvaForWorkFeatureUpgradeAnimatorBenefit4")],cb:0}});case 10:case 11:c=a.i.Fa("canvaForWorkFeatureUpgradeFreeContentHeadingHtml",
4E5);var f=a.i.format("canvaForWorkFeatureUpgradeImagesProBody"),g;g=a.i.format("canvaForWorkFeatureUpgradeImagesProBenefit1",4E5);return new mk({ha:b,model:{La:d,Ga:c,body:f,Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_exclusive_media.png",Ca:[g,a.i.format("canvaForWorkFeatureUpgradeImagesProBenefit2"),a.i.format("canvaForWorkFeatureUpgradeImagesProBenefit3"),a.i.format("canvaForWorkFeatureUpgradeImagesProBenefit4")],cb:1,Td:a.i.format("canvaForWorkFeatureUpgradeImagesFooterLink")}});case 0:case 1:case 7:return new mk({ha:b,
model:{La:d,Ga:a.i.Fa("canvaForWorkFeatureUpgradeGeneralHeadingHtml"),body:a.i.format("canvaForWorkFeatureUpgradeIncreaseProductivity"),Qa:"https://static.canva.com/static/images/upgrade_dialog_feature_general.png",Ca:[ud(a.i),td(a.i),rd(a.i),sd(a.i)],cb:0}});default:throw Error("Not a recognised feature: "+c);}};function Ak(){this.Ra=[255,0,255];this.lc=[300,100,50]}function Bk(a,b,c,d){a.lc=[b,c,d];var f;f=b/60;c/=100;d/=100;b=Math.floor(f);var g=f-b;f=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;a.Ra=[Math.round(255*[d,h,f,f,c,d][b]),Math.round(255*[c,d,d,h,f,f][b]),Math.round(255*[f,f,c,d,d,h][b])];return a}e=Ak.prototype;e.ae=function(){return this.lc[2]};e.sk=function(a){return Bk(this,this.lc[0],this.lc[1],a)};
function Ck(a,b,c,d){a.Ra=[b,c,d];b/=255;c/=255;d/=255;var f=Math.max(b,c,d),g=Math.min(b,c,d),h;if(f==g)h=g=0;else{var p=f-g,g=p/f;switch(f){case b:h=(c-d)/p+(c<d?6:0);break;case c:h=(d-b)/p+2;break;case d:h=(b-c)/p+4}h/=6}a.lc=[360*h,100*g,100*f];return a}function Dk(a){var b=new Ak;if(!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return Ck(b,Ek(a,0*c,c),Ek(a,1*c,c),Ek(a,2*c,c))}
e.Kh=function(){return"#"+(256+this.Ra[0]).toString(16).slice(-2)+(256+this.Ra[1]).toString(16).slice(-2)+(256+this.Ra[2]).toString(16).slice(-2)};e.clone=function(){var a=new Ak;a.Ra=this.Ra;a.lc=this.lc;return a};e.lj=function(){return Math.round(Math.sqrt(.241*this.Ra[0]*this.Ra[0]+.691*this.Ra[1]*this.Ra[1]+.068*this.Ra[2]*this.Ra[2]))};e.equals=function(a){return null!=a&&a.serialize()===this.serialize()};
function Fk(a){var b=String(a);if("#"===b.slice(0,1))return Dk(b);if("hsl("===b.slice(0,4)){a=new Ak;var c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);if(!c)throw new SyntaxError('Invalid HSL color: "'+b+'"');var b=+c[2],d=+c[3],b=b/100,d=d/100,f=b*(.5>d?d:1-d),g=d+f,c=[+c[1],100*(0<d?2*f/g:b),100*g];return Bk(a,c[0],c[1],c[2])}if("rgb("===b.slice(0,4)){a=new Ak;c=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);if(!c)throw new SyntaxError('Invalid RGB color: "'+b+'"');return Ck(a,
+c[1],+c[2],+c[3])}if(6>=b.length)return Dk(b);throw Error("could not parse color: "+a);}function Ek(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}e.serialize=Ak.prototype.Kh;e.toString=Ak.prototype.Kh;function Gk(a){q(0<a.size,"invalid avatar size {}",a.size);Backbone.View.call(this,{className:"avatar"});this.xc=a.xc||null;this.oc=a.oc||null;this.Ya=a.Ya||null;this.size=a.size;this.vb=!!a.vb;this.Fb=!!a.Fb;this.Kb=!!a.Kb;this.rb=!!a.rb}m(Gk,Backbone.View);
Gk.prototype.render=function(){var a=this.xc&&this.oc,b=!!this.oc;this.$el.css({width:this.size+"px",height:this.size+"px",lineHeight:this.size/2+"px"});this.xc&&this.$el.css("backgroundImage","url("+this.xc+")");a?(this.$el.addClass("avatar--composite"),this.$el.css("fontSize",this.size/4+"px")):b&&(this.$el.addClass("avatar--brand"),this.$el.css("fontSize",this.size/2+"px"));this.oc&&this.$el.attr("data-letter",this.oc);this.Ya&&(this.$el.css("backgroundColor",this.Ya.Kh()),208<this.Ya.lj()&&this.$el.addClass("avatar--light"));
this.$el.toggleClass("avatar--whiteBorder",this.Kb);this.$el.toggleClass("avatar--darkBorder",this.rb);this.$el.toggleClass("avatar--glow",this.vb);this.$el.toggleClass("avatar--pointer",this.Fb);return this};function Hk(a){return(a.Oa()||"Brand").toUpperCase().trim().replace(/^THE\s+/,"").charAt(0)}function Ik(a){a=a.kj();return Fk(a?"#"+a:"#b0b0b0")}
function Jk(a,b){a=a.Vd().sizes;pa(0<a.size,"avatar bundle is empty");var c=b*(window.devicePixelRatio||1);return _.chain([].concat(ja(a.values()))).sortBy(function(a){return Math.abs(a.size-c)}).sortBy(function(a){return a.size<c}).first().value().Pa()}function Kk(a){var b=Jk(a.user,a.size);a=new Gk({xc:b,size:a.size,vb:a.vb,Fb:a.Fb,Kb:a.Kb,rb:a.rb});a.render();return a}
function Lk(a){if(a.g.personal)return Kk(a);var b=Jk(a.user,a.size),c=Hk(a.g),d=Ik(a.g);a=new Gk({xc:b,oc:c,Ya:d,size:a.size,vb:a.vb,Fb:a.Fb,Kb:a.Kb,rb:a.rb});a.render();return a};function Mk(){}Mk=Backbone.View.extend({tagName:"li",className:"brand"});Mk.prototype.initialize=function(a){var b;if(a.Ka.g.personal)b=Kk({user:a.user,size:36});else{b={g:a.Ka.g,size:36};var c=Hk(b.g),d=Ik(b.g);b=new Gk({oc:c,Ya:d,size:b.size,vb:b.vb,Fb:b.Fb,Kb:b.Kb,rb:b.rb});b.render()}this.og=b;this.Ka=a.Ka;this.C=a.C};
Mk.prototype.render=function(){this.$el.html(this.template({personal:this.Ka.g.personal,personalLabel:this.C.format("userMenuPersonalBrandLabel"),displayName:this.Ka.g.Oa(),url:this.Ka.url}));this.$(".left").append(this.og.$el);return this};Mk.prototype.template=_.template('\x3ca href\x3d"\x3c%- url %\x3e"\x3e\x3cdiv class\x3d"left"\x3e\x3c/div\x3e\x3cdiv class\x3d"right"\x3e\x3c% if (personal) { %\x3e\x3c%- personalLabel %\x3e\x3c% } else { %\x3e\x3c%- displayName %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/a\x3e');
var Nk=Mk;function Ok(){}Ok=Backbone.View.extend({className:"actions",tagName:"ul"});Ok.prototype.initialize=function(a){this.C=a.C;this.wd=!!a.wd};Ok.prototype.render=function(){this.$el.toggleClass("singleAction",!this.wd);this.$el.html(this.template({showUpgradeButton:this.wd,upgrade:this.C.Th(),signOut:this.C.signOut()}));return this};Ok.prototype.events=function(){return{"click #upgrade":this.trigger.bind(this,"upgrade")}};Ok.prototype.template=_.template('\x3c% if (showUpgradeButton) { %\x3e\x3ca class\x3d"button buttonSmall" id\x3d"upgrade"\x3e\x3c%- upgrade %\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"button buttonLink" href\x3d"/logout"\x3e\x3c%- signOut %\x3e\x3c/a\x3e');
var Pk=Ok;function Qk(a){Backbone.View.call(this,{className:"active brand"});this.C=a.C;this.og=Lk({g:a.g,user:a.user,size:60,Kb:!0});this.g=a.g;this.user=a.user;this.Ub=!!a.Ub;this.Za=a.Za}m(Qk,Backbone.View);
Qk.prototype.render=function(){var a=this.el,b;b=this.g.Oa()||this.C.gd();var c=this.user.Oa(),d=this.Za?void 0:"/"+this.user.Uc(),f=this.C.Sf(),g=this.C.bn(),h=this.Ub;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"profilePageUrl",d,"null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"displayName",c,"null|string|undefined");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||
goog.isString(b),"brandName",b,"null|string|undefined");soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,"settings",f,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"viewProfile",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(h)||1===h||0===h,"openInNewTab",h,"boolean");h=!!h;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"activeUser"\x3e\x3cdiv class\x3d"userDisplayName"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"teamDisplayName"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"userMenuBrandActions"\x3e\x3ca href\x3d"/account"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(f)+"\x3c/a\x3e"+(d?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(g)+"\x3c/a\x3e":"")+"\x3c/div\x3e");a.innerHTML=b;this.$el.children().first().append(this.og.$el);return this};function Rk(){}Rk=Backbone.View.extend({className:"brandListWrapper"});Rk.prototype.initialize=function(a){this.dc=a.dc;this.user=a.user;this.C=a.C};function Sk(a,b){if(!a.el.parentElement)throw Error("This element must be added to the DOM before display() can be called");b&&a.$el.addClass("animate");b=a.$el.find("ul").height();a.$el.height(b)}
Rk.prototype.render=function(){var a=$('\x3cul class\x3d"brandList"\x3e');this.$el.html(a);this.dc.forEach(function(b){(new Nk({Ka:b,user:this.user,C:this.C})).render().$el.appendTo(a)}.bind(this));return this};var Tk=Rk;function Uk(){}Uk=nh.extend({className:"userMenuContainer"});
Uk.prototype.initialize=function(a){this.Ne=a.Ne;this.ck=null;this.user=a.user;this.C=a.C;this.He=a.He;this.Ib=a.Ib;this.Zh=new Qk({C:a.C,g:this.He.g,user:a.user,Ub:a.Ub,Za:a.Za});this.qg=this.Id=null;var b=$("\x3cdiv\x3e\x3c/div\x3e");b.append(this.Zh.render().$el);var c=new Pk({C:a.C,wd:a.wd});this.listenTo(c,{remove:this.remove,upgrade:this.trigger.bind(this,"upgrade")});this.Ib&&(this.qg=$('\x3cspan class\x3d"brandListLoadingSpinner"\x3e'),b.append(this.qg));b.append(c.render().$el);nh.prototype.initialize.call(this,
{content:b,position:["leftTop","top"],wa:a.wa})};Uk.prototype.show=function(){this.ck=this.Ne.now();return nh.prototype.show.call(this)};Uk.prototype.Mm=function(a){if(!this.Ib)throw Error("Cannot use setBrands when showBrands is set to false");var b=this,c=function(){return a.filter(function(a){return a.g.o()!==b.He.g.o()})}();this.Id&&this.Id.remove();0<c.length&&(this.Id=(new Tk({dc:c,user:b.user,C:this.C})).render(),this.Id.$el.insertAfter(b.Zh.$el),Sk(this.Id,100<this.Ne.now()-this.ck));this.qg.addClass("done")};
var Vk=Uk;function Wk(a){return a.F.get(Rc)?(window.open("https://about.canva.com/pricing","_blank"),!0):!1};function Xk(a){this.j=a.j;this.jb=a.jb;this.C=a.C;this.kg=a.kg;this.Cb=this.dc=null;this.Ob=a.Ob;this.an=a.an||"user_menu";this.profiles=a.profiles;this.Gk=a.Gk;this.Bh=a.Bh;this.fc=a.fc;this.we=a.we;this.wa=a.wa;this.user=a.user;this.lg=a.lg;this.Ib=void 0!==a.Ib?a.Ib:!0;this.Ub=!!a.Ub;this.Za=a.Za}e=Xk.prototype;e.init=function(){this.fc.click(function(){this.fc.toggleClass(this.we);this.fc.hasClass(this.we)?Yk(this):this.Cb.remove()}.bind(this))};e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;
e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.Uf=function(){if(Wk(this.jb))Hc(this.j,ok("user_menu","bottom")),this.Cb.remove();else if(this.Ob){var a=this.Ob();a.on("signup",function(){window.parent.location.href=a.oe});Hc(this.j,ok("user_menu","bottom"));a.show();this.Cb.remove()}};
function Yk(a){var b=function(){this.Cb=new Vk({C:this.C,He:f(this.kg),wd:this.lg,profiles:this.profiles,user:this.user,Ne:Vg,Ib:this.Ib,Ub:this.Ub,wa:this.wa,Za:this.Za});this.Ib&&c().bind(this.Cb).then(this.Cb.Mm);kh(this.Cb,this.Bh);this.listenTo(this.Cb,{remove:g,hide:this.fc.removeClass.bind(this.fc,this.we),upgrade:this.Uf})}.bind(a),c=function(){return this.dc?P.resolve(this.dc):ei(this.profiles).then(d)}.bind(a),d=function(a){return this.dc=a.map(f)}.bind(a),f=function(a){return{g:a,url:"/login/switch?brand\x3d"+
encodeURIComponent(a.o())}}.bind(a),g=function(){this.Cb=null}.bind(a);b()}e.Rf=function(a){this.user=a};function Zk(){}Zk=Backbone.View.extend({className:"sidebar"});Zk.prototype.initialize=function(a){this.Y=a.Y;this.kc=a.kc};Zk.prototype.events=function(){return{"click .sidebarMenuLink__exploreTemplates":this.trigger.bind(this,"click:exploreTemplates"),"click .sidebarUpgradeButton":this.trigger.bind(this,"click:upgrade"),"click .buttonNewDesign":this.trigger.bind(this,"click:newDesign")}};
Zk.prototype.Nm=function(a,b){var c=this.$(".notifications"),d=c.find(".notificationsBadge");a=Math.min(a,9);c.hasClass("hasNotifications")&&0===a&&(c.addClass("disappearing"),this.Y.setTimeout(function(){c.removeClass("disappearing")},250));c.toggleClass("hasNotifications",0<a);c.toggleClass("hasMore",b);d.text(a)};var $k=Zk;function al(a){this.j=a.j;this.jb=a.jb;this.he=a.he;this.dg=a.dg;this.view=a.view;this.Ob=a.Ob;this.Vf=a.Vf;this.Uh=a.Uh;this.D=a.D;this.Ka=a.Ka}e=al.prototype;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;
e.start=function(){var a=this;this.dg.init();Yh(this.he);window.setTimeout(function(){var b=a.he;b.update(!1).catch($.noop);ai(b,6E4)},400);this.listenTo(this.he,{updateUnreadCount:a.view.Nm.bind(a.view)});this.listenTo(this.view,{"click:upgrade":this.Uf});this.Vf&&this.Uf(null,!0);null!==this.Ka.getSubscription()||this.Ka.X().personal||bl(this)};
e.Uf=function(a,b){var c=this;if(!this.Vf&&Wk(this.jb))Hc(this.j,ok("sidebar","bottom"));else{var d=this.Ob();d.on({signup:function(){window.location.href=c.Uh?"/brand/onboarding/starter":d.oe}});b||Hc(this.j,ok("sidebar","bottom"));d.show()}};
function bl(a){var b=0+a.Ka.brandMembersCount;if(b<=a.jb.F.get(Pc)){var c=a.view;a=a.jb.F.get(Pc);var d=c.$(".sidebar__pill--teamInvitationsCount");d.text(c.kc.format("homeSideBarMembersInvited",b,a)).removeClass("sidebar__pill--hidden");b===a&&d.addClass("sidebar__pill--red")}}e.Rf=function(a){this.dg.Rf(a);var b=a.Oa();a=a.Vd();null!=b&&this.view.$(".userDisplayName").text(b).attr("title",b);null!=a&&(b=a.sizes.get("50").Pa(),this.view.$(".avatar").css("background-image","url("+b+")"))};function cl(a,b){this.pg=a;this.namespace=void 0===b?null:b}cl.prototype.setItem=function(a,b){try{return this.pg.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};cl.prototype.getItem=function(a){return this.pg.getItem(null==this.namespace?a:this.namespace+"."+a)};cl.prototype.removeItem=function(a){this.pg.removeItem(null==this.namespace?a:this.namespace+"."+a)};function dl(a){wc.call(this,a)}m(dl,wc);function el(a){yc.call(this,a);this.N=null}m(el,yc);e=el.prototype;e.track=function(a,b){window.console.log("analytics:track",this.N,a,zc(this,b));return P.resolve()};
e.identify=function(a,b,c){this.N=a;if(Bc(a,b)){var d=window.lastUserTraits||Cc(new Dc),f=Ec(new Dc,"__user",a);if(d&&Fc(d))for(var g=l(d.keys()),h=g.next();!h.done;h=g.next())h=h.value,"__user"!==h&&Ec(f,h,d.get(h));if(b&&Fc(b))for(d=l(b.keys()),h=d.next();!h.done;h=d.next())g=h.value,Ec(f,g,b.get(g));window.lastUserTraits=Cc(f);window.console.log("analytics:identify",a,b,c)}return P.resolve()};e.alias=function(a){window.console.log("analytics:alias",this.N,a);this.N=a};
e.set=function(a){window.console.log("analytics:set",this.N,a);return P.resolve()};e.union=function(a){window.console.log("analytics:union",this.N,a)};function fl(a){wc.call(this,a);this.Bd=a.Bd}m(fl,wc);function gl(a,b){var c=this;yc.call(this,a);this.Bd=a.Bd;this.Y=b;this.Sg=null;this.defer(function(){return hl(c)})}m(gl,yc);e=gl.prototype;e.track=function(a,b){var c=this;return this.defer(function(d){hl(c).track(a,zc(c,b),{},function(){return d()})})};e.identify=function(a,b,c){var d=this;return Bc(a,b)?this.Sg=this.defer(function(f){hl(d).identify(a,d.$f(b),c,function(){return f()})}):this.Sg||P.resolve()};e.alias=function(a){var b=this;this.defer(function(){hl(b).alias(a)})};
e.set=function(a){var b=this;return this.defer(function(c){hl(b).identify(b.$f(a),function(){return c()})})};e.union=function(){};e.$f=function(a){var b={};if(a&&Fc(a)){a=l(a);for(var c=a.next();!c.done;c=a.next()){var d=l(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function il(){pa("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}
function hl(a){var b=il();window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,b.load(a.Bd),b.page({path:location.pathname,url:location.href},{}));return b}e.defer=function(a){var b=this;return new P(function(c){b.Y.setTimeout(function(){return a(c)},0)})};function jl(a){wc.call(this,a);this.url=a.url}m(jl,wc);function kl(a,b,c){yc.call(this,a);this.url=a.url;this.Y=b;this.Jj=c}m(kl,yc);
function ll(a,b){b=!(!b||!b.getItem("sensorsDataLoggingEnabled"));window.sensorsDataAnalytic201505="sa";var c={},d={};window.sa=(d.para=(c.name="sa",c.server_url=a.url,c.heatmap={},c.cross_domain=!0,c.show_log=b,c.send_type="ajax",c),d);b=new P(function(a,b){var c=document.createElement("script");c.src="https://static.canva.com/static/lib/sensorsdata-1.10.9.min.js";c.onerror=function(a){return b(a)};c.onload=function(){return a(window.sa)};document.body.appendChild(c)});b.then(function(a){var b=["utm_source","utm_medium",
"utm_term","utm_content","utm_campaign"];window.location.search.substring(1).split("\x26").forEach(function(c){var d=l(c.split("\x3d"));c=d.next().value;d=d.next().value;if(b.includes(c)){var k={};d&&a&&a.Bm&&a.Bm((k["$latest_"+c]=decodeURIComponent(d),k))}})});return new kl(a,Xg,b)}e=kl.prototype;e.track=function(a,b){var c=this;return this.Jj.then(function(d){return d.track(a,zc(c,b))})};e.identify=function(a,b){var c=this;return this.Jj.then(function(d){d.login(a);b&&d.setProfile(c.$f(b))})};
e.alias=function(){};e.set=function(){};e.union=function(){};e.$f=function(a){var b={};if(a&&Fc(a)){a=l(a);for(var c=a.next();!c.done;c=a.next()){var d=l(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function ml(a,b){il();if(a instanceof dl)b=new el(a);else if(a instanceof fl)b=new gl(a,Xg);else if(a instanceof jl)b=ll(a,b);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}
function nl(){var a=xa(window.analyticsConfig),b=x("impl",a),c=null;try{if(window.localStorage)c=new cl(window.localStorage,void 0);else throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}catch(d){}switch(b){case "console":return ml(new dl(xc(a)),c);case "segment":return b=xc(a),a=new fl({ic:b.ic,jc:b.jc,user:b.user,g:b.g,Wa:b.Wa,Mb:b.Mb,eb:b.eb,Bd:x("segmentWriteKey",a),R:b.R,ac:b.ac}),ml(a,c);case "sensorsdata":return b=xc(a),a=new jl({ic:b.ic,jc:b.jc,
user:b.user,g:b.g,Wa:b.Wa,Mb:b.Mb,eb:b.eb,url:x("sensorsDataUrl",a),R:b.R,ac:b.ac}),ml(a,c);default:throw Error('No such analytics type: "'+b+'"');}};function ol(){}ol.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function pl(){}pl.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function ql(a){switch(a){case "NONE":return"NONE";case "LOG":return"LOG";case "THROW":return"THROW";default:throw Error("unknown DocumentDeserializationMode: "+a);}}function rl(a,b,c){this.u=a;this.Gg=b;this.Gm=c;this.path="/documents"}e=rl.prototype;e.duplicate=function(a){return V(this.u,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),Pe(a)).get(0).tap(sl(this,"CreateDocumentResponseProto (duplicate)",qg)).then(vg)};
e.delete=function(a){return V(this.u,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};e.move=function(a,b,c){return V(this.u,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};e.getDocument=function(a){a=[this.path,null!=a.vl?"/"+encodeURIComponent(a.vl):"","?includePages\x3d"+encodeURIComponent(String(!!a.Bn))].join("");return U(this.u,a).get(0).tap(sl(this,"GetDocumentResponseProto",sg)).then(yg)};
e.search=function(){throw Error("unsupported");};function sl(a,b,c){return function(d){try{c(xa(d))}catch(f){switch(a.Gg){case "THROW":throw f;case "LOG":a.Gm.log("Failed deserialization of "+b,{error:f})}}}};function tl(){}tl=Backbone.View.extend({});e=tl.prototype;e.events=function(){return{"keydown .sidebarSearchText":this.hh,"input .sidebarSearchText":this.le,"focus .sidebarSearchText":this.jm,"blur .sidebarSearchText":this.Ml}};e.initialize=function(a){this.Ha=a.Ha;this.$(".sidebarSearchText").attr("placeholder",this.Ha);this.Ef=a.Ef};e.Mg=function(){var a=this.$(".sidebarSearchText").not(":focus").get(0);a&&(a.focus(),a.selectionStart=a.value.length)};
e.Zm=function(a){this.$(".sidebarSearchText").val(a);this.trigger("search",a)};function ul(a,b){a.$el.toggleClass("sidebarSearchActive",b)}function vl(a){switch(a){case 13:return"select";case 27:return"cancel";case 38:return"result:previous";case 40:return"result:next";case 9:return"highlightSearchResults"}return null}e.Ml=function(a){$(a.target).attr("placeholder",this.Ha);this.trigger("blur")};
e.jm=function(a){$(a.target).one("mouseup",function(a){a.preventDefault()}).attr("placeholder","").select();ul(this,!0);this.trigger("focus")};e.hh=function(a){var b=vl(a.which);b&&(this.trigger(b),a.preventDefault())};e.le=function(a){this.trigger("search",$(a.target).val())};var wl=tl;function xl(a,b){this.Y=a;this.Ik=b||null;this.hg=this.Lf=null}xl.prototype.read=function(a){this.Lf||(yl++,zl.splice(yl,0,this));this.Lf=a;if(Al==Bl||Al==Cl)this.Y.requestAnimationFrame(Dl),Al=El;return this};xl.prototype.write=function(a){this.hg||(Fl++,Gl.splice(Fl,0,this));this.hg=a;Al==Bl&&(this.Y.requestAnimationFrame(Dl),Al=El);return this};var Bl=0,El=1,Cl=3,Al=Bl,zl=[],Gl=[],yl=0,Fl=0;
function Dl(){var a,b;Al=2;Fl=-1;for(a=0;a<zl.length;a++){yl=a;b=zl[a];var c=b.Lf;b.Lf=null;c&&c.call(b.Ik,b)}zl.length=0;yl=-1;Al=Cl;for(a=0;a<Gl.length;a++)Fl=a,b=Gl[a],c=b.hg,b.hg=null,c&&c.call(b.Ik,b);Gl.length=0;Fl=-1;Al!=El&&(Al=Bl)};function Hl(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.ed=null;this.be={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.config=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.Ri=new c(function(a){a.forEach(function(a){b.handle(a)})})}Hl.prototype.normalize=function(a){return a.toLowerCase()};Hl.prototype.on=function(a,b){a=this.normalize(a);this.be.hasOwnProperty(a)||(this.be[a]=[]);this.be[a].push(b);return this};
Hl.prototype.handle=function(a){function b(b){var f=c.normalize(b),g=new jQuery.Event(b);c.ed&&(g.target=a.target,g.currentTarget=c.ed.get(0),c.be.hasOwnProperty(f)&&c.be[f].forEach(function(a){a.call(c.ed,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
Hl.prototype.observe=function(a){var b=$(a).get(0);if(this.ed)throw Error("Already observing an element");b&&(this.Ri.observe(b,this.config),this.ed=$(a))};function Il(a,b){this.Yi=this.Xi=this.Wi=this.Vi=this.Ed=this.Vc=this.sh=this.th=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.eg=this.ef=null;this.Ok=!!b;this.Rh=new xl(Xg,this);this.Sh=new xl(Xg,this);this.Xf=new Hl({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.J=a;this.ab=$("\x3cdiv\x3e").addClass("scrollThumb");this.fb=$("\x3cdiv\x3e").addClass("scrollThumb");this.Tb=this.Tb.bind(this);this.Bf=this.Bf.bind(this);this.zf=
this.zf.bind(this);this.Af=this.Af.bind(this);this.xf=this.xf.bind(this);this.yf=this.yf.bind(this);this.je=this.je.bind(this);this.ke=this.ke.bind(this);this.vf=this.vf.bind(this);this.wf=this.wf.bind(this)}e=Il.prototype;e.trigger=Backbone.Events.trigger;e.on=Backbone.Events.on;e.off=Backbone.Events.off;
e.render=function(){this.J.addClass("scrollElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.ab).insertAfter(this.J);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.fb).insertAfter(this.J);Jl(this);this.J.on("scroll",this.Bf);this.J.on("transitionend",this.Tb);this.J.on("mouseenter",this.zf);this.J.on("mouseleave",this.Af);this.ab.on("mousedown",this.xf);this.fb.on("mousedown",this.yf);this.Xf.on("attrModified",this.Tb);this.Xf.on("subtreeModified",this.Tb);
this.Xf.observe(this.J);$("\x3cspan\x3e").appendTo(this.J).remove();$(window).on("resize",this.Tb);return this};e.remove=function(){var a=this.Xf;a.Ri.disconnect();a.ed=null;this.J.off("scroll",this.Bf);this.J.off("transitionend",this.Tb);this.J.off("mouseenter",this.zf);this.J.off("mouseleave",this.Af);this.ab.off("mousedown",this.xf);this.fb.off("mousedown",this.yf);$(window).off("resize",this.Tb);return this};
function Jl(a){(new xl(Xg,a)).read(function(a){var c=this.J.prop("clientWidth"),d=this.J.prop("offsetWidth"),f=this.J.prop("clientHeight"),g=this.J.prop("offsetHeight");a.write(function(){d>c&&this.J.css("margin-right",c-d);g>f&&this.J.css("margin-bottom",f-g);this.Rh.read(this.Rk)})})}
e.Rk=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.Vc,d=this.Ed;this.scrollWidth=this.J.prop("scrollWidth");this.scrollHeight=this.J.prop("scrollHeight");this.th=this.J.prop("clientWidth");this.sh=this.J.prop("clientHeight");this.Vc=this.ab.parent().outerWidth();this.Ed=this.fb.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.Vc||d!==this.Ed)this.scrollTop=this.scrollLeft=-1,this.Rh.write(this.Dm),this.Sh.read(this.Sk)};
e.Dm=function(){var a=Math.round(this.Ed*this.sh/this.scrollHeight);this.ab.css("width",Math.round(this.Vc*this.th/this.scrollWidth)+"px");this.fb.css("height",a+"px");var a=this.th<this.scrollWidth,b=this.sh<this.scrollHeight,c=a!==this.ef,d=b!==this.eg;c&&(this.ef=a,this.ab.toggleClass("disabled",!a));d&&(this.eg=b,this.fb.toggleClass("disabled",!b));this.Ok&&(c||d)&&this.trigger("change:scrollability",this.ef,this.eg)};
e.Sk=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.J.scrollLeft();this.scrollTop=this.J.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.Sh.write(this.Em),this.Ok&&(this.ef||this.eg)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};e.Em=function(){var a=Math.round(this.Ed*this.scrollTop/this.scrollHeight);this.ab.css("transform","translateX("+Math.round(this.Vc*this.scrollLeft/this.scrollWidth)+"px)");this.fb.css("transform","translateY("+a+"px)")};
e.Tb=function(){this.Rh.read(this.Rk)};e.Bf=function(){this.Sh.read(this.Sk)};e.zf=function(){this.ab.addClass("ready");this.fb.addClass("ready")};e.Af=function(){this.ab.removeClass("ready");this.fb.removeClass("ready")};e.xf=function(a){0===a.button&&(this.Vi=a.screenX,this.Xi=this.scrollLeft,this.ab.addClass("active"),$(document).on("mousemove",this.je).on("mouseup",this.vf),a.preventDefault(),a.stopPropagation())};
e.je=function(a){this.J.scrollLeft(this.Xi+Math.round((a.screenX-this.Vi)*this.scrollWidth/this.Vc))};e.vf=function(a){this.je(a);this.ab.removeClass("active");$(document).off("mousemove",this.je).off("mouseup",this.vf)};e.yf=function(a){0===a.button&&(this.Wi=a.screenY,this.Yi=this.scrollTop,this.fb.addClass("active"),$(document).on("mousemove",this.ke).on("mouseup",this.wf),a.preventDefault(),a.stopPropagation())};
e.ke=function(a){this.J.scrollTop(this.Yi+Math.round((a.screenY-this.Wi)*this.scrollHeight/this.Ed))};e.wf=function(a){this.ke(a);this.fb.removeClass("active");$(document).off("mousemove",this.ke).off("mouseup",this.wf)};function Kl(a,b,c){this.text=b||null;b=$c(a);this.text&&this.text.toLocaleLowerCase()===b.cg().toLocaleLowerCase()&&(this.text=null);this.Qi=c||null;this.l=a}Kl.prototype.on=Backbone.Events.on;Kl.prototype.off=Backbone.Events.off;Kl.prototype.trigger=Backbone.Events.trigger;function Ll(){}Ll=nh.extend({className:"designSearchPopover"});Ll.create=function(a){return new Ll({position:"leftTop",l:a})};e=Ll.prototype;e.initialize=function(a){nh.prototype.initialize.call(this,a);this.l=a.l;this.lk=[];this.Zb=null};e.events=function(){return _.extend({},nh.prototype.events.call(this),{"mouseenter .designSearchResult":this.nm,"click .designSearchResult":this.Sl,keydown:this.hh})};
function Ml(a,b){function c(a,c){var f=new Kl(d.l,a.Tc(),a.Cl()),k=a.o(),r=oh(a.o(),null),B=f.text||$c(f.l).cg();f.Qi&&(null===f.text||""===f.text)&&(B=f.Qi+"  "+B);return{id:k,href:r,title:B,thumbnail:a.qj().url,active:c===b.selectedIndex,designType:a.Cl()}}var d=a,f=function(a){return 0<a.length?a.map(c).map(d.Hl.bind(d)).join(""):d.xl({noResultsMessage:fd(d.l).format("designSearchNoResults")})}(b.Nf);a.$(".content").addClass("scrollPane").html('\x3cul class\x3d"designSearchResultList"\x3e'+f+
"\x3c/ul\x3e");a.lk=b.Nf.map(function(a){return a.o()});fh(a,xd(fd(a.l),b.Nf.length));a.$el.toggleClass("designSearchNoResults",0===b.Nf.length);a.Zb||(a.Zb=new Il(a.$(".content")),a.Zb.render(),a.on("remove",function(){this.Zb.remove()}))}
function Ol(a,b,c){var d=a.$(".designSearchResult").eq(b);a.$(".designSearchResultActive").removeClass("designSearchResultActive");if(0>b)return!1;d.addClass("designSearchResultActive").focus();if(!c){var f=a.$(".designSearchResultActive");c=f.offset();f=f.height();a=a.$(".content");var g=a.height(),h=a.scrollTop(),p=Math.floor(g/f);b*f<h?a.scrollTop(h-f):c&&c.top>g&&a.scrollTop(Math.max(0,(b-(p-1))*f))}return 0<d.length}
e.Sl=function(a){a=$(a.target).closest(".designSearchResult").index();0<=a&&this.trigger("select",this.lk[a])};e.nm=function(a){this.trigger("result:hover",$(a.target).closest(".designSearchResult").index())};
e.hh=function(a){38===a.which?(this.trigger("result:previous"),a.preventDefault()):40===a.which?(this.trigger("result:next"),a.preventDefault()):27===a.which?this.trigger("cancel"):37===a.which?(this.trigger("cancel"),a.preventDefault()):9===a.which?(this.trigger("updateSearchText"),a.preventDefault()):13!==a.which&&this.trigger("key:passthrough",a)};e.xl=_.template('\x3cli class\x3d"designSearchResultNone"\x3e\x3c%- noResultsMessage %\x3e\x3c/li\x3e');e.Hl=_.template('\x3ca class\x3d"designSearchResult\x3c% if (active) { %\x3e designSearchResultActive\x3c% } %\x3e" href\x3d"\x3c%- href %\x3e" target\x3d"_blank"\x3e\x3cdiv class\x3d"designSearchResultThumb" style\x3d"background-image:url(\x3c%- thumbnail %\x3e);"\x3e\x3c/div\x3e\x3cdiv class\x3d"designSearchResultDetail"\x3e\x3ch4 class\x3d"designSearchResultDetailTitle"\x3e\x3c%- title %\x3e\x3c/h4\x3e\x3cspan class\x3d"designSearchResultDetailSummary"\x3e\x3c%- designType %\x3e\x3c/span\x3e\x3c/div\x3e\x3c/a\x3e');
var Pl=Ll;function Ql(a){this.Ig=a.Ig;this.dh=a.dh;this.Eg=void 0!==a.Eg?a.Eg:500;this.qa=null;this.Of=[];this.selectedIndex=0;this.l=a.l;this.va=a.va;this.Ag=a.Ag;this.j=a.j;this.re="";this.listenTo(this.va,{search:_.debounce(this.Hm,this.Eg),select:this.Zg.bind(this,!0),cancel:this.pi,focus:this.Zg.bind(this,!1),"result:next":this.pk,"result:previous":this.qk,highlightSearchResults:this.Gl,blur:this.tm})}function Rl(a,b){var c=String.fromCharCode(b.which);b.shiftKey||(c=c.toLowerCase());return a+c}
var Sl=[{from:8,to:8,gf:function(a){return a.slice(0,-1)}},{from:32,to:32,gf:Rl},{from:65,to:90,gf:Rl},{from:48,to:57,gf:Rl}];e=Ql.prototype;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.stop=function(){this.stopListening(this.va);this.qa&&this.qa.remove();return this};function Tl(a,b,c){a.selectedIndex=Math.max(0,Math.min(a.Of.length-1,b));a.qa&&Ol(a.qa,a.selectedIndex,!!c)}e.pi=function(){this.qa?(this.qa&&this.qa.remove(),this.va.Mg()):this.va.$(".sidebarSearchText").blur()};
e.Zg=function(a,b){if(""!==this.re&&(b||0!==this.Of.length)){if(!this.qa){b=Ul;var c;c=this.va;c=c.Ef?P.resolve(c.Ef.animate({scrollTop:$(".sidebarSearch").parent().scrollTop()+$(".sidebarSearch").position().top},400).promise()):P.resolve();this.qa=b(this,c)}this.qa&&Ml(this.qa,{Nf:this.Of,selectedIndex:this.selectedIndex});a&&(Ol(this.qa,0,!1)||this.va.Mg());ul(this.va,!0)}};e.pk=function(){Tl(this,this.selectedIndex+1)};e.qk=function(){Tl(this,this.selectedIndex-1)};
e.Gl=function(){this.qa&&Ol(this.qa,this.selectedIndex,!1)};
e.Hm=function(a){function b(a){f.Of=a;f.selectedIndex>=a.length?f.selectedIndex=a.length-1:0>f.selectedIndex&&(f.selectedIndex=0);f.Zg(!0,!0)}function c(a){return a.xn()}function d(){f.va.$el.toggleClass("sidebarSearchInProgress",!1)}var f=this;this.re=a;a.length>=this.dh?(f.j.track("design_search",{query:.05>Math.random()?a:void 0}),f.va.$el.toggleClass("sidebarSearchInProgress",!0),f.Ig.search(a+"*").then(c).then(b).finally(d)):""===a&&this.qa&&this.qa.remove()};
function Ul(a,b){var c=a.Ag(a.l);a.listenTo(c,{remove:a.um,cancel:a.pi,"result:hover":function(a){Tl(this,a,!0)}.bind(a),"result:previous":a.qk,"result:next":a.pk,updateSearchText:a.va.Mg.bind(a.va),"key:passthrough":a.om});kh(c,a.va.$el);b.then(c.Ae.bind(c));return c}e.om=function(a){function b(b){return a.which>=b.from&&a.which<=b.to}var c;c=a.originalEvent;var d=c.altKey||c.metaKey?null:Sl.filter(b)[0];d&&(a.preventDefault(),c=d.gf(this.re,c),c!==this.re&&(this.re=c,this.va.Zm(c)))};
e.um=function(){this.stopListening(this.qa);this.qa=null;this.selectedIndex=0;ul(this.va,this.va.$(".sidebarSearchText").is(":focus"))};e.tm=function(){this.qa||ul(this.va,!1)};function Vl(){var a=window.location.pathname;return 0<="/ /shared-with-you /team-stream /trash /create-a-design /1".split(" ").indexOf(a)||/^\/folder\/.+/.test(a)};function Wl(a){this.id=a.id||null;this.systemFolder=a.Tm;return this}Wl.prototype.o=function(){return this.id};Wl.prototype.$d=function(){if(this.systemFolder)return Object.freeze(t(Xl,this.systemFolder))};function Yl(a){return a.$d()?Object.freeze(t(Wl,{systemFolder:Object.freeze(t(Xl,{brand:a.X(),type:a.$d(),user:a.ka()}))})):Object.freeze(t(Wl,{id:a.o()}))}function Xl(){}Xl.prototype.X=function(){return this.brand};Xl.prototype.Va=function(){return this.type};Xl.prototype.ka=function(){return this.user};
function Zl(){}function $l(a){return Object.freeze(t(Zl,a))}Zl.prototype.Ua=function(){if(this.folder)return am(this.folder)};Zl.prototype.ij=function(){xa(this.accessSummary);return bm(this.accessSummary)};
function cm(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.xe;this.systemFolder=a.Tm||null;this.acl=a.nb;this.access=a.dl;this.name=a.name||null;this.description=a.description||null;this.brand=a.g||"";this.itemCount=a.Cn||0;this.user=a.user||"";this.modifiedDate=a.En||0;this.shared=a.ud||!1;this.type=a.type||dm;this.userSettings=a.Ln||null}var dm="DESIGN";function am(a){return Object.freeze(t(cm,a))}e=cm.prototype;e.o=function(){return this.id};
e.qj=function(){if(this.thumbnail)return Object.freeze(t(em,this.thumbnail))};e.$d=function(){return this.systemFolder};e.Ud=function(){if(this.acl)return Object.freeze(t(fm,this.acl))};e.getName=function(){return this.name};e.X=function(){return this.brand};e.ka=function(){return this.user};e.Va=function(){return this.type};e.Rb=function(){if(this.userSettings)return Object.freeze(t(gm,this.userSettings))};e.ug=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return am(a)};
am({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""});am({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""});
am({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",width:200},user:""});function em(){}em.prototype.Pa=function(){return this.url};function fm(a){a=void 0===a?{}:a;this.entries=a.entries}fm.prototype.ug=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(t(fm,a))};
fm.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(t(hm,a))})};function hm(a){a=void 0===a?{}:a;this.user=a.user;this.brand=a.g;this.access=a.dl}hm.prototype.ug=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(t(hm,a))};hm.prototype.X=function(){return this.brand};hm.prototype.ka=function(){return this.user};function im(){}e=im.prototype;e.Yk=function(a){this.folder=a;return this};
e.Wh=function(a){this.name=a;return this};function jm(a){a.trash=!0;return a}e.gg=function(a){this.userSettings=a;return this};e.Ua=function(){if(this.folder)return Object.freeze(t(Wl,this.folder))};e.Ud=function(){if(this.acl)return Object.freeze(t(fm,this.acl))};e.getName=function(){return this.name};e.Rb=function(){if(this.userSettings)return Object.freeze(t(gm,this.userSettings))};function km(a){this.Wk=a.Wk||[];this.Vj=a.Vj}
function bm(a){return new km({Wk:E(fc,"users",a),Vj:v("others",a)})}function lm(){}function mm(a){return Object.freeze(t(lm,a))}lm.prototype.Ua=function(){if(this.folder)return am(this.folder)};lm.prototype.ij=function(){if(this.accessSummary)return bm(this.accessSummary)};function nm(){}function om(a){return Object.freeze(t(nm,a))}nm.prototype.Xd=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return am(a)})};nm.prototype.$a=function(){return this.continuation};
function pm(){}e=pm.prototype;e.Zk=function(a){this.limit=a;return this};e.Vh=function(a){this.brand=a;return this};e.$k=function(a){this.user=a;return this};function qm(){var a=new pm;a.folderTypes=[dm];return a}e.Xk=function(a){this.continuation=a;return this};e.gg=function(){this.projection||(this.projection=[]);this.projection.push("USER_SETTINGS");return this};e.Rc=function(){return this.limit};e.X=function(){return this.brand};e.ka=function(){return this.user};e.$a=function(){return this.continuation};
function rm(a){return Object.keys(a).map(function(a){var c=this[a];if(Array.isArray(c))return a+"\x3d"+c.map(encodeURIComponent).join(",");if("object"!==typeof c)return a+"\x3d"+encodeURIComponent(c)},a).filter(Boolean).join("\x26")}function sm(){}function tm(a){return Object.freeze(t(sm,a))}sm.prototype.Ua=function(){if(this.folder)return am(this.folder)};function um(){}e=um.prototype;e.Wh=function(a){this.name=a;return this};e.Vh=function(a){this.brand=a;return this};
e.$k=function(a){this.user=a;return this};function vm(a){a.type=dm;return a}e.gg=function(a){this.userSettings=a;return this};e.getName=function(){return this.name};e.X=function(){return this.brand};e.ka=function(){return this.user};e.Va=function(){return this.type};e.Rb=function(){return this.userSettings};function gm(a){this.starred=a.yd};function wm(a){this.u=a;this.url="/folders"}wm.prototype.Pe=P.method(function(a){return V(this.u,this.url+"/~",a).get(0).then(tm)});wm.prototype.Ze=P.method(function(a){a=this.url+"/~?"+rm(a);return U(this.u,a).get(0).then(om)});wm.prototype.Ua=P.method(function(a){var b=rm(a);a=""+this.Pa(a.Ua())+(b?"?"+b:"");return U(this.u,a).get(0).then(mm)});wm.prototype.Pa=function(a){var b=a.$d();return b?[this.url,"~/system",b.ka(),b.Va()].join("/"):[this.url,a.o()].join("/")};
P.method(function(a){var b=this.Pa(a.Ua())+"?removeItems";return V(this.u,b,a).return()});P.method(function(a){var b=this.Pa(a.from)+"?moveItems";return V(this.u,b,a).return()});wm.prototype.Qh=P.method(function(a){var b;if(a.Ua().$d())throw Error("System folders cannot be updated");b=this.url+"/"+a.Ua().o();return V(this.u,b,a).get(0).then($l)});function xm(a,b){var c=a.Rb()&&a.Rb().starred,d=b.Rb()&&b.Rb().starred;return c^d?c?-1:1:(a.getName()||"").toLowerCase().localeCompare((b.getName()||"").toLowerCase())};function ym(a){this.kb=a.kb;this.Sd=a.Sd;this.Rd=!1;new Map;this.Qb=a.Qb;this.N=a.N;this.gj=a.gj}e=ym.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;var zm=new Q("fi",!0);function Am(a){var b=new Bm({Qk:function(a,b){return a.ug(b)}}),c=new Bm({Qk:function(a,b){return Object.assign({},a,b)}});return new ym({kb:b,Sd:c,Qb:a.Qb,gj:a.F.get(zm),N:a.N})}e=ym.prototype;
e.fetch=function(){function a(a){var b;if(b=a instanceof Array)a=a[1],b=500<=a&&600>a;return b}var b=this;this.Rd||(this.Rd=!0,this.trigger("fetch:start"),this.Ze([]).bind(this).then(this.em).catch(a,this.fm).catch(function(a){b.gh();throw a;}))};e.Ze=function(a,b){var c=this,d=qm().gg().Zk(100).$k(this.N);b&&d.Xk(b);return this.Qb.Ze(d).then(function(b){var d=a.concat(b.Xd()||[]);return(b=b.$a())?c.Ze(d,b):P.resolve(d)})};e.Xd=function(){return Object.freeze(this.kb.getAll().sort(xm))};e.Ua=function(a){return this.kb.get(a)};
e.em=function(a){var b=this;a.forEach(function(a){return b.kb.update(a.o(),a)});this.Rd=!1;this.trigger("fetch:success",this.Xd())};e.gh=function(){this.Rd=!1;this.trigger("fetch:fail",!1)};e.fm=function(){this.Rd=!1;this.trigger("fetch:fail",!0)};
e.create=function(a){var b=this;a=vm((new um).Wh(a));var c=_.uniqueId("CREATE_");this.Qb.Pe(a).then(this.Wl.bind(this,c)).catch(function(a){return a instanceof Array&&a[0]&&"quota exceeded"==a[0].error},this.Rj.bind(this,c,"quota exceeded")).catch(function(a){b.Rj(c,a);throw a;});P.resolve().then(this.trigger.bind(this,"create:start",c));return c};e.Wl=function(a,b){b=b.Ua();this.kb.add(b.o(),b);this.trigger("create:success",a,b)};e.Rj=function(a,b){this.trigger("create:fail",a,b)};
e.delete=function(a){var b=this;q(this.kb.has(a.o()),"attempting to delete unknown folder");var c=jm((new im).Yk(Yl(a)));this.Qb.Qh(c).bind(this).then(this.am).catch(function(c){b.trigger("delete:fail",a);throw c;});this.trigger("delete:start",a)};e.am=function(a){a=a.Ua();var b=a.o();this.kb.delete(b);this.Sd.has(b)&&this.Sd.delete(b);this.trigger("delete:success",a)};e.Fl=function(a){var b=a.Ua(),c=b.o();this.Sd.update(c,{hn:a.ij()});return this.kb.update(c,b)};
e.change=function(a,b,c){var d=this;q(this.kb.has(b.o()),"attempting to change unknown folder");var f=(new im).Yk(Yl(b));if("name"===a)f.Wh(c);else if("description"===a)f.description=c;else if("acl"===a)f.acl=c;else if("userSettings"===a)f.gg(c);else{if("metadata"===a)throw Error("not an actionable change");throw Error("unrecognised change type");}this.Qb.Qh(f).bind(this).then(this.Fl).then(this.Ol.bind(this,a,b,c)).catch(function(f){d.trigger("change:fail",a,b,c);throw f;});this.trigger("change:start",
a,b,c)};e.Ol=function(a,b,c,d){if("acl"===a){if(!d.Ud())throw Error("returned folder does not have an ACL field");c=d.Ud()}this.trigger("change:success",a,d,c)};function Bm(a){this.map=new Map;this.$m=a.Qk}e=Bm.prototype;e.clear=function(){this.map.clear()};e.has=function(a){return this.map.has(a)};e.set=function(a,b){this.map.set(a,b);return b};e.add=function(a,b){q(!this.has(a),"Can not add {} - item is already being managed",a);return this.set(a,b)};
e.update=function(a,b){return this.has(a)?this.set(a,this.$m(this.map.get(a),b)):this.add(a,b)};e.delete=function(a){q(this.has(a),"Can not delete {} - item is not being managed",a);return this.map.delete(a)};e.get=function(a){q(this.has(a),"Can not get {} - item is not being managed",a);return this.map.get(a)};e.getAll=function(){return Array.from(this.map.values())};Object.defineProperties(Bm.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.map.size}}});function Cm(a){soy.asserts.assertType(goog.isString(a.dd)||a.dd instanceof goog.soy.data.SanitizedContent,"newFolder",a.dd,"string|goog.soy.data.SanitizedContent");var b=a.dd;soy.asserts.assertType(goog.isString(a.Sc)||a.Sc instanceof goog.soy.data.SanitizedContent,"getMoreFolders",a.Sc,"string|goog.soy.data.SanitizedContent");var c=a.Sc;soy.asserts.assertType(goog.isString(a.Qc)||a.Qc instanceof goog.soy.data.SanitizedContent,"folderQuotaHint",a.Qc,"string|goog.soy.data.SanitizedContent");var d=
a.Qc;soy.asserts.assertType(goog.isBoolean(a.te)||1===a.te||0===a.te,"showQuota",a.te,"boolean");var f=!!a.te;soy.asserts.assertType(goog.isNumber(a.Cg),"currentCount",a.Cg,"number");var g=a.Cg;soy.asserts.assertType(goog.isNumber(a.Yg),"maxCount",a.Yg,"number");a=a.Yg;var h=f&&g>=a,p='\x3cmenu class\x3d"sidebarMenu"\x3e\x3cli class\x3d"noTab noHover"\x3e\x3cbutton type\x3d"button" class\x3d"buttonSmall buttonCreateFolder buttonCreateFolder--'+soy.$$escapeHtmlAttribute(h?"getMore":"create")+'"\x3e',
k;k=k={W:"buttonCreateFolder__icon"};soy.asserts.assertType(null==k.W||k.W instanceof goog.soy.data.SanitizedContent||goog.isString(k.W),"cssClass",k.W,"null|string|undefined");k=k.W;k=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg  "+(k?'class\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+' viewBox\x3d"0 0 17 17" width\x3d"17" height\x3d"17" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M8.783 14.483c-3.385 0-6.14-2.754-6.14-6.14 0-3.384 2.755-6.138 6.14-6.138 3.384 0 6.138 2.754 6.138 6.14 0 3.384-2.753 6.138-6.137 6.138m0-14.167C4.35.316.755 3.91.755 8.344s3.594 8.028 8.028 8.028c4.433 0 8.027-3.595 8.027-8.028S13.216.316 8.783.316"/\x3e\x3cpath d\x3d"M13.066 8.344c0-.522-.422-.944-.944-.944H9.727V5.005c0-.522-.422-.944-.944-.944-.523 0-.945.423-.945.945V7.4H5.444c-.523 0-.945.422-.945.944 0 .26.105.497.276.668.17.17.407.276.668.276h2.394v2.395c0 .26.106.497.277.668.17.172.407.278.668.278.522 0 .944-.423.944-.945V9.288h2.395c.522 0 .944-.422.944-.944"/\x3e\x3c/svg\x3e');
b=""+(p+k+'\x3cspan class\x3d"buttonCreateFolder__title"\x3e'+soy.$$escapeHtml(h?c:b)+"\x3c/span\x3e\x3c/button\x3e"+(f?'\x3cspan class\x3d"designFolderList__quotaLabel sidebar__pill '+(g==a?"sidebar__pill--red":"")+'" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e'+soy.$$escapeHtml(g)+"/"+soy.$$escapeHtml(a)+"\x3c/span\x3e":"")+"\x3c/li\x3e\x3c/menu\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function Dm(a){soy.asserts.assertType(goog.isString(a.pf)||a.pf instanceof goog.soy.data.SanitizedContent,"loadingText",a.pf,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designFolderListMessage designFolderListLoading"\x3e'+soy.$$escapeHtml(a.pf)+"\x3c/div\x3e")}goog.DEBUG&&(Dm.vk="DesignFolderListTemplates.loading");
function Em(a){soy.asserts.assertType(goog.isString(a.Mc)||a.Mc instanceof goog.soy.data.SanitizedContent,"errorMessageHtml",a.Mc,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designFolderListMessage designFolderListError"\x3e\x3cp\x3e'+soy.$$escapeHtml(a.Mc)+"\x3c/p\x3e\x3c/div\x3e")}goog.DEBUG&&(Em.vk="DesignFolderListTemplates.error");
function Fm(a){soy.asserts.assertType(goog.isString(a.nd)||a.nd instanceof goog.soy.data.SanitizedContent,"retry",a.nd,"string|goog.soy.data.SanitizedContent");var b=a.nd;soy.asserts.assertType(goog.isString(a.$c)||a.$c instanceof goog.soy.data.SanitizedContent,"loadFolders",a.$c,"string|goog.soy.data.SanitizedContent");a=a.$c;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designFolderListMessage designFolderListRetry"\x3e\x3cp\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"+fk({v:"buttonRetry",
text:a})+"\x3c/div\x3e")}goog.DEBUG&&(Fm.vk="DesignFolderListTemplates.retry");
function Gm(a){soy.asserts.assertType(goog.isString(a.$e)||a.$e instanceof goog.soy.data.SanitizedContent,"folderId",a.$e,"string|goog.soy.data.SanitizedContent");var b=a.$e;soy.asserts.assertType(goog.isString(a.af)||a.af instanceof goog.soy.data.SanitizedContent,"folderName",a.af,"string|goog.soy.data.SanitizedContent");var c=a.af;soy.asserts.assertType(goog.isString(a.link)||a.link instanceof goog.soy.data.SanitizedContent,"link",a.link,"string|goog.soy.data.SanitizedContent");var d=a.link;soy.asserts.assertType(goog.isString(a.sb)||
a.sb instanceof goog.soy.data.SanitizedContent,"defaultName",a.sb,"string|goog.soy.data.SanitizedContent");var f=a.sb;soy.asserts.assertType(goog.isBoolean(a.ud)||1===a.ud||0===a.ud,"shared",a.ud,"boolean");var g=!!a.ud;soy.asserts.assertType(goog.isBoolean(a.yd)||1===a.yd||0===a.yd,"starred",a.yd,"boolean");a=!!a.yd;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"sidebarMenuLink designFolder__link" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'" title\x3d"'+soy.$$escapeHtmlAttribute(c)+
'" data-folder-id\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e'+(g?hk({W:"designFolder__icon",Sa:a}):gk({W:"designFolder__icon",Sa:a}))+'\x3cspan class\x3d"designFolder__title"\x3e'+soy.$$escapeHtml(c)+'\x3c/span\x3e\x3c/a\x3e\x3cinput type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(f)+'" maxlength\x3d"255" value\x3d"'+soy.$$escapeHtmlAttribute(c)+'" /\x3e')};function Hm(a){Backbone.View.call(this,{className:"designFolder",tagName:"li"});this.model=a.Bl;this.ge=!1;this.O=a.O}m(Hm,Backbone.View);Hm.prototype.events=function(){var a=this;return{"blur input":function(){a.ge&&(a.ge=!1,Im(a))},"focus input":function(){a.ge=!0},"keydown input":function(b){27===b.which&&a.$("input").blur()},"keypress input":function(b){13===b.which&&Im(a)}}};
Hm.prototype.render=function(){var a=this.model.getName()||this.O.sb(),b=this.model.o();this.$el.html(Gm({$e:b,af:a,sb:this.O.sb(),link:"/folder/"+b,ud:!!this.model.shared,yd:!(!this.model.Rb()||!this.model.Rb().starred)}).toString());return this};function Jm(a,b){a.ge=!1;a.$el.toggleClass("naming",b);b&&(a.$("input").select().focus(),a.ge=!0)}function Km(a,b){a.$el.toggleClass("selected",b)}function Im(a){var b=a.$("input").val().trim()||a.O.sb();a.$("a").text(b);a.trigger("name",a.model,b)};function Lm(a){Backbone.View.call(this,_.extend(a,{className:"designFolderList"}))}m(Lm,Backbone.View);e=Lm.prototype;e.events=function(){var a=this;return{"click .buttonCreateFolder--create":function(){a.trigger("add")},"click .buttonCreateFolder--getMore":function(){a.trigger("clickGetMoreFolders")},"click .buttonRetry":function(){a.trigger("retry")},"click .designFolder .designFolder__link":this.Rl,"click .designFolderList__quotaLabel":function(){return a.trigger("clickQuota")}}};
e.initialize=function(a){this.yg=a.yg;this.Ta={};this.O=a.O;this.ad=null!==a.ad?a.ad:-1};e.render=function(){Object.keys(this.Ta).forEach(function(a){var b=this.Ta[a];this.stopListening(b);b.remove();delete this.Ta[a]},this);this.$el.html(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cmenu class\x3d"sidebarMenu"\x3e\x3c/menu\x3e\x3cmenu class\x3d"designFolderListMenu sidebarMenu"\x3e\x3c/menu\x3e').toString());Mm(this);return this};
function Mm(a){var b=Object.keys(a.Ta).length;a.$("menu:first-child").replaceWith(Cm({dd:a.O.dd(),Sc:a.O.Sc(),Qc:a.O.Qc(a.ad),te:-1!==a.ad,Cg:b,Yg:a.ad}).toString())}e.Qh=function(a,b){var c=Nm(this,a);delete this.Ta[a.o()];this.Ta[b.o()]=c;c.model=b;c.render()};
function Om(a,b,c){var d=a.yg(b),f=a.$(".designFolderListMenu"),g=d.render().$el;c?g.prependTo(f):g.appendTo(f);a.Ta[b.o()]=d;a.listenTo(d,{create:function(b,c){return a.trigger("create",b,c)},name:function(b,c){return a.trigger("name",b,c)}});Mm(a)}function Pm(a){Object.keys(a.Ta).forEach(function(b){return Qm(a,am({id:b}))})}function Qm(a,b){var c=Nm(a,b);a.stopListening(c);c.remove();delete a.Ta[b.o()];Mm(a)}
function Rm(a,b){Sm(a,{Gh:Dm,Hh:{pf:a.O.format("designFolderListLoadingFolders")},ah:"designFolderListLoading",Ng:"loading",visible:b})}function Tm(a,b){Sm(a,{Gh:Em,Hh:{Mc:soydata.VERY_UNSAFE.ordainSanitizedHtml(a.O.Mc())},ah:"designFolderListError",Ng:"error",visible:b})}function Um(a,b){Sm(a,{Gh:Fm,Hh:{nd:a.O.nd(),$c:a.O.$c()},ah:"designFolderListRetry",Ng:"retry",visible:b})}e.select=function(a){a=Nm(this,a);if(Vm(this)!==a){var b=Vm(this);b&&Km(b,!1);Km(a,!0)}};
function Nm(a,b){if(a=a.Ta[b.o()])return a;throw Error("no view for folder: "+b.o());}function Vm(a){var b;_.values(a.Ta).some(function(a){if(a.$el.hasClass("selected"))return b=a,!0});return b||null}function Wm(a){return(a=Vm(a))&&a.model}function Sm(a,b){var c=a.$("."+b.ah);a.$el.toggleClass(b.Ng,b.visible);b.visible&&0===c.length?(b=b.Gh(b.Hh).toString(),a.$el.append(b)):b.visible||c.remove()}
e.Rl=function(a){a=$(a.currentTarget).attr("data-folder-id");a=this.Ta[a];if(Vm(this)!==a){var b=Vm(this);b&&Km(b,!1);Km(a,!0)}};function Xm(a){var b=this;this.Bg=a.Bg;this.hc=a.hc;this.listenTo(this.hc,{"fetch:start":this.gm,"fetch:success":this.hm,"fetch:fail":this.gh,"create:start":this.Yl,"create:success":this.Zl,"create:fail":this.Xl,"delete:start":this.bm,"delete:success":this.cm,"change:success":this.Ql});this.ze={};this.O=a.O;this.j=a.j;this.view=a.view;this.listenTo(this.view,{add:this.gl,clickGetMoreFolders:this.pl,clickQuota:this.rl,name:function(a,d){return b.Pe(a,d)},retry:this.hc.fetch})}e=Xm.prototype;
e.gm=function(){Tm(this.view,!1);Um(this.view,!1);Rm(this.view,!0)};e.hm=function(a){var b=this;Rm(this.view,!1);var c=Vm(this.view);Pm(this.view);a.forEach(function(a){return Om(b.view,a)});c&&this.view.select(c.model)};e.gh=function(a){Rm(this.view,!1);a?Um(this.view,!0):Tm(this.view,!0)};e.rl=function(){Gc(this.j,"quota_label","homepage","design_folder","design_folder_list");Ym(this)};
function Ym(a){var b=a.Bg();a.listenTo(b,{signup:function(){return window.location=b.oe},hide:function(){return a.stopListening(b)}});b.show(5)}e.gl=function(){var a=am({id:_.uniqueId("fake_"),name:this.O.sb()});Gc(this.j,"create_folder","homepage","design_folder","design_folder_list");Om(this.view,a,!0);Jm(Nm(this.view,a),!0)};e.pl=function(){Hc(this.j,ok("sidebar","get_more_folders"));Ym(this)};e.Pe=function(a,b){b=this.hc.create(b);this.ze[b]=a};
e.Yl=function(a){if(a=this.ze[a])Jm(Nm(this.view,a),!1),Nm(this.view,a).$el.toggleClass("disabled",!0)};e.Zl=function(a){var b=this;delete this.ze[a];Pm(this.view);this.hc.Xd().forEach(function(a){return Om(b.view,a)})};e.Xl=function(a,b){var c=this.ze[a];c&&(delete this.ze[a],a="quota exceeded"===b?this.O.format("designFolderListCreateFolderQuotaExceededError"):this.O.format("designFolderListCreateFolderError"),window.alert(a),Qm(this.view,c))};
e.bm=function(a){Nm(this.view,a).$el.toggleClass("hidden",!0)};e.cm=function(a){Qm(this.view,a)};e.Ql=function(a,b){var c=this;"name"===a||"userSettings"===a?(b=Wm(this.view),Pm(this.view),this.hc.Xd().forEach(function(a){return Om(c.view,a)}),b&&this.view.select(b)):"acl"===a&&(a=Nm(this.view,b),a.model=b,a.render())};e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;function Zm(a){Backbone.View.call(this,_.extend(a,{className:"tabPointer"}));this.Ji=-1}m(Zm,Backbone.View);Zm.prototype.initialize=function(a){this.Eh=a.Eh;this.Be=!!a.Be;this.style=a.style||"arrow";this.$el.addClass(this.style).toggleClass("tabPointerVertical",this.Be)};function $m(a,b,c){c=void 0===c?!1:c;a=a.Eh.children("li");c||(a=a.not(".noTab"));return a.eq(b)}
Zm.prototype.update=function(a,b,c){c=void 0===c?!1:c;(b=0<=this.Ji&&(void 0===b?!0:b))||this.$el.addClass("doNotTransition");if("arrow"===this.style){c=$m(this,a,c);var d=c.offsetParent().offset(),f=c.position(),g=c.width(),h=c.height(),p=this.$el.offsetParent().offset(),k=d.top-p.top,d=d.left-p.left;c.length&&(this.Be?this.$el.css("transform","translateY("+Math.round(f.top+k+(h-20)/2)+"px)"):this.$el.css("transform","translateX("+Math.round(f.left+d+(g-20)/2)+"px)"))}else if("rectangle"===this.style)c=
$m(this,a,c),f=c.children("a"),g=parseInt(f.css("marginLeft"),10)?0:10,c.length&&(this.Be?(h=Math.round(f.position().top),this.$el.css("transform","translate3d( -"+g+"px, "+h+"px, 0px)"),this.$el.css("height",f.height())):(h=Math.round(f.position().left-g),this.$el.css("transform","translateX("+h+"px)"),this.$el.css("height",f.height()-20)),this.$el.css("width",c.width()+g));else throw Error("unrecognised TabPointerStyle");b||(b=this.$el,0<b.length&&(b=window.getComputedStyle(b.get(0)))&&b.getPropertyValue("left"),
this.$el.removeClass("doNotTransition"));this.Ji=a};function an(){}an=Backbone.View.extend({className:"sidebarViewportContainer"});an.prototype.initialize=function(a){this.Zb=new Il(this.$(".sidebarViewport"),!0);this.listenTo(this.Zb,{"change:scrollability":this.Pl,scroll:this.sm});this.Zf=a.Zf||null;this.Og=a.Og;this.Zb.render()};an.prototype.remove=function(){this.Zb.remove();Backbone.View.prototype.remove.call(this)};an.prototype.Pl=function(a,b){this.$el.toggleClass("sidebarScrollable",b);bn(this)};
an.prototype.sm=function(){var a=this.$(".sidebarViewport").find("li.on,li.selected:not(.hidden)"),b=this.Og();if(0<a.length){var c=$(document.body).scrollTop()||$(document).scrollTop(),d=this.$(".sidebarViewport"),f=d.offset().top,c=d.scrollTop()-c,g=d.height(),h=a.offset().top-d.offset().top,d=a.height();if(a.hasClass("sidebarItemSticky")){if(h=parseInt(a.data("nonStickyItemOffsetTop"),10),h=isNaN(h)?a.get(0).offsetTop:h,a.hasClass("sidebarItemStickyTop")?c+f<h:a.hasClass("sidebarItemStickyBottom")&&
c+f+g>=h+d)this.$el.removeClass("sidebarItemListSticky sidebarItemListStickyTop sidebarItemListStickyBottom"),this.$(".sidebarMenuStickyTop").removeClass("sidebarMenuStickyTop"),this.$(".sidebarMenuStickyBottom").removeClass("sidebarMenuStickyBottom"),a.removeData("nonStickyItemOffsetTop").removeClass("sidebarItemSticky sidebarItemStickyTop sidebarItemStickyBottom").css("top","").css("bottom","")}else 0>=h?(c=$(document.body).scrollTop()||$(document).scrollTop(),a.data("nonStickyItemOffsetTop",a.offset().top+
this.$(".sidebarViewport").scrollTop()-c).addClass("sidebarItemSticky sidebarItemStickyTop").css("top",f-c),a.parent("menu").removeClass("sidebarMenuStickyBottom").addClass("sidebarMenuStickyTop"),this.$el.addClass("sidebarItemListSticky sidebarItemListStickyTop")):h+d>g&&(f=$(window).height()-(f+g),c=$(document.body).scrollTop()||$(document).scrollTop(),a.data("nonStickyItemOffsetTop",a.offset().top+this.$(".sidebarViewport").scrollTop()-c).addClass("sidebarItemSticky sidebarItemStickyBottom").css("bottom",
f+c),a.parent("menu").removeClass("sidebarMenuStickyTop").addClass("sidebarMenuStickyBottom"),this.$el.addClass("sidebarItemListSticky sidebarItemListStickyBottom"));this.Zf&&this.Zf.update(b,!1)}bn(this)};function bn(a){var b=a.$(".sidebarViewport"),c=parseInt(b.scrollTop(),10),d=b.height();a.$el.toggleClass("sidebarScrollableTop",0<c).toggleClass("sidebarScrollableBottom",c+d<b.prop("scrollHeight"))}var cn=an;function dn(a){this.$el=a}dn.prototype.remove=function(){this.$el.remove()};function Y(a){this.$el=a;this.Zc={}}Y.prototype.remove=function(){this.$el.off();this.$el.remove()};Y.prototype.on=function(a,b){q(!this.Zc[a],"listener already registered for event {}",a);this.Zc[a]=b};Y.prototype.off=function(a,b){null==a?this.Zc={}:null!=b&&this.Zc[a]!=b||delete this.Zc[a]};Y.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.Zc[a])&&d.apply(null,[].concat(ja(c)))};function en(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");
var f=a.v;soy.asserts.assertType(null==a.Nd||goog.isBoolean(a.Nd)||1===a.Nd||0===a.Nd,"dark",a.Nd,"boolean|null|undefined");var g=a.Nd;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(f?" "+soy.$$escapeHtmlAttribute(f):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function fn(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.Fe||goog.isBoolean(a.Fe)||1===a.Fe||0===a.Fe,"withShadow",
a.Fe,"boolean|null|undefined");var f=a.Fe;soy.asserts.assertType(null==a.Ee||goog.isBoolean(a.Ee)||1===a.Ee||0===a.Ee,"withRoundedCorners",a.Ee,"boolean|null|undefined");var g=a.Ee;soy.asserts.assertType(null==a.De||goog.isBoolean(a.De)||1===a.De||0===a.De,"withCloseButton",a.De,"boolean|null|undefined");var h=a.De;soy.asserts.assertType(null==a.v||a.v instanceof goog.soy.data.SanitizedContent||goog.isString(a.v),"classes",a.v,"null|string|undefined");var p=a.v;soy.asserts.assertType(null==a.Oe||
a.Oe instanceof goog.soy.data.SanitizedContent||goog.isString(a.Oe),"contentClasses",a.Oe,"null|string|undefined");a=a.Oe;return soydata.VERY_UNSAFE.ordainSanitizedHtml(en({visible:d,v:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(p?" "+p:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=f)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function gn(a){return new P(function(b){function c(f){f.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function hn(a){this.$el=a}m(hn,dn);function jn(a){q(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new hn(a)}hn.prototype.show=function(){kn(this,!0);this.$el.hasClass("mask2--blur")&&ln(this,!0)};hn.prototype.hide=function(){kn(this,!1);this.$el.hasClass("mask2--blur")&&ln(this,!1);return gn(this.$el[0])};function kn(a,b){a.$el.toggleClass("mask2--visible",b);$("body").toggleClass("mask2Visible",b)}
function ln(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function mn(a,b){var c=this;Y.call(this,a);this.Xh=b;this.Tj=this.dm.bind(this);this.$el.on("click",function(a){return c.fh(a)});this.Xh.on("keyup",this.Tj)}m(mn,Y);e=mn.prototype;e.remove=function(){Y.prototype.remove.call(this);this.Xh.off("keyup",this.Tj)};e.show=function(){var a=this;Yg(function(){return jn(a.$el).show()})};e.hide=function(){return jn(this.$el).hide()};e.fh=function(a){!$(a.target).closest(".dialog2__content").length&&nn(this)&&this.trigger(on)};
e.dm=function(a){27===a.keyCode&&nn(this)&&this.trigger(on)};function nn(a){return!!a.$el.find(".dialog2__closeButton").length}var on="CLOSE";function pn(a){var b=this;this.view=a;this.view.on(on,function(){b.close()})}pn.prototype.close=function(){var a=this;return this.view.hide().then(function(){return a.view.remove()})};function qn(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(null==a.ra||a.ra instanceof goog.soy.data.SanitizedContent||goog.isString(a.ra),"badgeLabel",a.ra,"null|string|undefined");var c=a.ra;soy.asserts.assertType(null==a.Hd||a.Hd instanceof goog.soy.data.SanitizedContent||goog.isString(a.Hd),"backgroundClasses",a.Hd,"null|string|undefined");var d=a.Hd;
soy.asserts.assertType(null==a.Ke||a.Ke instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ke),"backgroundOverlayClasses",a.Ke,"null|string|undefined");var f=a.Ke;soy.asserts.assertType(goog.isBoolean(a.Gc)||1===a.Gc||0===a.Gc,"darkHeader",a.Gc,"boolean");var g=!!a.Gc;soy.asserts.assertType(a.ca instanceof goog.soy.data.SanitizedContent||a.ca instanceof soydata.SanitizedHtml||a.ca instanceof soydata.UnsanitizedText||goog.isString(a.ca),"section1",a.ca,"!soydata.SanitizedHtml|string");var h=
a.ca;soy.asserts.assertType(null==a.K||a.K instanceof goog.soy.data.SanitizedContent||a.K instanceof soydata.SanitizedHtml||a.K instanceof soydata.UnsanitizedText||goog.isString(a.K),"section2",a.K,"?soydata.SanitizedHtml|string|undefined");var p=a.K;soy.asserts.assertType(null==a.Z||a.Z instanceof goog.soy.data.SanitizedContent||a.Z instanceof soydata.SanitizedHtml||a.Z instanceof soydata.UnsanitizedText||goog.isString(a.Z),"section3",a.Z,"?soydata.SanitizedHtml|string|undefined");var k=a.Z;soy.asserts.assertType(goog.isString(a.ta)||
a.ta instanceof goog.soy.data.SanitizedContent,"confirmButtonLabel",a.ta,"string|goog.soy.data.SanitizedContent");var r=a.ta;soy.asserts.assertType(null==a.ia||a.ia instanceof goog.soy.data.SanitizedContent||goog.isString(a.ia),"dismissLinkLabel",a.ia,"null|string|undefined");a=a.ia;return soydata.VERY_UNSAFE.ordainSanitizedHtml(fn({v:"canva2TransitionalDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"canva2TransitionalDialog__body"\x3e\x3cdiv class\x3d"canva2TransitionalDialog__header'+
(d?" canva2TransitionalDialog__headerWithBackground "+soy.$$escapeHtmlAttribute(d):"")+'"\x3e\x3cdiv class\x3d"canva2TransitionalDialog__heading '+(d?" canva2TransitionalDialog__headingSection":"")+'"\x3e'+(c?'\x3cspan class\x3d"sidebar__pill canva2TransitionalDialog__pill"\x3e'+soy.$$escapeHtml(c)+"\x3c/span\x3e":"")+'\x3ch2 class\x3d"'+(g?"canva2TransitionalDialog__title_dark":"")+'"\x3e'+soy.$$escapeHtml(b)+"\x3c/h2\x3e\x3c/div\x3e"+(f?'\x3cdiv class\x3d"'+soy.$$escapeHtmlAttribute(f)+'"/\x3e':
"")+'\x3c/div\x3e\x3cdiv class\x3d"canva2TransitionalDialog__content"\x3e\x3cdiv class\x3d"canva2TransitionalDialog__section"\x3e'+soy.$$escapeHtml(h)+"\x3c/div\x3e"+(p?'\x3cdiv class\x3d"canva2TransitionalDialog__section"\x3e'+soy.$$escapeHtml(p)+"\x3c/div\x3e":"")+(k?'\x3cdiv class\x3d"canva2TransitionalDialog__section"\x3e'+soy.$$escapeHtml(k)+"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"canva2TransitionalDialog__footer"\x3e'+fk({v:"canva2TransitionalDialog__confirmButton buttonSubmittable",
text:r})+(a?'\x3ca class\x3d"canva2TransitionalDialog__dismissLink" href\x3d"javascript:void(0);"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")}))}
function rn(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(null==a.ra||a.ra instanceof goog.soy.data.SanitizedContent||goog.isString(a.ra),"badgeLabel",a.ra,"null|string|undefined");var c=a.ra;soy.asserts.assertType(a.ca instanceof goog.soy.data.SanitizedContent||a.ca instanceof soydata.SanitizedHtml||a.ca instanceof soydata.UnsanitizedText||goog.isString(a.ca),
"section1",a.ca,"!soydata.SanitizedHtml|string");var d=a.ca;soy.asserts.assertType(null==a.K||a.K instanceof goog.soy.data.SanitizedContent||a.K instanceof soydata.SanitizedHtml||a.K instanceof soydata.UnsanitizedText||goog.isString(a.K),"section2",a.K,"?soydata.SanitizedHtml|string|undefined");var f=a.K;soy.asserts.assertType(null==a.Z||a.Z instanceof goog.soy.data.SanitizedContent||a.Z instanceof soydata.SanitizedHtml||a.Z instanceof soydata.UnsanitizedText||goog.isString(a.Z),"section3",a.Z,"?soydata.SanitizedHtml|string|undefined");
var g=a.Z;soy.asserts.assertType(goog.isString(a.ta)||a.ta instanceof goog.soy.data.SanitizedContent,"confirmButtonLabel",a.ta,"string|goog.soy.data.SanitizedContent");var h=a.ta;soy.asserts.assertType(null==a.ia||a.ia instanceof goog.soy.data.SanitizedContent||goog.isString(a.ia),"dismissLinkLabel",a.ia,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(qn({title:b,ra:c,Gc:!1,ca:d,K:f,Z:g,ta:h,ia:a.ia}))}
function sn(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(null==a.ra||a.ra instanceof goog.soy.data.SanitizedContent||goog.isString(a.ra),"badgeLabel",a.ra,"null|string|undefined");var c=a.ra;soy.asserts.assertType(a.ca instanceof goog.soy.data.SanitizedContent||a.ca instanceof soydata.SanitizedHtml||a.ca instanceof soydata.UnsanitizedText||goog.isString(a.ca),
"section1",a.ca,"!soydata.SanitizedHtml|string");var d=a.ca;soy.asserts.assertType(null==a.K||a.K instanceof goog.soy.data.SanitizedContent||a.K instanceof soydata.SanitizedHtml||a.K instanceof soydata.UnsanitizedText||goog.isString(a.K),"section2",a.K,"?soydata.SanitizedHtml|string|undefined");var f=a.K;soy.asserts.assertType(null==a.Z||a.Z instanceof goog.soy.data.SanitizedContent||a.Z instanceof soydata.SanitizedHtml||a.Z instanceof soydata.UnsanitizedText||goog.isString(a.Z),"section3",a.Z,"?soydata.SanitizedHtml|string|undefined");
var g=a.Z;soy.asserts.assertType(goog.isString(a.ta)||a.ta instanceof goog.soy.data.SanitizedContent,"confirmButtonLabel",a.ta,"string|goog.soy.data.SanitizedContent");var h=a.ta;soy.asserts.assertType(null==a.ia||a.ia instanceof goog.soy.data.SanitizedContent||goog.isString(a.ia),"dismissLinkLabel",a.ia,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml(qn({title:b,ra:c,Hd:"canva2TransitionalDialog__headerBackground__light",Gc:!1,ca:d,K:f,Z:g,ta:h,ia:a.ia}))}
function tn(a){a=goog.asserts.assertArray(a.Vm,"expected parameter 'tickBulletList' of type list\x3cstring\x3e.");var b="";if(0<a.length){for(var b=b+'\x3cul class\x3d"canva2TransitionalDialog__tickBulletList"\x3e',c=a.length,d=0;d<c;d++)var f=a[d],b=b+('\x3cli class\x3d"canva2TransitionalDialog__tickBulletList__item"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"canva2TransitionalDialog__tickIcon"\x3e\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpath fill\x3d"currentColor" d\x3d"M4.53 11.9L9 16.38 19.44 5.97a.75.75 0 0 1 1.06 1.06L9.53 17.97c-.3.29-.77.29-1.06 0l-5-5c-.7-.71.35-1.77 1.06-1.07z"/\x3e\x3c/svg\x3e\x3c/span\x3e')+
'\x3cspan class\x3d"canva2TransitionalDialog__tickBulletList__itemText"\x3e'+soy.$$escapeHtml(f)+"\x3c/span\x3e\x3c/li\x3e");b+="\x3c/ul\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function un(a){this.u=a;this.url="/session"}function vn(a){return V(a.u,a.url+"/user?invalidateCache",null)};function wn(a){this.value=a}wn.prototype.ae=function(){return this.value};wn.prototype.sk=function(a){this.value=a};function xn(a,b){var c=this;Y.call(this,a);this.Ea=b;a.on("click",".canva2TransitionalDialog__confirmButton",function(){c.trigger(yn)})}m(xn,Y);var yn="ACKNOWLEDGE_CLICKED";function zn(a,b,c){var d=this;this.view=b;this.H=c.H;this.N=a.N;this.D=a.D;this.xa=a.xa;this.j=a.j;this.view.on(yn,function(){return d.ie()});this.view.Ea.off(on);this.view.Ea.on(on,function(){return d.ie()})}zn.prototype.show=function(){this.j.track("canva2_option_dialog_shown",{option_type:"whats_new"});this.view.Ea.show()};zn.prototype.close=function(){this.H.close()};
zn.prototype.ie=function(){var a=this;gi(this.D,new Vb({user:this.N,vc:new Lb({name:"SEEN_FORCED_E2_DIALOG",value:new Tb({value:!0})})})).catch(function(b){return a.xa.log("Canva 2.0 what's new modal: failed to submit attribute updater request",{error:b})});this.close()};function An(a,b){var c=this;Y.call(this,a);this.Ea=b;a.on("click",".canva2TransitionalDialog__confirmButton",function(){c.trigger(Bn)});a.on("click",".canva2TransitionalDialog__dismissLink",function(){c.trigger(Cn)})}m(An,Y);An.prototype.Mh=function(a){this.$el.find(".canva2TransitionalDialog__confirmButton").toggleClass("submitting",a)};var Bn="CONFIRM_CLICKED",Cn="DISMISS_CLICKED";function Dn(a,b,c){var d=this;this.view=b;this.H=c.H;this.N=a.N;this.kd=a.kd;this.D=a.D;this.xa=a.xa;this.sd=a.sd;this.j=a.j;this.view.on(Bn,function(){return d.Ul()});this.view.on(Cn,function(){return d.Sj()});this.view.Ea.off(on);this.view.Ea.on(on,function(){return d.Sj()})}e=Dn.prototype;e.show=function(){this.j.track("canva2_option_dialog_shown",{option_type:"opt_in",from_switch_notice:!0});this.view.Ea.show()};e.close=function(){this.H.close()};
e.rk=function(){var a=this;return gi(this.D,new Vb({user:this.N,vc:new Lb({name:"SEEN_CANVA_2_FORCED_SWITCH_NOTICE_DIALOG",value:new Tb({value:!0})})})).catch(function(b){return a.xa.log("Canva 2.0 switch-in-a-week modal: failed to submit attribute updater request",{error:b})})};e.Ul=function(){var a=this;this.view.Mh(!0);var b=jc(ic(this.N),"H2");this.rk().then(function(){return fi(a.D,b)}).then(function(){return vn(a.sd)}).then(function(){return window.location.href="/"}).catch(function(){return a.view.Mh(!1)})};
e.Sj=function(){var a=this;this.rk().then(function(){if(!a.kd.ae()){var b=jc(ic(a.N),"H1");fi(a.D,b).then(function(){return vn(a.sd)}).then(function(){a.kd.sk("H1")})}});this.close()};function En(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"canva2BrowserDeprecationNoticeDialog__newTabArrowIcon"\x3e\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cg fill\x3d"currentColor" fill-rule\x3d"evenodd" transform\x3d"translate(7, 9)"\x3e\x3crect width\x3d"1" height\x3d"10" x\x3d"4.13527148" y\x3d"-.67415738" rx\x3d".5" transform\x3d"rotate(45 4.635271 4.325843)"/\x3e\x3crect width\x3d"7" height\x3d"1" x\x3d"2" rx\x3d".5"/\x3e\x3crect width\x3d"1" height\x3d"7" x\x3d"8" rx\x3d".5"/\x3e\x3c/g\x3e\x3c/svg\x3e\x3c/span\x3e')}
;function Fn(a,b){var c=this;Y.call(this,a);this.Ea=b;a.on("click",".canva2TransitionalDialog__confirmButton",function(){c.trigger(Gn)})}m(Fn,Y);Fn.prototype.Mh=function(a){this.$el.find(".canva2TransitionalDialog__confirmButton").toggleClass("submitting",a)};var Gn="ACKNOWLEDGE_CLICKED";function Hn(a,b,c){var d=this;this.view=b;this.H=c.H;this.N=a.N;this.D=a.D;this.xa=a.xa;this.j=a.j;this.view.on(Gn,function(){return d.ie()});this.view.Ea.off(on);this.view.Ea.on(on,function(){return d.ie()})}Hn.prototype.show=function(){this.j&&this.j.track("canva2_option_dialog_shown",{option_type:"old_browser"});this.view.Ea.show()};Hn.prototype.close=function(){this.H.close()};
Hn.prototype.ie=function(){var a=this;gi(this.D,new Vb({user:this.N,vc:new Lb({name:"SEEN_CANVA_2_BROWSER_DEPRECATION_NOTICE_DIALOG",value:new Tb({value:!0})})})).catch(function(b){return a.xa.log("Canva 2.0 browser deprecation modal: failed to submit attribute updater request",{error:b})});this.close()};function In(a){this.j=a.j;this.Tg=a.Tg}function Jn(a){a.j.track("homepage_visit_logged_in",{homepage_version:a.Tg?"H1.5":"H1",page:Kn()})}function Kn(){var a=window.page;switch(a){case "team-members":return"teams";case "edit-pro-brand":return"brand_kit";case "homepage-marketplace":return"marketplace";case "account":return"account_settings";case "user":case "follow":return"personal_profile";default:return"h1_layout_"+a}};$(function(){function a(){var a=Lk({user:Z,g:We,size:40,vb:!1,rb:!0,Fb:!0}),b=$("#wholePage \x3e .sidebar");a.$el.appendTo(b.find(".currentUser \x3e .avatars"));a=b[0];b=aa;b.kc||(b.kc=new od(b.config));return new $k({el:a,Y:Xg,kc:b.kc})}function b(){var a=new Lc(Kc()),b=$(".currentUser .displayNames, .avatars"),c=$(".userDisplayName",b),d=new ii({Rg:G,D:N,$i:a.F.get(Nc)}),g=aa;g.C||(g.C=new vd(g.config));return new Xk({j:B,jb:a,C:g.C,profiles:N,Gk:d,kg:We,user:Z,Bh:c,fc:b,we:"displayNamesActivated",
lg:null==Xe.getSubscription()&&a.F.get(Tc),Ob:f,Za:a.Za()})}function c(){var a=$("#showNotificationMenu"),b=a.find(".notificationsLabel");return new Xh({gc:Z.o(),fl:a,j:B,zg:d,Hf:b,tf:Nl})}function d(){var a=Z.o(),b=aa;b.eh||(b.eh=new wd(b.config));return new Dh({gc:a,ua:b.eh,position:["leftTop","top"]})}function f(){var a,b=Ln;a=Map;var c=[0,[Ci(b.Jf.paidMonthly),Ci(b.Jf.paidYearly)]],b=[Ci(b.Jf.paidMonthlyImagesPro),Ci(b.Jf.paidYearlyImagesPro)];a=new a([c,[1,b]]);a={F:La,rd:Na,j:B,g:We,hd:a,mc:0,
Rm:Mn,cc:Nn,D:N,Ma:!0,Bc:!1,ue:!1,ob:On,Md:Pn,l:aa,jb:Ma};var c={bc:a.cc,g:a.g.o(),Ja:a.Rm,Ic:!0,G:dd(a.l),j:a.j},b=new ej({Je:!1!==c.Je,G:c.G,F:c.F,j:c.j}),d=new Dj({bc:c.bc,g:c.g,fa:c.fa,Ic:c.Ic,Ja:c.Ja,F:c.F,G:c.G,view:b}),f=a.hd,c=f.has(a.mc)&&f.get(a.mc).length?f.get(a.mc)[0].Ba:30,g=a.j,h=a.cc,k=a.D,p=a.g,r=a.Md,G=a.ue,Z=a.l,Pa=a.l,f=f.get(a.mc),f=Kj(f.sort(Zj),bd(Pa)),f=new Nj({Xb:f}),b=new Xj({compact:!0,Te:b,ld:f,l:Pa,Ba:c,Qd:!0}),b=new Yj({j:g,cc:h,D:k,g:p,Pb:d,Md:r,ue:G,l:Z,Qd:!0,view:b});
return new vk({oe:"/brand/onboarding/upgrader",j:a.j,Bc:a.Bc,Ma:a.Ma,Jd:bd(a.l),ya:jd(a.l),Ia:a.Ia,Ba:c,ha:b,ob:a.ob,hd:a.hd,mc:a.mc})}function g(){$("#sidebarFacebookSignupButton").click(function(){Gc(B,"signup","logged_out_homepage","sidebar","user_profile",{auth_mode:"facebook"})});$("#sidebarEmailSignupButton").click(function(){Gc(B,"signup","logged_out_homepage","sidebar","user_profile",{auth_mode:"email"})})}function h(){var a=new wm(G),b=hd(aa),a=Am({Qb:a,N:Z.o(),F:La}),c=new Lm({yg:function(a){return new Hm({Bl:a,
O:b})},O:b,ad:Ma.F.get(Qc)});(new Xm({j:B,Bg:f,O:b,hc:a,view:c})).view.render().$el.replaceAll($(".designFolderListPlaceholder")).addClass("sidebarSection");a.fetch();a=$("#primaryNavigation");c=new Zm({Eh:a,Be:!0});c.$el.toggleClass("tabPointerHidden",!0);c.$el.appendTo(".sidebarInner");var d=$("#primaryNavigation .on"),g;d.length&&(g=a.children().index(d),c.update(g,!0,!0),c.$el.toggleClass("tabPointerHidden",!1));new cn({el:$("#wholePage").children(".sidebar").find(".sidebarViewportContainer"),
Og:function(){return g||-1},Zf:c})}function p(a){var b=a.l,c=a.rd,d=a.D,f=a.xa;a=a.j;b.tg||(b.tg=new zd(b.config));b={l:b.tg,pc:ld(b),N:c.user.o(),D:d,xa:f,j:a};d=b.l.title();f=b.pc.Pj();a=b.l.ol();var g=[b.l.hl(),b.l.il(),b.l.jl(),b.l.kl()],h=b.l.jg(),c=$;soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"title",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,"newLabel",f,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"bodyHtml",a,"soydata.SanitizedHtml");g=goog.asserts.assertArray(g,"expected parameter 'benefitList' of type list\x3cstring\x3e.");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"acknowledgeButtonLabel",h,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(sn({title:d,ra:f,ca:a,K:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+
tn({Vm:g})),ta:h}));c=c(d.toString());d=new mn(c,$(document));c=new xn(c,d);d=new pn(c.Ea);b=new zn(b,c,{H:d});$("body").append(c.$el);b.show()}function k(a){var b=a.l,c=a.rd,d=a.kd,f=a.D,g=a.sd,h=a.xa;a=a.j;b.sg||(b.sg=new Ad(b.config));b={l:b.sg,pc:ld(b),N:c.user.o(),kd:d,D:f,sd:g,xa:h,j:a};d=b.l.title();f=b.pc.Pj();g=b.l.Im();h=b.l.K();a=b.l.ta();var k=b.l.ia(),c=$;soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"title",d,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,"newLabel",f,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"section1Html",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"section2",h,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,
"confirmButtonLabel",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"dismissLinkLabel",k,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(sn({title:d,ra:f,ca:g,K:h,ta:a,ia:k}));c=c(d.toString());d=new mn(c,$(document));c=new An(c,d);d=new pn(c.Ea);b=new Dn(b,c,{H:d});$("body").append(c.$el);b.show()}function r(a){var b=a.rd,c=a.D,d=a.xa,f=a.j;a=a.l;a.rg||(a.rg=new Bd(a.config));b={l:a.rg,
N:b.user.o(),D:c,xa:d,j:f};d=b.l.title();f=b.l.ml();a=b.l.format("canva2BrowserDeprecationNoticeDialogBrowserChrome");var g=b.l.format("canva2BrowserDeprecationNoticeDialogBrowserFirefox"),h=b.l.format("canva2BrowserDeprecationNoticeDialogBrowserSafari"),k=b.l.format("canva2BrowserDeprecationNoticeDialogBrowserEdge"),p=b.l.nl(),r=b.l.jg(),c=$;soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"title",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(f)||
f instanceof goog.soy.data.SanitizedContent,"body1",f,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"chrome",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"firefox",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"safari",h,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(k)||k instanceof goog.soy.data.SanitizedContent,"edge",k,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(p instanceof soydata.SanitizedHtml||p instanceof soydata.UnsanitizedText||goog.isString(p),"body2Html",p,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(r)||r instanceof goog.soy.data.SanitizedContent,"acknowledgeButtonLabel",r,"string|goog.soy.data.SanitizedContent");d=soydata.VERY_UNSAFE.ordainSanitizedHtml(rn({title:d,ca:f,K:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cul class\x3d"canva2BrowserDeprecationNoticeDialog__browserList"\x3e\x3cli class\x3d"canva2BrowserDeprecationNoticeDialog__browserList__item"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/supported_browsers/chrome.png" width\x3d"24" height\x3d"24"\x3e\x3ca href\x3d"https://www.google.com/chrome" target\x3d"_blank" class\x3d"canva2BrowserDeprecationNoticeDialog__browserList__itemText"\x3e'+
soy.$$escapeHtml(a)+"\x3c/a\x3e"+En()+'\x3c/li\x3e\x3cli class\x3d"canva2BrowserDeprecationNoticeDialog__browserList__item"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/supported_browsers/firefox.png" width\x3d"24" height\x3d"24"\x3e\x3ca href\x3d"https://www.firefox.com" target\x3d"_blank" class\x3d"canva2BrowserDeprecationNoticeDialog__browserList__itemText"\x3e'+soy.$$escapeHtml(g)+"\x3c/a\x3e"+En()+'\x3c/li\x3e\x3cli class\x3d"canva2BrowserDeprecationNoticeDialog__browserList__item"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/supported_browsers/safari.png" width\x3d"24" height\x3d"24"\x3e\x3ca href\x3d"https://www.apple.com/safari/" target\x3d"_blank" class\x3d"canva2BrowserDeprecationNoticeDialog__browserList__itemText"\x3e'+
soy.$$escapeHtml(h)+"\x3c/a\x3e"+En()+'\x3c/li\x3e\x3cli class\x3d"canva2BrowserDeprecationNoticeDialog__browserList__item"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/supported_browsers/edge.png" width\x3d"24" height\x3d"24"\x3e\x3ca href\x3d"https://www.microsoft.com/windows/microsoft-edge" target\x3d"_blank" class\x3d"canva2BrowserDeprecationNoticeDialog__browserList__itemText"\x3e'+soy.$$escapeHtml(k)+"\x3c/a\x3e"+En()+"\x3c/li\x3e\x3c/ul\x3e"),Z:p,ta:r}));c=c(d.toString());d=new mn(c,$(document));c=new Fn(c,
d);d=new pn(c.Ea);b=new Hn(b,c,{H:d});$("body").append(c.$el);b.show()}$("body").toggleClass("highDpi",ph.cl);$(".mobileHeaderHamburger").on("click",function(){$("body").toggleClass("mobileMenuOn")});var B=nl(),G=new Fh(window.httpServiceConfig),N=new di(G),La=Kc(),Ma=new Lc(La),Nl=new Uh(G),Na=sk(),Z=Na.user.Lh(),Xe=Na.brandInfo,We=Xe.X(),aa;if(!window.cmsg)throw Error("window['cmsg'] isn't defined");aa=new Zc;var Ln=new Ij,Mn=yj(),Nn=new xj(G),Qn=!(!window.homeConfig||!window.homeConfig.showUpgradeDialog),
Rn=!(!window.homeConfig||!window.homeConfig.userCreated),On=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canUpgrade),Pn=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canEditCreditCard),Ye,Sn=new un(G),Pa="undefined"!==typeof Rollbar?new ol:new pl,Tn=Na.user.oj(),Un=window.isWeb2UnsupportedBrowser,Vc=window.integratedMinimalH2Enabled;(function(){$("menu .dropdown").on("mouseover",function(){var a=$(this),b=Number(a.data("timer"));null!=b&&clearTimeout(b);b=setTimeout(function(){a.parent().find("li.hover").not(a).removeClass("hover").addClass("hoverOff");
a.removeClass("hoverOff").addClass("hover")},0);a.data("timer",b);a.on("mouseout",function(){var b=Number(a.data("timer"));null!=b&&clearTimeout(b);b=setTimeout(function(){a.off("mouseout").removeClass("hover").addClass("hoverOff")},500);a.data("timer",b)})})})();Z.Aj()?g():(Ye=new al({j:B,jb:Ma,he:c(),dg:b(),view:a(),Ob:f,Vf:Qn,Uh:Rn,D:N,Ka:Xe}),Ye.start());pa(null==window.layoutOnUserUpdated);window.layoutOnUserUpdated=function(a){a=ec(a);Ye.Rf(a)};Ma.F.get(Oc)&&new Ql({Ig:new rl(G,ql(Ma.Gg()),
Pa),dh:1,openWindow:window.open.bind(window),l:aa,va:new wl({Ha:fd(aa).format("designSearchSidebarPlaceholderText"),el:$(".sidebarSearch"),Ef:$(".sidebarSearch").parent()}),Ag:Pl.create,j:B});$(".designFolderListPlaceholder").length&&!Vl()&&h();var Vn=new wn(Tn);Vc&&Ma.F.get(Uc)&&hi(N,new Zb({user:Z.id,attributes:["SEEN_FORCED_E2_DIALOG"]})).then(function(a){a.attributes.some(function(a){return"SEEN_FORCED_E2_DIALOG"===a.name&&a.value instanceof Tb&&a.value.value})||p({l:aa,rd:Na,D:N,xa:Pa,j:B})});
!Vc&&Ma.F.get(Wc)&&hi(N,new Zb({user:Z.id,attributes:["SEEN_CANVA_2_FORCED_SWITCH_NOTICE_DIALOG"]})).then(function(a){a.attributes.some(function(a){return"SEEN_CANVA_2_FORCED_SWITCH_NOTICE_DIALOG"===a.name&&a.value instanceof Tb&&a.value.value})||k({l:aa,rd:Na,kd:Vn,D:N,sd:Sn,xa:Pa,j:B})});Un&&!Vc&&hi(N,new Zb({user:Z.id,attributes:["SEEN_CANVA_2_BROWSER_DEPRECATION_NOTICE_DIALOG"]})).then(function(a){a.attributes.some(function(a){return"SEEN_CANVA_2_BROWSER_DEPRECATION_NOTICE_DIALOG"===a.name&&a.value instanceof
Tb&&a.value.value})||r({l:aa,rd:Na,D:N,xa:Pa,j:B})});"home"!==window.page&&Jn(new In({j:B,Tg:Vc}))});})();
